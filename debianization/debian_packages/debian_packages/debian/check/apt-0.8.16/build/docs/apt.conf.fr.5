'\" t
.\"     Title: apt.conf
.\"    Author: Jason Gunthorpe
.\" Generator: DocBook XSL Stylesheets v1.76.1 <http://docbook.sf.net/>
.\"      Date: 16 janvier 2010
.\"    Manual: APT
.\"    Source: Linux
.\"  Language: English
.\"
.TH "APT\&.CONF" "5" "16 janvier 2010" "Linux" "APT"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
apt.conf \- Fichier de configuration pour APT
.SH "DESCRIPTION"
.PP
Le fichier
apt\&.conf
est le fichier de configuration principal du l\*(Aqensemble de programmes APT, mais n\*(Aqest de loin pas le seul endroit où des choix d\*(Aqoptions peuvent être effectués\&. Tous les outils partagent les fichiers de configuration et utilisent également une analyse commune de la ligne de commande, ce qui permet de garantir un environnement d\*(Aqutilisation uniforme\&.
.PP
Lorsqu\*(Aqun programme de l\*(Aqensemble APT est utilisé, il lit le fichier de configuration dans l\*(Aqordre suivant\ \&:
.sp
.RS 4
.ie n \{\
\h'-04' 1.\h'+01'\c
.\}
.el \{\
.sp -1
.IP "  1." 4.2
.\}
fichier indiqué par la variable d\*(Aqenvironnement
\fBAPT_CONFIG\fR
si elle existe
.RE
.sp
.RS 4
.ie n \{\
\h'-04' 2.\h'+01'\c
.\}
.el \{\
.sp -1
.IP "  2." 4.2
.\}
all files in
Dir::Etc::Parts
in alphanumeric ascending order which have either no or "conf" as filename extension and which only contain alphanumeric, hyphen (\-), underscore (_) and period (\&.) characters\&. Otherwise APT will print a notice that it has ignored a file if the file doesn\*(Aqt match a pattern in the
Dir::Ignore\-Files\-Silently
configuration list \- in this case it will be silently ignored\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04' 3.\h'+01'\c
.\}
.el \{\
.sp -1
.IP "  3." 4.2
.\}
le fichier de configuration défini par
Dir::Etc::Main
.RE
.sp
.RS 4
.ie n \{\
\h'-04' 4.\h'+01'\c
.\}
.el \{\
.sp -1
.IP "  4." 4.2
.\}
les options de ligne de commande sont appliquées pour remplacer les directives de configuration ou pour charger d\*(Aqautres fichiers de configuration\&.
.RE
.SH "SYNTAXE"
.PP
Le fichier de configuration est construit comme un arbre d\*(Aqoptions organisées en groupes fonctionnels\&. On se sert du double deux points (\(Fo\ \&::\ \&\(Fc) pour indiquer une option\ \&; par exemple,
APT::Get::Assume\-Yes
est une option pour le groupe d\*(Aqoutils APT, destinée à l\*(Aqoutil Get\&. Il n\*(Aqy a pas d\*(Aqhéritage des options des groupes parents\&.
.PP
Syntaxiquement, le langage de configuration est conçu sur le même modèle que les langages utilisés par des outils ISC tels que bind et dhcp\&. Une ligne qui commence par
//
est traitée comme un commentaire et ignorée, de même que les sections de texte placées entre
/*
et
*/, tout comme les commentaires C/C++\&. Chaque ligne est de la forme\ \&:
APT::Get::Assume\-Yes "true";\&. Le point\-virgule final est obligatoire et les guillemets sont optionnels\&. La valeur doit tenir sur une seule ligne et il n\*(Aqexiste pas de fusion de chaînes\&. Elle ne doit pas comporter de guillemets\&. Le comportement du caractère barre oblique inversée "\e" et les caractères utilisés avec séquence d\*(Aqéchappement dans une valeur ne sont pas déterministes et devraient être évités\&. Le nom d\*(Aqune option peut contenir des caractères alphanumériques et \(Fo\ \&/\-:\&._+\ \&\(Fc\&. On peut déclarer un nouveau champ d\*(Aqaction avec des accolades, comme suit\ \&:
.sp
.if n \{\
.RS 4
.\}
.nf
   
APT {
  Get {
    Assume\-Yes "true";
    Fix\-Broken "true";
  };
};
.fi
.if n \{\
.RE
.\}
.PP
avec des retours à la ligne pour faciliter la lecture\&. On peut créer une liste en ouvrant un champ d\*(Aqaction et en y insérant une chaîne entre guillemets suivie d\*(Aqun point virgule pour chaque élément de la liste\&.
.sp
.if n \{\
.RS 4
.\}
.nf
   
DPkg::Pre\-Install\-Pkgs {"/usr/sbin/dpkg\-preconfigure \-\-apt";};
.fi
.if n \{\
.RE
.\}
.PP
Les modèles
/usr/share/doc/apt/examples/apt\&.conf
et
/usr/share/doc/apt/examples/configure\-index\&.gz
montrent à quoi devrait ressembler le fichier de configuration\&.
.PP
Les identifiants des options de configuration ne sont pas sensibles à la casse\&. Dans l\*(Aqexemple précédent, on pourrait donc aussi bien utiliser
dpkg::pre\-install\-pkgs\&.
.PP
Les noms des éléments de configuration sont optionnels si une liste est définie, comme cela peut se voir avec l\*(Aqexemple
DPkg::Pre\-Install\-Pkgs
précédent\&. Si vous n\*(Aqindiquez pas de nom, une nouvelle entrée ajoutera une nouvelle option à la liste\&. Dans le cas contraire, l\*(Aqoption correspondante peut être remplacée, comme toute autre option, en lui réaffectant une valeur\&.
.PP
Deux éléments spéciaux sont autorisés\ \&:
#include
(qui est obsolète et n\*(Aqest plus géré par des implémentations alternatives) et
#clear\&.
#include
inclut le fichier donné en paramètre, à moins que le nom ne se termine par une barre oblique auquel cas le répertoire entier est inclus\&.
#clear
sert à effacer une partie de l\*(Aqarbre de configuration\&. L\*(Aqélément désigné et tout ses descendants sont supprimés\&. Veuillez noter que ces lignes doivent également se terminer avec un point\-virgule\&.
.PP
La commande #clear est la seule façon de supprimer une liste ou un champ d\*(Aqaction (\(Fo\ \&scope\ \&\(Fc)\&. La réouverture d\*(Aqun scope ou le style \(Fo\ \&::\-\ \&\(Fc décrit plus loin ne remplaceront
\fIpas\fR
les entrées écrites précédemment\&. Seules les options peuvent être remplacées en leur assignant une nouvelle valeur\&. Les listes et les champs d\*(Aqaction ne peuvent être remplacés mais seulement effacés\&.
.PP
Tous les outils d\*(AqAPT possèdent une option
\fB\-o\fR
qui permet de spécifier une configuration quelconque depuis la ligne de commande\&. La syntaxe consiste en un nom complet d\*(Aqoption (par exemple
APT::Get::Assume\-Yes) suivi par un signe égal, puis par la nouvelle valeur de l\*(Aqoption\&. On peut compléter une liste en ajoutant un \(Fo\ \&::\ \&\(Fc au nom de la liste\&. Comme on peut s\*(Aqen douter, la syntaxe de champ d\*(Aqaction (\(Fo\ \&scope\ \&\(Fc) ne peut pas être indiquée à la ligne de commande\&.
.PP
Veuillez noter que vous ne pouvez utiliser \(Fo\ \&::\ \&\(Fc que pour ajouter un élément par ligne à la liste et que cela ne devrait pas être utilisé en combinaison avec la syntaxe de champ d\*(Aqaction (\(Fo\ \&scope\ \&\(Fc) qui inclut implicitement \(Fo\ \&::\ \&\(Fc\&. L\*(Aqutilisation simultanée des deux syntaxes déclenchera un bogue dont certains utilisateurs se servent comme d\*(Aqune fonctionnalité\ \&: une option avec le nom inhabituel \(Fo\ \&::\ \&\(Fc se comportera comme toute autre option nommée\&. Cela risque d\*(Aqavoir de nombreux problèmes comme conséquence, par exemple si un utilisateur écrit plusieurs lignes avec cette syntaxe
\fIerronée\fR
afin de faire un ajout à la liste, l\*(Aqeffet obtenu sera inverse puisque seule la dernière valeur pour l\*(Aqoption \(Fo\ \&::\ \&\(Fc sera utilisée\&. Les futures versions d\*(AqAPT retourneront une erreur et l\*(Aqexécution sera interrompue si cette utilisation incorrecte est rencontrée\&. Il est donc conseillé de corriger ces défauts tant qu\*(AqAPT ne s\*(Aqen plaint pas explicitement\&.
.SH "LE GROUPE APT"
.PP
Ce groupe d\*(Aqoptions contrôle le comportement global d\*(AqAPT et contient également des options communes à tous les outils\&.
.PP
Architecture
.RS 4
L\*(Aqarchitecture du système\ \&; cette option positionne l\*(Aqarchitecture à utiliser pour récupérer des fichiers et analyser des listes de paquets\&. La valeur interne par défaut est l\*(Aqarchitecture pour laquelle APT a été compilé\&.
.RE
.PP
Architectures
.RS 4
All Architectures the system supports\&. Processors implementing the
amd64
are e\&.g\&. also able to execute binaries compiled for
i386; This list is use when fetching files and parsing package lists\&. The internal default is always the native architecture (APT::Architecture) and all foreign architectures it can retrieve by calling
\fBdpkg \-\-print\-foreign\-architectures\fR\&.
.RE
.PP
Default\-Release
.RS 4
Indique la distribution à utiliser par défaut lors de l\*(Aqinstallation d\*(Aqun paquet si plusieurs versions sont disponibles\&. La valeur peut être un nom de distribution ou un numéro de version\&. Exemples\ \&: \(Fo\ \&stable\ \&\(Fc, \(Fo\ \&testing\ \&\(Fc, \(Fo\ \&squeeze\ \&\(Fc, \(Fo\ \&wheezy\ \&\(Fc, \(Fo\ \&4\&.0\ \&\(Fc, \(Fo\ \&5\&.0*\ \&\(Fc\&. Voir aussi
\fBapt_preferences\fR(5)\&.
.RE
.PP
Ignore\-Hold
.RS 4
Ignore les paquets \(Fo\ \&gelés\ \&\(Fc\ \&; cette option globale indique au système de résolution de ne pas tenir compte des paquets \(Fo\ \&gelés\ \&\(Fc dans sa prise de décision\&.
.RE
.PP
Clean\-Installed
.RS 4
Avec cette option qui est activée par défaut, la fonctionnalité \(Fo\ \&autoclean\ \&\(Fc supprime du cache tout paquet qui ne peut plus être récupéré\&. Quand cette option est désactivée, les paquets qui sont installés localement sont aussi exclus du nettoyage \- mais notez que APT ne fournit aucun moyen direct pour les réinstaller\&.
.RE
.PP
Immediate\-Configure
.RS 4
La valeur par défaut de ce réglage est \(Fo\ \&on\ \&\(Fc ce qui conduira APT à installer les paquets essentiels et importants dès que possible pendant les opérations d\*(Aqinstallation ou de mise à jour\&. Cela permet de limiter les conséquences de l\*(Aqéchec d\*(Aqun appel à
\fBdpkg\fR(1)\ \&: si cette option est désactivée, APT gérera un paquet important de la même manière qu\*(Aqun paquet \(Fo\ \&extra\ \&\(Fc\ \&; entre le dépaquetage du paquet important A et sa configuration pourront prendre place de nombreux autres opérations de dépaquetage ou de configuration\&. Ainsi, si le paquet B, qui n\*(Aqa pas de rapport avec A, provoque une erreur de
\fBdpkg\fR(1)
(p\&.\ \&ex\&. en cas d\*(Aqerreur dans les scripts du responsable), le paquet A sera alors dans l\*(Aqétat installé mais non configuré et chaque paquet qui en dépend ne fonctionnera plus nécessairement puisque sa dépendance n\*(Aqest pas satisfaite\&. Le marqueur de configuration immédiate sera aussi utilisé pour toute dépendance qui peut créer un problème, par exemple les dépendances circulaires\&. En effet, utiliser le marqueur de configuration immédiate revient à gérer une pré\-dépendance\&. Il est donc possible, en théorie, qu\*(AqAPT rencontre une situation où il lui est impossible d\*(Aqeffectuer la configuration immédiate, qu\*(Aqil se termine alors avec une erreur en faisant référence à cette option afin que l\*(Aqutilisateur puisse la désactiver temporairement pour retenter l\*(Aqopération d\*(Aqinstallation ou de mise à jour\&. Il est à noter que \(Fo\ \&en théorie\ \&\(Fc indique ici que cette situation n\*(Aqa été rencontrée que dans de rares cas, sur des versions instables de distributions, la cause étant des dépendances incorrectes ou un système déjà dans un état instable\&. Il est donc déconseillé de désactiver cette option sans réfléchir car la situation décrite précédemment n\*(Aqest qu\*(Aqun des cas où la configuration immédiate permet de résoudre des situations complexes\&. Avant de tenter une opération telle que
dist\-upgrade
avec cette option désactivée, il est largement préférable d\*(Aqessayer une opération
install
sur le paquet qu\*(AqAPT ne peut configurer immédiatement\&. Il est également conseillé de signaler ce type de problème dans le système de suivi de bogues de la distribution utilisée afin qu\*(Aqil soit étudié et corrigé\&.
.RE
.PP
Force\-LoopBreak
.RS 4
Ne jamais activer cette option à moins que vous ne sachiez \- réellement \- ce que vous faites\&. Elle autorise APT à supprimer temporairement un paquet essentiel pour mettre fin à une boucle Conflicts / Conflicts ou Conflicts / Pre\-Depends entre deux paquets essentiels\&. Une telle boucle ne devrait jamais se produire\ \&: c\*(Aqest un bogue très important\&. Cette option fonctionne si les paquets essentiels ne sont pas tar, gzip, libc, dpkg, bash ou tous les paquets dont ces paquets dépendent\&.
.RE
.PP
Cache\-Start, Cache\-Grow et Cache\-Limit
.RS 4
À partir de la version 0\&.7\&.26, APT utilise un fichier de cache de taille variable indexé en mémoire (\(Fo\ \&resizable memory mapped cache file\ \&\(Fc) pour conserver les informations du fichier \(Fo\ \&available\ \&\(Fc\&.
Cache\-Start
définit la taille minimale de ce cache et par conséquent la quantité de mémoire qu\*(AqAPT utilisera dès son lancement\&. La valeur par défaut est de 20971520 octets (environ 20\ \&Mo)\&. Il est indispensable que l\*(Aqensemble de cette mémoire soit disponible, sinon APT ne pourra se lancer\&. Il peut donc être nécessaire de diminuer cette valeur sur des systèmes disposant de peu de mémoire\&. Au contraire, pour des systèmes qui utilisent de nombreuses sources de paquet, il peut être nécessaire de l\*(Aqaugmenter\&. La valeur de
Cache\-Grow
définit, en octets, la quantité de mémoire supplémentaire qui peut être allouée au cache si la valeur définie par
Cache\-Start
est insuffisante\&. La valeur par défaut de
Cache\-Grow
est de 1048576 octets (environ 1\ \&Mo)\&. Cette augmentation se fera tant que la taille du cache sera insuffisante pour contenir toutes les informations nécessaires ou qu\*(Aqelle atteint la valeur limite définie par
Cache\-Limit\&. La valeur par défaut de
Cache\-Limit
est nulle (il n\*(Aqexiste donc pas de limite à la taille maximale du cache)\&. Si
Cache\-Grow
est égal à 0, l\*(Aqaugmentation automatique de la taille du cache est désactivée\&.
.RE
.PP
Build\-Essential
.RS 4
Cette option définit les paquets qui sont considérés comme faisant partie des dépendances essentielles pour la construction de paquets\&.
.RE
.PP
Get
.RS 4
La sous\-section
Get
contrôle l\*(Aqoutil
\fBapt-get\fR(8), veuillez consulter sa documentation pour avoir plus d\*(Aqinformations sur les options en question\&.
.RE
.PP
Cache
.RS 4
La sous\-section
Cache
contrôle l\*(Aqoutil
\fBapt-cache\fR(8), veuillez consulter sa documentation pour avoir plus d\*(Aqinformations sur les options en question\&.
.RE
.PP
CDROM
.RS 4
La sous\-section
CDROM
contrôle l\*(Aqoutil
\fBapt-cdrom\fR(8), veuillez consulter sa documentation pour avoir plus d\*(Aqinformations sur les options en question\&.
.RE
.SH "LE GROUPE ACQUIRE"
.PP
Le groupe d\*(Aqoptions
Acquire
contrôle le téléchargement des paquets et les gestionnaires d\*(AqURI\&.
.PP
Check\-Valid\-Until
.RS 4
L\*(Aqactivation de l\*(Aqoption de sécurité qui permet de mettre une limite temporelle de validité au fichier Release permet d\*(Aqéviter des attaques de type \(Fo\ \&longtime replay\ \&\(Fc et permet d\*(Aqéviter d\*(Aqutiliser des miroirs qui ne sont plus à jour\&. Cependant, cette fonctionnalité a besoin que l\*(Aqhorloge du système soit à jour\&. Les gestionnaires d\*(Aqarchives devraient créer des fichiers Release comportant l\*(Aqen\-tête
Valid\-Until\&. Cependant, si cet en\-tête est absent, la valeur du paramètre
Max\-ValidTime
est alors utilisée\&.
.RE
.PP
Max\-ValidTime
.RS 4
Seconds the Release file should be considered valid after it was created (indicated by the
Date
header)\&. If the Release file itself includes a
Valid\-Until
header the earlier date of the two is used as the expiration date\&. The default value is
0
which stands for "for ever"\&. Archive specific settings can be made by appending the label of the archive to the option name\&.
.RE
.PP
Min\-ValidTime
.RS 4
Minimum of seconds the Release file should be considered valid after it was created (indicated by the
Date
header)\&. Use this if you need to use a seldomly updated (local) mirror of a more regular updated archive with a
Valid\-Until
header instead of completely disabling the expiration date checking\&. Archive specific settings can and should be used by appending the label of the archive to the option name\&.
.RE
.PP
PDiffs
.RS 4
Essayer de télécharger les fichiers différentiels appelés
PDiffs
pour les paquets ou les fichiers sources, plutôt que de les télécharger entièrement\&. Par défaut à \(Fo\ \&true\ \&\(Fc\&.
.sp
Two sub\-options to limit the use of PDiffs are also available: With
FileLimit
can be specified how many PDiff files are downloaded at most to patch a file\&.
SizeLimit
on the other hand is the maximum percentage of the size of all patches compared to the size of the targeted file\&. If one of these limits is exceeded the complete file is downloaded instead of the patches\&.
.RE
.PP
Queue\-Mode
.RS 4
Mode de file d\*(Aqattente\ \&;
Queue\-Mode
peut prendre les valeurs
host
ou
access, ce qui détermine comment APT parallélise les connexions sortantes\&.
Host
signifie qu\*(Aqune connexion par cible sera initiée, tandis que
access
signifie qu\*(Aqune connexion par type d\*(AqURI sera initiée\&.
.RE
.PP
Retries
.RS 4
Nombre d\*(Aqessais à effectuer\&. Si ce nombre n\*(Aqest pas nul, APT essaie de récupérer, le nombre donné de fois, les fichiers dont la récupération a échoué\&.
.RE
.PP
Source\-Symlinks
.RS 4
Utilise des liens symboliques pour les archives de sources\&. Positionnée à \(Fo\ \&true\ \&\(Fc, cette option crée si possible des liens symboliques vers les archives de sources au lieu de les copier\&. Par défaut à \(Fo\ \&true\ \&\(Fc\&.
.RE
.PP
http
.RS 4
URI HTTP\ \&; http::Proxy est le mandataire (proxy) HTTP à utiliser par défaut\&. Il se présente sous la forme standard\ \&:
http://[[utilisateur][:mot_de_passe]@]hôte[:port]/\&. On peut spécifier un mandataire particulier par hôte distant en utilisant la syntaxe\ \&:
http::Proxy::<hôte>\&. Le mot\-clé spécial
DIRECT
indique alors de n\*(Aqutiliser aucun mandataire pour l\*(Aqhôte\&. Si aucun des paramètres précédents n\*(Aqest défini, la variable d\*(Aqenvironnement
\fBhttp_proxy\fR
annule et remplace toutes les options de mandataire HTTP\&.
.sp
Trois options de configuration sont fournies pour le contrôle des caches compatibles avec HTTP/1\&.1\&.
No\-Cache
signifie que le mandataire ne doit jamais utiliser les réponses qu\*(Aqil a stockées\ \&;
Max\-Age
sert uniquement pour les fichiers d\*(Aqindex\ \&: cela demande au cache de les mettre à jour quand leur ancienneté est supérieure au nombre de secondes donné\&. Debian met à jour ses fichiers d\*(Aqindex de manière quotidienne\ \&; la valeur par défaut est donc de 1 jour\&.
No\-Store
sert uniquement pour les fichiers d\*(Aqarchive et demande au cache de ne jamais garder la requête\&. Cela peut éviter de polluer un cache mandataire avec des fichiers \&.deb très grands\&. Note\ \&: Squid 2\&.0\&.2 ne prend en compte aucune de ces options\&.
.sp
L\*(Aqoption
timeout
positionne le compteur d\*(Aqexpiration du délai (timeout) utilisé par la méthode\&. Cela vaut pour tout, connexion et données\&.
.sp
Une option de configuration est fournie pour contrôler la profondeur du tube pour le cas où un serveur distant n\*(Aqest pas conforme à la RFC ou est bogué (comme Squid 2\&.0\&.2)\&.
Acquire::http::Pipeline\-Depth
a une valeur comprise entre 0 et 5\ \&: elle indique le nombre de requêtes en attente qui peuvent être émises\&. Quand la machine distante ne conserve pas correctement les connexions TCP, la valeur doit égale à 0\&. Dans le cas contraire, des données seront corrompues\&. Les machines qui ont besoin de cette option ne respectent pas la RFC 2068\&.
.sp
La bande passante utilisée peut être limité avec
Acquire::http::Dl\-Limit
qui peut prendre une valeur entière, l\*(Aqunité utilisée étant le kilo\-octet\&. La valeur par défaut est 0, ce qui correspond à aucune limitation de bande passante\&. Veuillez noter que cette option désactive implicitement le téléchargement simultané depuis plusieurs serveurs\&.
.sp
L\*(Aqoption
Acquire::http::User\-Agent
peut être utilisée pour envoyer une valeur User\-Agent modifiée pour les téléchargements HTTP, ce qui peut par exemple être utile avec certains mandataires HTTP qui n\*(Aqautorisent l\*(Aqaccès qu\*(Aqaux client s\*(Aqidentifiant de manière spécifique\&.\&.
.RE
.PP
https
.RS 4
URI HTTPS\&. Les options de contrôle de cache, de délai limite, d\*(Aqautorisation de redirection, de Dl\-Limit et de mandataire (proxy) sont les mêmes que pour la méthode
http\&. Les valeurs par défaut sont les mêmes que pour l\*(Aqoption
http
sauf si des valeurs spécifiques à https sont indiquées\&. L\*(Aqoption
Pipeline\-Depth
n\*(Aqest pas encore gérée\&.
.sp
La sous\-option
CaInfo
spécifie le fichier contenant les informations sur les certificats de confiance\&. La sous\-option booléenne
Verify\-Peer
précise si le certificat d\*(Aqhôte du serveur doit être confronté aux certificats de confiance ou pas\&. La sous\-option booléenne
Verify\-Host
précise s\*(Aqil faut vérifier ou pas le nom d\*(Aqhôte du serveur\&.
SslCert
détermine le certificat à utiliser pour l\*(Aqauthentification du client\&.
SslKey
détermine quelle clef privée doit être utilisée pour l\*(Aqauthentification du client\&.
SslForceVersion
surcharge la valeur par défaut pour la version de SSL à utiliser et peut contenir l\*(Aqune des chaînes \*(AqTLSv1\*(Aq ou \*(AqSSLv3\*(Aq\&.
.RE
.PP
ftp
.RS 4
URI FTP\ \&; ftp::Proxy est le mandataire (proxy) FTP à utiliser par défaut\&. Il se présente sous la forme standard\ \&:
ftp://[[user][:pass]@]host[:port]/\&. On peut spécifier un mandataire particulier par hôte distant en utilisant la syntaxe\ \&:
ftp::Proxy::<hôte>\&. Le mot\-clé spécial
DIRECT
indique alors de n\*(Aqutiliser aucun mandataire pour l\*(Aqhôte\&. Si aucun des paramètres précédents n\*(Aqest définis, la variable d\*(Aqenvironnement
\fBftp_proxy\fR
annule et replace toutes les options de mandataire FTP\&. Pour utiliser un mandataire FTP, vous devrez renseigner l\*(Aqentrée
ftp::ProxyLogin
dans le fichier de configuration\&. Cette entrée spécifie les commandes à envoyer au mandataire pour lui préciser à quoi il doit se connecter\&. Voyez
/usr/share/doc/apt/examples/configure\-index\&.gz
pour savoir comment faire\&. Les variables de substitution disponibles sont\ \&:
$(PROXY_USER),
$(PROXY_PASS),
$(SITE_USER),
$(SITE_PASS),
$(SITE)
et
$(SITE_PORT)\&. Chacune correspond à l\*(Aqélément respectif de l\*(AqURI\&.
.sp
L\*(Aqoption
timeout
positionne le compteur d\*(Aqexpiration du délai (timeout) utilisé par la méthode\&. Cela vaut pour tout, connexion et données\&.
.sp
Plusieurs options de configuration sont fournies pour contrôler le mode passif\&. Il est généralement plus sûr d\*(Aqactiver le mode passif et cela marche dans presque tous les environnements\&. Cependant, certaines situations nécessitent que le mode passif soit désactivé et que le mode \(Fo\ \&port\ \&\(Fc de ftp soit utilisé à la place\&. On peut le faire globalement, pour des connexions qui passent par un mandataire ou pour une machine spécifique (examinez le modèle de fichier de configuration)\&.
.sp
Il est possible de faire transiter le trafic FTP par un mandataire HTTP en positionnant la variable d\*(Aqenvironnement
\fBftp_proxy\fR
à une URL HTTP \-\- consultez la méthode http ci\-dessus pour la syntaxe\&. On ne peut pas le faire dans le fichier de configuration et il n\*(Aqest de toute façon pas recommandé d\*(Aqutiliser FTP au travers de HTTP en raison de la faible efficacité de cette méthode\&.
.sp
L\*(Aqoption
ForceExtended
contrôle l\*(Aqutilisation des commandes liées à la RFC 2428,
EPSV
et
EPRT\&. Par défaut, elle vaut \(Fo\ \&false\ \&\(Fc ce qui signifie que ces commandes ne sont utilisées que pour une connexion de type IPv6\&. Quand elle vaut \(Fo\ \&true\ \&\(Fc, on les utilise même si la connexion est de type IPv4\&. La plupart des serveurs FTP ne suivent pas la RFC 2428\&.
.RE
.PP
cdrom
.RS 4
URI CD\ \&; la seule option de configuration pour les URI de CD est le point de montage\ \&:
cdrom::Mount\ \&; il doit représenter le point de montage du lecteur de CD\-ROM indiqué dans
/etc/fstab\&. D\*(Aqautres commandes de montage et de démontage peuvent être fournies quand le point de montage ne peut être listé dans le fichier
/etc/fstab
(par exemple, un montage SMB)\&. Syntaxiquement, il faut placer
.sp
.if n \{\
.RS 4
.\}
.nf
/cdrom/::Mount "foo";
.fi
.if n \{\
.RE
.\}
.sp
dans le bloc cdrom\&. La barre oblique finale est importante\&. Les commandes de démontage peuvent être spécifiées en utilisant
UMount\&.
.RE
.PP
gpgv
.RS 4
URI GPGV\ \&; la seule option pour les URI GPGV est celle qui permet de passer des paramètres à gpgv\&.
gpgv::Options\ \&: options supplémentaires passées à gpgv\&.
.RE
.PP
CompressionTypes
.RS 4
Cette option indique la liste des types de compression comprises par les méthodes d\*(Aqacquisition\&. Des fichiers comme
Packages
peuvent être disponibles dans divers formats de compression\&. Par défaut, les méthodes d\*(Aqacquisition décompressent les fichiers compressés avec
\fBbzip2\fR,
\fBlzma\fR
et
\fBgzip\fR\&. Ce réglage permet d\*(Aqajouter à la volée des formats supplémentaires ou de modifier la méthode utilisée\&. La syntaxe à utiliser est\ \&:\ \&
.sp
.if n \{\
.RS 4
.\}
.nf
Acquire::CompressionTypes::\fIExtensionFichier\fR "\fINomMethode\fR";
.fi
.if n \{\
.RE
.\}
.sp
Le sous\-groupe
Order
peut être également utilisé pour définir l\*(Aqordre dans lequel le système d\*(Aqacquisition tentera de télécharger les fichiers compressés\&. Le premier système mentionné sera essayé en premier, puis le suivant en cas d\*(Aqéchec\&. Ainsi, pour privilégier un format par rapport à un autre, il suffit de le placer en premier dans cette liste\&. Les types par défaut qui ne sont pas déjà indiqués seront ajoutés en fin de liste au moment de l\*(Aqexécution\&. Ainsi, par exemple,
.sp
.if n \{\
.RS 4
.\}
.nf
Acquire::CompressionTypes::Order:: "gz";
.fi
.if n \{\
.RE
.\}
.sp

peut être utiliser de préférence les fichiers compressés avec
\fBgzip\fR
par rapport à
\fBbzip2\fR
et
\fBlzma\fR\&. Si l\*(Aqobjectif est d\*(Aqutiliser
\fBlzma\fR
en priorité par rapport à
\fBgzip\fR
et
\fBbzip2\fR, ce réglage doit ressembler à
.sp
.if n \{\
.RS 4
.\}
.nf
Acquire::CompressionTypes::Order { "lzma"; "gz"; };
.fi
.if n \{\
.RE
.\}
.sp
\&. Il est inutile d\*(Aqajouter explicitement
bz2
à liste car il sera ajouté automatiquement\&.
.sp
Note that at run time the
Dir::Bin::\fIMethodname\fR
will be checked: If this setting exists the method will only be used if this file exists, e\&.g\&. for the bzip2 method (the inbuilt) setting is:
.sp
.if n \{\
.RS 4
.\}
.nf
Dir::Bin::bzip2 "/bin/bzip2";
.fi
.if n \{\
.RE
.\}
.sp
Note also that list entries specified on the command line will be added at the end of the list specified in the configuration files, but before the default entries\&. To prefer a type in this case over the ones specified in the configuration files you can set the option direct \- not in list style\&. This will not override the defined list, it will only prefix the list with this type\&.
.sp
The special type
uncompressed
can be used to give uncompressed files a preference, but note that most archives don\*(Aqt provide uncompressed files so this is mostly only useable for local mirrors\&.
.RE
.PP
GzipIndexes
.RS 4
Lorsque des index compressés par gzip doivent être utilisés (pour les fichiers Packages, Sources, Translations), ceux\-ci seront compressés avec gzip au lieu d\*(Aqêtre laissés décompressés\&. Cela peut permettre de gagner beaucoup d\*(Aqespace disque au prix d\*(Aqune utilisation plus importante du processeur lorsque les caches locaux sont créés\&. Valeur par défaut\ \&:\ \&Faux (\(Fo\ \&False\ \&\(Fc)\&.
.RE
.PP
Langues
.RS 4
La sous\-section \(Fo\ \&Languages\ \&\(Fc contrôle quels fichiers
Translation
sont téléchargés et dans quel ordre APT les utilisera pour afficher les traductions de descriptions\&. APT recherchera d\*(Aqabord la première traduction disponible pour le champ Description dans la langue choisie en premier\&. Les langues peuvent être indiquées par leur code long ou court\&. Veuillez noter que tous les dépôts ne fournissent pas les fichiers
Translation
pour toutes les langues, particulièrement pour les codes rarement utilisés\&. Il est donc conseillé de vous renseigner sur ce qui est disponible avant d\*(Aqétablir des réglages impossibles\&.
.sp
La liste par défaut contient \(Fo\ \&environment\ \&\(Fc and \(Fo\ \&en\ \&\(Fc\&. La valeur \(Fo\ \&environment\ \&\(Fc a une signification spéciale\ \&: elle sera remplacée, à l\*(Aqexécution, par les codes de langues utilisés dans la variable d\*(Aqenvironnement
LC_MESSAGES\&. Les codes utilisés en double ne seront pas inclus deux fois dans la liste\&. Si
LC_MESSAGES
contient \(Fo\ \&C\ \&\(Fc, seul le fichier
Translation\-en
sera utilisé, s\*(Aqil est disponible\&. Pour forcer APT à n\*(Aqutiliser aucun fichier de traduction, il est nécessaire d\*(Aqutiliser le réglage
Acquire::Languages=none\&. La valeur \(Fo\ \&none\ \&\(Fc a une signification spéciale et indique de ne rechercher aucun fichier
Translation\&. Cela permet à l\*(Aqadministrateur local d\*(Aqindiquer à APT de télécharger des fichiers sans les utiliser si la variable d\*(Aqenvironnement ne les comporte pas\&. Ainsi, dans l\*(Aqexemple qui suit, l\*(Aqordre utilisé sera \(Fo\ \&en, fr\ \&\(Fc si dans un environnement configuré pour l\*(Aqanglais et \(Fo\ \&fr, en\ \&\(Fc pour un environnement configuré en français\&. Les fichiers pour l\*(Aqallemand seront également téléchargés mais ne sont utilisés que dans un environnement configuré pour l\*(Aqallemand\&. Dans ce dernier cas, l\*(Aqordre est alors \(Fo\ \&de, fr, en\ \&\(Fc\&.
.sp
.if n \{\
.RS 4
.\}
.nf
Acquire::Languages { "environment"; "fr"; "en"; "none"; "de"; };
.fi
.if n \{\
.RE
.\}
.RE
.SH "LES RéPERTOIRES"
.PP
Les répertoires de la section
Dir::State
concernent le système local\&.
lists
est le répertoire où placer les listes de paquets téléchargés et
status
est le nom du fichier d\*(Aqétat de
\fBdpkg\fR(1)\&.
preferences
concerne APT\ \&: c\*(Aqest le nom du fichier des préférences\&.
Dir::State
contient le répertoire par défaut préfixé à tous les sous\-éléments, quand ceux\-ci ne commencent pas par
/
ou
\&./\&.
.PP
Dir::Cache
contient les emplacements qui renseignent sur le cache local\ \&: par exemple, les deux caches de paquets
srcpkgcache
et
pkgcache, ainsi que l\*(Aqendroit où sont placées les archives téléchargées,
Dir::Cache::archives\&. On peut empêcher la création des caches en saisissant un nom vide\&. Cela ralentit le démarrage mais économise de l\*(Aqespace disque\&. Il vaut mieux se passer du cache
pkgcache
plutôt que se passer du cache
srcpkgcache\&. Comme pour
Dir::State, le répertoire par défaut est contenu dans
Dir::Cache\&.
.PP
Dir::Etc
contient l\*(Aqemplacement des fichiers de configuration,
sourcelist
indique l\*(Aqemplacement de la liste de sources et
main
est le fichier de configuration par défaut (le modifier n\*(Aqa aucun effet, à moins qu\*(Aqon ne le modifie avec le fichier de configuration indiqué par la variable
\fBAPT_CONFIG\fR)\&.
.PP
Dir::Parts
lit, par ordre d\*(Aqentrée, tous les fragments de configuration dans le répertoire indiqué\&. Ensuite, le fichier principal de configuration est chargé\&.
.PP
Les programmes binaires sont pointés par
Dir::Bin\&. L\*(Aqemplacement des gestionnaires de méthodes est indiqué par
Dir::Bin::Methods\ \&;
gzip,
bzip2,
lzma,
dpkg,
apt\-get,
dpkg\-source,
dpkg\-buildpackage
et
apt\-cache
indiquent l\*(Aqemplacement des programmes correspondants\&.
.PP
L\*(Aqoption de configuration
RootDir
a une signification particulière\&. Lorsqu\*(Aqelle est définie, tous les chemins déclarés dans
Dir::
sont considérés relativement à
RootDir,
\fImême les chemins spécifiés de manière absolue\fR\&. Ainsi par exemple si
RootDir
est défini comme
/tmp/staging, et que chemin du fichier d\*(Aqétat
Dir::State::status
est déclaré comme
/var/lib/dpkg/status
alors ce fichier sera cherché dans
/tmp/staging/var/lib/dpkg/status\&.
.PP
La liste
Ignore\-Files\-Silently
permet d\*(Aqindiquer quels sont les fichiers qu\*(AqAPT peut ignorer sans avertissement dans les répertoires contenant des fragments de configuration\&. Par défaut, les fichiers qui se terminent par
\&.disabled,
~,
\&.bak
ou
\&.dpkg\-[a\-z]+
sont ignorés\&. Comme cela est visible dans le dernier élément de cette liste, il est possible d\*(Aqutiliser la syntaxe des expressions rationnelles\&.
.SH "APT ET DSELECT"
.PP
Quand APT est utilisé comme une méthode de
\fBdselect\fR(1), plusieurs directives contrôlent le comportement par défaut\&. On les trouve dans la section
DSelect\&.
.PP
Clean
.RS 4
Mode de nettoyage du cache\ \&; cette variable peut prendre l\*(Aqune des valeurs suivantes\ \&: \(Fo\ \&always\ \&\(Fc, \(Fo\ \&prompt\ \&\(Fc, \(Fo\ \&auto\ \&\(Fc, \(Fo\ \&pre\-auto\ \&\(Fc et \(Fo\ \&never\ \&\(Fc\&. \(Fo\ \&always\ \&\(Fc et \(Fo\ \&prompt\ \&\(Fc suppriment tous les paquets du cache après la mise à niveau\ \&; \(Fo\ \&prompt\ \&\(Fc (valeur par défaut) les supprime après une demande et \(Fo\ \&auto\ \&\(Fc ne supprime que les archives qui ne peuvent plus être téléchargées (remplacées, par exemple, par une nouvelle version)\&. \(Fo\ \&pre\-auto\ \&\(Fc les supprime avant de récupérer de nouveaux paquets\&.
.RE
.PP
options
.RS 4
Le contenu de cette variable est passé comme options de ligne de commande à
\fBapt-get\fR(8)
lors de la phase d\*(Aqinstallation\&.
.RE
.PP
UpdateOptions
.RS 4
Le contenu de cette variable est passé comme options de ligne de commande à
\fBapt-get\fR(8)
lors de la phase de mise à jour\&.
.RE
.PP
PromptAfterUpdate
.RS 4
Si cette option est \(Fo\ \&true\ \&\(Fc, l\*(Aqopération [U]pdate de
\fBdselect\fR(1)
interroge toujours l\*(Aqutilisateur avant de continuer\&. Par défaut, ce n\*(Aqest qu\*(Aqen cas d\*(Aqerreur que l\*(Aqon propose à l\*(Aqutilisateur d\*(Aqintervenir\&.
.RE
.SH "MéTHODE D'APPEL DE DPKG(1) PAR APT"
.PP
Plusieurs directives de configuration contrôlent la manière dont APT invoque
\fBdpkg\fR(1)\ \&: elles figurent dans la section
DPkg\&.
.PP
options
.RS 4
Il s\*(Aqagit d\*(Aqune liste d\*(Aqoptions à passer à
\fBdpkg\fR(1)\&. Les options doivent être déclarées en utilisant la notation de liste et chaque élément de la liste est passé comme un seul paramètre à
\fBdpkg\fR(1)\&.
.RE
.PP
Pre\-Invoke, Post\-Invoke
.RS 4
Il s\*(Aqagit d\*(Aqune liste de commandes shell à exécuter avant ou après l\*(Aqappel de
\fBdpkg\fR(1)\&. Tout comme pour
Options, on doit utiliser la notation de liste\&. Les commandes sont appelées dans l\*(Aqordre, en utilisant
/bin/sh\ \&: APT s\*(Aqarrête dès que l\*(Aqune d\*(Aqelles échoue\&.
.RE
.PP
Pre\-Install\-Pkgs
.RS 4
Il s\*(Aqagit d\*(Aqune liste de commandes shell à exécuter avant d\*(Aqappeler
\fBdpkg\fR(1)\&. Tout comme pour
Options, on doit utiliser la notation de liste\&. Les commandes sont appelées dans l\*(Aqordre, en utilisant
/bin/sh\ \&: APT s\*(Aqarrête dès que l\*(Aqune d\*(Aqelles échoue\&. Sur l\*(Aqentrée standard, APT transmet aux commandes les noms de tous les fichiers \&.deb qu\*(Aqil va installer, à raison d\*(Aqun par ligne\&.
.sp
La deuxième version de ce protocole donne plus de renseignements\ \&: on obtient la version du protocole, la configuration de APT et les paquets, fichiers ou versions qui ont changé\&. On autorise cette version en positionnant
DPkg::Tools::Options::cmd::Version
à 2\&.
cmd
est une commande passée à
Pre\-Install\-Pkgs\&.
.RE
.PP
Run\-Directory
.RS 4
APT se place dans ce répertoire avant d\*(Aqappeler
\fBdpkg\fR(1)\ \&; par défaut, c\*(Aqest le répertoire
/\&.
.RE
.PP
Build\-options
.RS 4
Ces options sont passées à
\fBdpkg-buildpackage\fR(1)
lors de la compilation des paquets\ \&; par défaut la signature est désactivée et tous les binaires sont créés\&.
.RE
.SS "utilisation des actions différées (\(Fo\ \&triggers\ \&\(Fc) de dpkg (et options associées)"
.PP
APT peut lancer dpkg pour utiliser les actions différées de manière agressive entre les appels successifs à dpkg\&. Sans options supplémentaires, dpkg n\*(Aqutilisera les actions différées que dans le cadre de sa propre exécution\&. Si ces options sont utilisées, le temps d\*(Aqexécution peut diminuer fortement dans les actions d\*(Aqinstallation ou de mise à jour\&. Il est prévu de les activer par défaut dans le futur mais étant donné qu\*(Aqelles changent notablement la méthode qu\*(Aqutilise APT pour lancer dpkg, elles ont besoin d\*(Aqimportantes validations\&.
\fICes options sont donc expérimentales et ne devraient pas être utilisées avec des environnements de production\&.\fR\&. Elles modifient également le suivi de progression et toutes les interfaces passeront la moitié du temps à un état terminé à 100% pendant la configuration des paquets\&.
.PP
Veuillez noter que rien ne garantit qu\*(AqAPT gérera encore ces options dans le futur ou qu\*(Aqelles ne provoqueront pas de nombreux dégâts\&. Si vous avez bien compris les implications de ce choix et êtes suffisamment motivé(e) pour essayer ces options, il vous est donc possible de créer un nouveau fichier de configuration et essayer une combinaison de ces options\&. Veuillez signaler tout bogue, problèmes ou suggestions d\*(Aqamélioration en prenant soin de mentionner les options utilisées\&. Utiliser l\*(Aqaide apportée par dpkg peut également être utile pour le débogage, par exemple
\fBdpkg \-\-audit\fR\&. Une combinaison intéressante d\*(Aqoptions pourrait être
.sp
.if n \{\
.RS 4
.\}
.nf
DPkg::NoTriggers "true";
PackageManager::Configure "smart";
DPkg::ConfigurePending "true";
DPkg::TriggersPending "true";
.fi
.if n \{\
.RE
.\}
.sp
\&.
.PP
DPkg::NoTriggers
.RS 4
Ajoute l\*(Aqoption \(Fo\ \&no\-triggers\ \&\(Fc à tous les appels à dpkg (hormis l\*(Aqappel \(Fo\ \&ConfigurePending\ \&\(Fc)\&. Voir
\fBdpkg\fR(1)
pour plus d\*(Aqinformations sur la signification de cette option\&. En résumé, dpkg n\*(Aqeffectuera pas les actions différées (\(Fo\ \&triggers\ \&\(Fc) si cette option est utilisée sauf si cela est demandé explicitement dans une invocation supplémentaire\&. Cette option existe en fait déjà (mais n\*(Aqest pas documentée) dans de plus anciennes version d\*(AqAPT avec une signification légèrement différente\ \&: elle n\*(Aqajoutait l\*(Aqoption \(Fo\ \&\-\-no\-triggers\ \&\(Fc qu\*(Aqaux appels de dpkg avec \(Fo\ \&configure\ \&\(Fc alors que cela sera désormais utilisé également avec les appels à dpkg avec les options \(Fo\ \&unpack\ \&\(Fc et \(Fo\ \&remove\ \&\(Fc\&.
.RE
.PP
PackageManager::Configure
.RS 4
Les valeurs possibles sont \(Fo\ \&all\ \&\(Fc, \(Fo\ \&smart\ \&\(Fc et \(Fo\ \&no\ \&\(Fc\&. La valeur par défaut est \(Fo\ \&all\ \&\(Fc où APT configure explicitement tous les paquets\&. La valeur \(Fo\ \&smart\ \&\(Fc permet de ne configurer que les paquets qui ont besoin de l\*(Aqêtre avant la décompaction d\*(Aqun autre paquet (à cause d\*(Aqune pré\-dépendance)\ \&; les autres configurations sont laissées pour un appel ultérieur à dpkg\&. L\*(Aqoption \(Fo\ \&no\ \&\(Fc ne provoquera aucune configuration et s\*(Aqen remettra totalement à dpkg pour ces opérations (ce qui échouera en cas de pré\-dépendances)\&. Si cette option est définie sur une valeur différente de \(Fo\ \&all\ \&\(Fc, l\*(Aqoption suivante sera activée par défaut pour éviter de placer le système dans un état non configuré et donc éventuellement non amorçable\&.
.RE
.PP
DPkg::ConfigurePending
.RS 4
Si cette option est choisie, APT lancera
\fBdpkg \-\-configure \-\-pending\fR
pour laisser dpkg gérer les configurations de paquets et les actions différées\&. Cette option est automatiquement activée si l\*(Aqoption précédente a une valeur différente de \(Fo\ \&all\ \&\(Fc\&. Il peut par contre être utile de la désactiver pour lancer APT plusieurs fois successives, par exemple quand il est utilisé depuis un outil d\*(Aqinstallation\&. Dans ce cas, seul le dernier de tous les appels successifs peut conserver l\*(Aqoption active\&.
.RE
.PP
DPkg::TriggersPending
.RS 4
Cette option est utile pour la configuration en mode \(Fo\ \&smart\ \&\(Fc\&. En effet, un paquet qui a des actions différées (\(Fo\ \&triggers\ \&\(Fc) en attente n\*(Aqest pas considéré comme installé (état \(Fo\ \&installed\ \&\(Fc) et dpkg le considère actuellement comme simplement décompacté (état \(Fo\ \&unpacked\ \&\(Fc) ce qui empêche une gestion correcte des pré\-dépendances (voir le bogue Debian #526774)\&. Veuillez noter que cette option provoquera la gestion de toutes les actions différées, pas seulement celles concernant le paquet en cours de traitement\&.
.RE
.PP
PackageManager::UnpackAll
.RS 4
Cette option permet de ne trier les opérations de décompactage qu\*(Aqen fonction de leur criticité (c\*(Aqest à dire en ne considérant que les pré\-dépendances) dans le cas où la configuration des paquets est différée pour n\*(Aqêtre effectuée qu\*(Aqà la fin par dpkg\&. Cette option est active par défaut, ce qui revient à la méthode traditionnelle où les opérations ont lieu en plusieurs étapes, selon l\*(Aqensemble des critères de tri\&. Bien que les deux méthodes existent même dans les versions, la méthode \(Fo\ \&OrderCritical\ \&\(Fc n\*(Aqétait pas utilisée\&. Elle doit donc être considérée comme très expérimentale et a besoin de nombreuses améliorations avant de devenir réellement utile\&. (Note du traducteur\ \&:\ \&la version originale de cette partie des pages de manuel est très confuse\&. Il est donc conseillé de s\*(Aqy reporter en cas de doute car le contresens de traduction n\*(Aqest pas exclu\&.\&.\&.)\&.
.RE
.PP
OrderList::Score::Immediate
.RS 4
Les paquets essentiels (et leurs dépendances) devraient être configurés après avoir été décompressés\&. Il est conseillé que cette opération ait lieu le plus tôt possible dans le processus de mise à jour car ces opérations de configuration nécessitent également
DPkg::TriggersPending, ce qui peut conduire à l\*(Aqexécution de certains actions différées qui ne sont pas nécessairement utiles\&. Les paquets essentiels obtiennent par défaut un score élevé mais le marqueur \(Fo\ \&immédiat\ \&\(Fc implique un score assez bas (par exemple un paquet qui comporte des prédépendances obtient un score plus élevé)\&. Cette option et les options du même groupe permettent de modifier la façon d\*(Aqattribuer un score\&. L\*(Aqexemple ci\-dessous indique ces réglages avec leurs valeurs par défaut\&.
.sp
.if n \{\
.RS 4
.\}
.nf
OrderList::Score {
	Delete 500;
	Essential 200;
	Immediate 10;
	PreDepends 50;
};
.fi
.if n \{\
.RE
.\}
.sp
.RE
.SH "OPTIONS \(Fo\ \&PERIODIC\ \&\(Fc ET \(Fo\ \&ARCHIVE\ \&\(Fc"
.PP
Les groupes d\*(Aqoptions
APT::Periodic
et
APT::Archive
configurent les comportements périodiques réalisés par le script
/etc/cron\&.daily/apt, lancé quotidiennement\&.
.SH "LES OPTIONS DE DéBOGAGE"
.PP
Les options de la section
Debug::
servent soit à provoquer l\*(Aqaffichage d\*(Aqinformations de débogage sur la sortie d\*(Aqerreur standard du programme qui utilise les librairies APT, soit à activer des modes de fonctionnement spéciaux qui sont principalement utiles pour déboguer le comportement de
APT\&. La plupart de ces options n\*(Aqont pas d\*(Aqintérêt pour un utilisateur normal, mais certaines peuvent tout de même être utiles\ \&:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}

Debug::pkgProblemResolver
affiche d\*(Aqintéressantes informations sur les décisions prises par les commandes
dist\-upgrade, upgrade, install, remove et purge\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}

Debug::NoLocking
désactive le verrouillage de fichier de manière à ce qu\*(AqAPT puisse effectuer quelques opérations (telles que
apt\-get \-s install) sans avoir les privilèges du superutilisateur\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}

Debug::pkgDPkgPM
affiche la ligne de commande à chaque appel de
\fBdpkg\fR(1)\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}


Debug::IdentCdrom
désactive l\*(Aqinclusion de données de type statfs dans les identifiants de CD\&.
.RE
.PP
Liste complète des options de débogage de APT\ \&:
.PP
Debug::Acquire::cdrom
.RS 4
Affiche les informations concernant les sources de type
cdrom://
.RE
.PP
Debug::Acquire::ftp
.RS 4
Affiche les informations concernant le téléchargement de paquets par FTP\&.
.RE
.PP
Debug::Acquire::http
.RS 4
Affiche les informations concernant le téléchargement de paquets par HTTP\&.
.RE
.PP
Debug::Acquire::https
.RS 4
Print information related to downloading packages using HTTPS\&.
.RE
.PP
Debug::Acquire::gpgv
.RS 4
Affiche les informations relatives à la vérification de signatures cryptographiques avec
gpg\&.
.RE
.PP
Debug::aptcdrom
.RS 4
Affiche des informations concernant l\*(Aqaccès aux collections de paquets stockées sur CD\&.
.RE
.PP
Debug::BuildDeps
.RS 4
Décrit le processus de résolution des dépendances pour la construction de paquets source (\ \&\(Fo\ \&build\-dependencies\ \&\(Fc\ \&) par
\fBapt-get\fR(8)\&.
.RE
.PP
Debug::Hashes
.RS 4
Affiche toutes les clefs de hachage cryptographiques créées par les librairies d\*(Aqapt\&.
.RE
.PP
Debug::IdentCDROM
.RS 4
Désactive l\*(Aqinclusion des données de type
statfs
pour la génération des identifiants de CD, c\*(Aqest\-à\-dire le nombre de blocs libres et utilisés sur le système de fichier du CD\&.
.RE
.PP
Debug::NoLocking
.RS 4
Désactive le verrouillage de fichiers\&. Cela permet par exemple de lancer deux instances de
\(lqapt\-get update\(rq
en même temps\&.
.RE
.PP
Debug::pkgAcquire
.RS 4
Trace les ajouts et suppressions d\*(Aqéléments de la queue globale de téléchargement\&.
.RE
.PP
Debug::pkgAcquire::Auth
.RS 4
Affiche les détails de la vérification des sommes de contrôle et des signatures cryptographiques des fichiers téléchargés, ainsi que les erreurs éventuelles\&.
.RE
.PP
Debug::pkgAcquire::Diffs
.RS 4
Affiche les informations de téléchargement et de prise en compte des fichiers différentiels des indexes de paquets, ainsi que les erreurs éventuelles\&.
.RE
.PP
Debug::pkgAcquire::RRed
.RS 4
Affiche les détails de l\*(Aqapplication des fichiers de différences aux listes de paquets d\*(AqAPT quand ces fichiers de différences sont téléchargés à la place des fichiers complets\&.
.RE
.PP
Debug::pkgAcquire::Worker
.RS 4
Affiche toutes les interactions avec les processus enfants qui se chargent effectivement des téléchargements\&.
.RE
.PP
Debug::pkgAutoRemove
.RS 4
Affiche les changements concernant le marquage des paquets comme installés automatiquement, et la suppression des paquets inutiles\&.
.RE
.PP
Debug::pkgDepCache::AutoInstall
.RS 4
Crée les informations de débogage décrivant quels paquets sont installés automatiquement pour satisfaire les dépendances\&. Cela concerne la passe initiale d\*(Aqinstallation automatique effectuée par exemple par
apt\-get install
et pas le système de résolution de dépendances complet de APT\ \&; voir
Debug::pkgProblemResolver
pour ce dernier\&.
.RE
.PP
Debug::pkgDepCache::Marker
.RS 4
Crée les informations de débogage décrivant quels paquets sont gardés/installés/supprimés pendant le travail de l\*(Aqoutil de résolution de problèmes\&. Chaque ajout ou suppression peut impliquer des actions supplémentaires\ \&;\ \&elles sont alors indiquées avec une indentation de deux espaces de plus que l\*(Aqaction qui les a déclenchées\&. Le format de chaque ligne est
MarkKeep,
MarkDelete
ou
MarkInstall
suivi de
nom\-paquet <a\&.b\&.c \-> d\&.e\&.f | x\&.y\&.z> (section)
où
a\&.b\&.c
est la version actuelle du paquet,
d\&.e\&.f
la version devant être installée et
x\&.y\&.z
une version plus récente qui n\*(Aqest pas prévue pour être installée (à cause d\*(Aqun score plus faible)\&. Ces deux derniers éléments peuvent ne pas être mentionnés s\*(Aqils ne sont pas pertinents où lorsque ils sont identiques à la version installée\&.
section
est le nom de la section où figure le paquet\&.automatiquement pour satisfaire les dépendances\&. Cela concerne la passe initiale d\*(Aqinstallation automatique effectuée par exemple par
apt\-get install
et pas le système de résolution de dépendances complet de APT\ \&; voir
Debug::pkgProblemResolver
pour ce dernier\&.
.RE
.PP
Debug::pkgInitConfig
.RS 4
Affiche, au lancement, l\*(Aqensemble de la configuration sur la sortie d\*(Aqerreur standard\&.
.RE
.PP
Debug::pkgDPkgPM
.RS 4
Affiche la commande exacte d\*(Aqinvocation de
\fBdpkg\fR(1)
à chaque appel\ \&; les paramètres sont séparés par des espaces\&.
.RE
.PP
Debug::pkgDPkgProgressReporting
.RS 4
Affiche l\*(Aqensemble des informations reçues de
\fBdpkg\fR(1)
par l\*(Aqintermédiaire du descripteur de fichier d\*(Aqétat, et les éventuelles erreurs d\*(Aqanalyse de ce fichier\&.
.RE
.PP
Debug::pkgOrderList
.RS 4
Affiche les étapes de l\*(Aqalgorithme utilisé pour choisir l\*(Aqordre dans lequel
apt
passe les paquets à
\fBdpkg\fR(1)\&.
.RE
.PP
Debug::pkgPackageManager
.RS 4
Affiche le détail des opérations liées à l\*(Aqinvocation de
\fBdpkg\fR(1)\&.
.RE
.PP
Debug::pkgPolicy
.RS 4
Affiche, au lancement, la priorité de chaque liste de paquets\&.
.RE
.PP
Debug::pkgProblemResolver
.RS 4
Affiche la trace d\*(Aqexécution du système de résolution de dépendances (ne concerne que les cas où un problème de dépendances complexe se présente)\&.
.RE
.PP
Debug::pkgProblemResolver::ShowScores
.RS 4
Affiche la liste de tous les paquets installés avec leur score calculé par l\*(Aqoutil de résolution de problèmes\&. La description du paquet est celle qui est décrite dans
Debug::pkgDepCache::Marker\&.
.RE
.PP
Debug::sourceList
.RS 4
Affiche les fournisseurs déclarés dans le fichier
/etc/apt/vendors\&.list\&.
.RE
.SH "EXEMPLES"
.PP
Le fichier
/usr/share/doc/apt/examples/configure\-index\&.gz
contient un modèle de fichier montrant des exemples pour toutes les options existantes\&.
.SH "FICHIERS"
.PP
/etc/apt/apt\&.conf
.RS 4
Fichier de configuration d\*(AqAPT\&. Élément de configuration\ \&:
Dir::Etc::Main\&.
.RE
.PP
/etc/apt/apt\&.conf\&.d/
.RS 4
Fragments du fichier de configuration d\*(AqAPT\&. Élément de configuration\ \&:
Dir::Etc::Parts\&.
.RE
.SH "VOIR AUSSI"
.PP

\fBapt-cache\fR(8),
\fBapt-config\fR(8),
\fBapt_preferences\fR(5)\&.
.SH "BOGUES"
.PP
\m[blue]\fBPage des bogues d\*(AqAPT\fR\m[]\&\s-2\u[1]\d\s+2\&. Si vous souhaitez signaler un bogue à propos d\*(AqAPT, veuillez lire
/usr/share/doc/debian/bug\-reporting\&.txt
ou utiliser la commande
\fBreportbug\fR(1)\&.
.SH "TRADUCTEURS"
.PP
Jérôme Marant, Philippe Batailler, Christian Perrier
<bubulle@debian\&.org>
(2000, 2005, 2009, 2010), Équipe de traduction francophone de Debian
<debian\-l10n\-french@lists\&.debian\&.org>
.PP
Veuillez noter que cette traduction peut contenir des parties non traduites\&. Cela est volontaire, pour éviter de perdre du contenu quand la traduction est légèrement en retard sur le contenu d\*(Aqorigine\&.
.SH "AUTHORS"
.PP
\fBJason Gunthorpe\fR
.RS 4
.RE
.PP
\fBÉquipe de développement d\*(AqAPT\fR
.RS 4
.RE
.PP
\fBDaniel Burrows\fR <\&dburrows@debian\&.org\&>
.RS 4
Documentation d\*(Aqorigine de Debug::*\&.
.RE
.SH "NOTES"
.IP " 1." 4
Page des bogues d'APT
.RS 4
\%http://bugs.debian.org/src:apt
.RE
