<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>apt: pkgAcqIndexDiffs Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">apt
   &#160;<span id="projectnumber">@VERSION@</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">pkgAcqIndexDiffs Class Reference<div class="ingroups"><a class="el" href="group__acquire.html">Acquire system					{{{</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="pkgAcqIndexDiffs" --><!-- doxytag: inherits="pkgAcquire::Item" -->
<p>An item that is responsible for fetching all the patches {{{ that need to be applied to a given package index file.  
 <a href="classpkgAcqIndexDiffs.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="acquire-item_8h_source.html">acquire-item.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for pkgAcqIndexDiffs:</div>
<div class="dyncontent">
<div class="center"><img src="classpkgAcqIndexDiffs__inherit__graph.png" border="0" usemap="#pkgAcqIndexDiffs_inherit__map" alt="Inheritance graph"/></div>
<map name="pkgAcqIndexDiffs_inherit__map" id="pkgAcqIndexDiffs_inherit__map">
<area shape="rect" id="node2" href="classpkgAcquire_1_1Item.html" title="Represents the process by which a pkgAcquire object should {{{ retrieve a file or a collection of fil..." alt="" coords="45,86,91,117"/><area shape="rect" id="node4" href="classWeakPointable.html" title="WeakPointable" alt="" coords="12,6,124,37"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for pkgAcqIndexDiffs:</div>
<div class="dyncontent">
<div class="center"><img src="classpkgAcqIndexDiffs__coll__graph.png" border="0" usemap="#pkgAcqIndexDiffs_coll__map" alt="Collaboration graph"/></div>
<map name="pkgAcqIndexDiffs_coll__map" id="pkgAcqIndexDiffs_coll__map">
<area shape="rect" id="node2" href="classpkgAcquire_1_1Item.html" title="Represents the process by which a pkgAcquire object should {{{ retrieve a file or a collection of fil..." alt="" coords="827,237,872,267"/><area shape="rect" id="node16" href="structpkgAcquire_1_1ItemDesc.html" title="Represents a single download source from which an item should be downloaded." alt="" coords="1189,385,1267,415"/><area shape="rect" id="node4" href="classWeakPointable.html" title="WeakPointable" alt="" coords="1237,89,1349,119"/><area shape="rect" id="node25" href="classpkgAcquire_1_1Worker.html" title="A fetch subprocess." alt="" coords="463,721,527,751"/><area shape="rect" id="node6" href="classpkgAcquire.html" title="The core download scheduler. {{{." alt="" coords="424,521,515,551"/><area shape="rect" id="node11" href="classpkgAcquire_1_1Queue.html" title="A single download queue in a pkgAcquire object. {{{." alt="" coords="356,619,417,650"/><area shape="rect" id="node14" href="structpkgAcquire_1_1Queue_1_1QItem.html" title="A single item placed in this queue." alt="" coords="437,822,493,853"/><area shape="rect" id="node19" title="STL class." alt="" coords="735,89,788,119"/><area shape="rect" id="node29" href="structpkgAcquire_1_1MethodConfig.html" title="Information about the properties of a single acquire method. {{{." alt="" coords="156,385,263,415"/><area shape="rect" id="node49" href="structDiffInfo.html" title="Information about an index patch (aka diff)." alt="" coords="896,237,957,267"/><area shape="rect" id="node53" href="classHashString.html" title="HashString" alt="" coords="744,317,829,347"/><area shape="rect" id="node21" title="STL class." alt="" coords="691,6,832,37"/><area shape="rect" id="node35" href="classpkgAcquireStatus.html" title="A monitor object for downloads controlled by the pkgAcquire class. {{{." alt="" coords="575,385,700,415"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classpkgAcqIndexDiffs-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#ad7c33b8520f000b8dfdf48431ddf2949">Failed</a> (std::string Message, <a class="el" href="structpkgAcquire_1_1MethodConfig.html">pkgAcquire::MethodConfig</a> *Cnf)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the patch file failed to be downloaded.  <a href="#ad7c33b8520f000b8dfdf48431ddf2949"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#aa3ae904a406da88bc67dd2e9e556dffa">Done</a> (std::string Message, unsigned long long Size, std::string Md5Hash, <a class="el" href="structpkgAcquire_1_1MethodConfig.html">pkgAcquire::MethodConfig</a> *Cnf)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked by the acquire worker when the object was fetched successfully.  <a href="#aa3ae904a406da88bc67dd2e9e556dffa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#a853c32904fff75b1a5d2c68441f41cad">DescURI</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A "descriptive" URI-like string.  <a href="#a853c32904fff75b1a5d2c68441f41cad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#a399edc6f336ab0cd08ce630e49e8a95f">pkgAcqIndexDiffs</a> (<a class="el" href="classpkgAcquire.html">pkgAcquire</a> *<a class="el" href="classpkgAcquire_1_1Item.html#a76f8c48f1e7f5669a16a9d5e863edd10">Owner</a>, std::string <a class="el" href="classURI.html">URI</a>, std::string URIDesc, std::string <a class="el" href="classpkgAcquire_1_1Item.html#a0fc996230e235126c070608a0e170fe5">ShortDesc</a>, <a class="el" href="classHashString.html">HashString</a> <a class="el" href="classpkgAcqIndexDiffs.html#a30ce4163915317207b0c3ce437725e07">ExpectedHash</a>, std::string <a class="el" href="classpkgAcqIndexDiffs.html#aa21f20c0300cbd25b4b4a51802f5ad80">ServerSha1</a>, std::vector&lt; <a class="el" href="structDiffInfo.html">DiffInfo</a> &gt; diffs=std::vector&lt; <a class="el" href="structDiffInfo.html">DiffInfo</a> &gt;())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an index diff item.  <a href="#a399edc6f336ab0cd08ce630e49e8a95f"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#ab2898413cf073f60c8ea280c811c3edf">DiffState</a> { <a class="el" href="classpkgAcqIndexDiffs.html#ab2898413cf073f60c8ea280c811c3edfa82b287c62411f8b692402f8df1e68cc8">StateFetchUnkown</a>, 
<a class="el" href="classpkgAcqIndexDiffs.html#ab2898413cf073f60c8ea280c811c3edfaec3dbb53054bff15ce3c49882de26f84">StateFetchDiff</a>, 
<a class="el" href="classpkgAcqIndexDiffs.html#ab2898413cf073f60c8ea280c811c3edfa41b47b46b061b0d7b111045af4f2e727">StateUnzipDiff</a>, 
<a class="el" href="classpkgAcqIndexDiffs.html#ab2898413cf073f60c8ea280c811c3edfa85e95bc535755d0bcc1421d7daa90f0e">StateApplyDiff</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acdf3472c9b75f32dae88032d42d1cb6c"></a><!-- doxytag: member="pkgAcqIndexDiffs::Debug" ref="acdf3472c9b75f32dae88032d42d1cb6c" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#acdf3472c9b75f32dae88032d42d1cb6c">Debug</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">If <b>true</b>, debugging output will be written to std::clog. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a63a8c90526aa28ea8a9c2458a53846bc"></a><!-- doxytag: member="pkgAcqIndexDiffs::Desc" ref="a63a8c90526aa28ea8a9c2458a53846bc" args="" -->
<a class="el" href="structpkgAcquire_1_1ItemDesc.html">pkgAcquire::ItemDesc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#a63a8c90526aa28ea8a9c2458a53846bc">Desc</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A description of the item that is currently being downloaded. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a60820e30470dce6f22aa8ced3fd96628"></a><!-- doxytag: member="pkgAcqIndexDiffs::RealURI" ref="a60820e30470dce6f22aa8ced3fd96628" args="" -->
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#a60820e30470dce6f22aa8ced3fd96628">RealURI</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="classURI.html">URI</a> of the package index file that is being reconstructed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a30ce4163915317207b0c3ce437725e07"></a><!-- doxytag: member="pkgAcqIndexDiffs::ExpectedHash" ref="a30ce4163915317207b0c3ce437725e07" args="" -->
<a class="el" href="classHashString.html">HashString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#a30ce4163915317207b0c3ce437725e07">ExpectedHash</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The HashSum of the package index file that is being reconstructed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#a72a1a381861908396ddca53a1fa28f97">Description</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structDiffInfo.html">DiffInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#a6822b4355d68d4683938302c3c4bee8b">available_patches</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcqIndexDiffs.html#aa21f20c0300cbd25b4b4a51802f5ad80">ServerSha1</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9039273ef3cb4b07493c2ef919f5a876"></a><!-- doxytag: member="pkgAcqIndexDiffs::State" ref="a9039273ef3cb4b07493c2ef919f5a876" args="" -->
enum <a class="el" href="classpkgAcqIndexDiffs.html#ab2898413cf073f60c8ea280c811c3edf">pkgAcqIndexDiffs::DiffState</a>&#160;</td><td class="memItemRight" valign="bottom"><b>State</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>An item that is responsible for fetching all the patches {{{ that need to be applied to a given package index file. </p>
<p>After downloading and applying a single patch, this item will enqueue a new <a class="el" href="classpkgAcqIndexDiffs.html" title="An item that is responsible for fetching all the patches {{{ that need to be applied to a given packa...">pkgAcqIndexDiffs</a> to download and apply the remaining patches. If no patch can be found that applies to an intermediate file or if one of the patches cannot be downloaded, falls back to downloading the entire package index file using <a class="el" href="classpkgAcqIndex.html" title="An acquire item that is responsible for fetching an index {{{ file (e.g., Packages or Sources)...">pkgAcqIndex</a>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classpkgAcqDiffIndex.html" title="An item that is responsible for fetching an index file of {{{ package list diffs and starting the pac...">pkgAcqDiffIndex</a>, <a class="el" href="classpkgAcqIndex.html" title="An acquire item that is responsible for fetching an index {{{ file (e.g., Packages or Sources)...">pkgAcqIndex</a> </dd></dl>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ab2898413cf073f60c8ea280c811c3edf"></a><!-- doxytag: member="pkgAcqIndexDiffs::DiffState" ref="ab2898413cf073f60c8ea280c811c3edf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classpkgAcqIndexDiffs.html#ab2898413cf073f60c8ea280c811c3edf">DiffState</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The current status of this patch. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ab2898413cf073f60c8ea280c811c3edfa82b287c62411f8b692402f8df1e68cc8"></a><!-- doxytag: member="StateFetchUnkown" ref="ab2898413cf073f60c8ea280c811c3edfa82b287c62411f8b692402f8df1e68cc8" args="" -->StateFetchUnkown</em>&nbsp;</td><td>
<p>The diff is in an unknown state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab2898413cf073f60c8ea280c811c3edfaec3dbb53054bff15ce3c49882de26f84"></a><!-- doxytag: member="StateFetchDiff" ref="ab2898413cf073f60c8ea280c811c3edfaec3dbb53054bff15ce3c49882de26f84" args="" -->StateFetchDiff</em>&nbsp;</td><td>
<p>The diff is currently being fetched. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab2898413cf073f60c8ea280c811c3edfa41b47b46b061b0d7b111045af4f2e727"></a><!-- doxytag: member="StateUnzipDiff" ref="ab2898413cf073f60c8ea280c811c3edfa41b47b46b061b0d7b111045af4f2e727" args="" -->StateUnzipDiff</em>&nbsp;</td><td>
<p>The diff is currently being uncompressed. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab2898413cf073f60c8ea280c811c3edfa85e95bc535755d0bcc1421d7daa90f0e"></a><!-- doxytag: member="StateApplyDiff" ref="ab2898413cf073f60c8ea280c811c3edfa85e95bc535755d0bcc1421d7daa90f0e" args="" -->StateApplyDiff</em>&nbsp;</td><td>
<p>The diff is currently being applied. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a399edc6f336ab0cd08ce630e49e8a95f"></a><!-- doxytag: member="pkgAcqIndexDiffs::pkgAcqIndexDiffs" ref="a399edc6f336ab0cd08ce630e49e8a95f" args="(pkgAcquire *Owner, std::string URI, std::string URIDesc, std::string ShortDesc, HashString ExpectedHash, std::string ServerSha1, std::vector&lt; DiffInfo &gt; diffs=std::vector&lt; DiffInfo &gt;())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpkgAcqIndexDiffs.html">pkgAcqIndexDiffs</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpkgAcquire.html">pkgAcquire</a> *&#160;</td>
          <td class="paramname"><em>Owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>URI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>URIDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>ShortDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classHashString.html">HashString</a>&#160;</td>
          <td class="paramname"><em>ExpectedHash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>ServerSha1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structDiffInfo.html">DiffInfo</a> &gt;&#160;</td>
          <td class="paramname"><em>diffs</em> = <code>std::vector&lt;<a class="el" href="structDiffInfo.html">DiffInfo</a>&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create an index diff item. </p>
<p>After filling in its basic fields, this invokes Finish(true) if #diffs is empty, or QueueNextDiff() otherwise.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Owner</td><td>The <a class="el" href="classpkgAcquire.html" title="The core download scheduler. {{{.">pkgAcquire</a> object that owns this item.</td></tr>
    <tr><td class="paramname"><a class="el" href="classURI.html">URI</a></td><td>The <a class="el" href="classURI.html">URI</a> of the package index file being reconstructed.</td></tr>
    <tr><td class="paramname">URIDesc</td><td>A long description of this item.</td></tr>
    <tr><td class="paramname">ShortDesc</td><td>A brief description of this item.</td></tr>
    <tr><td class="paramname">ExpectedHash</td><td>The expected md5sum of the completely reconstructed package index file; the index file will be tested against this value when it is entirely reconstructed.</td></tr>
    <tr><td class="paramname">diffs</td><td>The remaining diffs from the index of diffs. They should be ordered so that each diff appears before any diff that depends on it. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classpkgAcqIndexDiffs.html#a6822b4355d68d4683938302c3c4bee8b">available_patches</a>, <a class="el" href="classpkgAcqIndexDiffs.html#acdf3472c9b75f32dae88032d42d1cb6c">Debug</a>, <a class="el" href="classpkgAcqIndexDiffs.html#a63a8c90526aa28ea8a9c2458a53846bc">Desc</a>, <a class="el" href="classpkgAcqIndexDiffs.html#a72a1a381861908396ddca53a1fa28f97">Description</a>, <a class="el" href="classpkgAcquire_1_1Item.html#ab4b5e2afff64c51303682cea9243f098">pkgAcquire::Item::DestFile</a>, <a class="el" href="structpkgAcquire_1_1ItemDesc.html#a991ea711651b5d291202505da64e379c">pkgAcquire::ItemDesc::Owner</a>, <a class="el" href="classpkgAcquire_1_1Item.html#a0fc996230e235126c070608a0e170fe5">pkgAcquire::Item::ShortDesc()</a>, <a class="el" href="structpkgAcquire_1_1ItemDesc.html#a9248dc77e748314774ae2c9b1618e6a9">pkgAcquire::ItemDesc::ShortDesc</a>, and <a class="el" href="classpkgAcqIndexDiffs.html#ab2898413cf073f60c8ea280c811c3edfaec3dbb53054bff15ce3c49882de26f84">StateFetchDiff</a>.</p>

<p>Referenced by <a class="el" href="classpkgAcqIndexDiffs.html#aa3ae904a406da88bc67dd2e9e556dffa">Done()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a853c32904fff75b1a5d2c68441f41cad"></a><!-- doxytag: member="pkgAcqIndexDiffs::DescURI" ref="a853c32904fff75b1a5d2c68441f41cad" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string <a class="el" href="classpkgAcqIndexDiffs.html#a853c32904fff75b1a5d2c68441f41cad">DescURI</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A "descriptive" URI-like string. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>a <a class="el" href="classURI.html">URI</a> that should be used to describe what is being fetched. </dd></dl>

<p>Implements <a class="el" href="classpkgAcquire_1_1Item.html#a33630be55b62e4648f24c83378105c6f">pkgAcquire::Item</a>.</p>

<p>References <a class="el" href="classpkgAcqIndexDiffs.html#a60820e30470dce6f22aa8ced3fd96628">RealURI</a>.</p>

</div>
</div>
<a class="anchor" id="aa3ae904a406da88bc67dd2e9e556dffa"></a><!-- doxytag: member="pkgAcqIndexDiffs::Done" ref="aa3ae904a406da88bc67dd2e9e556dffa" args="(std::string Message, unsigned long long Size, std::string Md5Hash, pkgAcquire::MethodConfig *Cnf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classpkgAcqIndexDiffs.html#aa3ae904a406da88bc67dd2e9e556dffa">Done</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>Message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>Hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpkgAcquire_1_1MethodConfig.html">pkgAcquire::MethodConfig</a> *&#160;</td>
          <td class="paramname"><em>Cnf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Invoked by the acquire worker when the object was fetched successfully. </p>
<p>Note that the object might <em>not</em> have been written to DestFile; check for the presence of an Alt-Filename entry in Message to find the file to which it was really written.</p>
<p>Done is often used to switch from one stage of the processing to the next (e.g. fetching, unpacking, copying). It is one branch of the continuation of the fetch process.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Message</td><td>Data from the acquire method. Use LookupTag() to parse it. </td></tr>
    <tr><td class="paramname">Size</td><td>The size of the object that was fetched. </td></tr>
    <tr><td class="paramname">Hash</td><td>The HashSum of the object that was fetched. </td></tr>
    <tr><td class="paramname">Cnf</td><td>The method via which the object was fetched.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classpkgAcqMethod.html">pkgAcqMethod</a> </dd></dl>

<p>Reimplemented from <a class="el" href="classpkgAcquire_1_1Item.html#a688635545a65b9a4bebed86627574d41">pkgAcquire::Item</a>.</p>

<p>References <a class="el" href="classpkgAcqIndexDiffs.html#a6822b4355d68d4683938302c3c4bee8b">available_patches</a>, <a class="el" href="classpkgAcqIndexDiffs.html#acdf3472c9b75f32dae88032d42d1cb6c">Debug</a>, <a class="el" href="classpkgAcqIndexDiffs.html#a63a8c90526aa28ea8a9c2458a53846bc">Desc</a>, <a class="el" href="classpkgAcqIndexDiffs.html#a72a1a381861908396ddca53a1fa28f97">Description</a>, <a class="el" href="classpkgAcquire_1_1Item.html#ab4b5e2afff64c51303682cea9243f098">pkgAcquire::Item::DestFile</a>, <a class="el" href="classpkgAcqIndexDiffs.html#a30ce4163915317207b0c3ce437725e07">ExpectedHash</a>, <a class="el" href="classpkgAcquire_1_1Item.html#a98d3c89be817752144bb35823e365fec">pkgAcquire::Item::Local</a>, <a class="el" href="classpkgAcquire_1_1Item.html#a037fef483ec7b07ac1b31993b712de48">pkgAcquire::Item::Mode</a>, <a class="el" href="classpkgAcquire_1_1Item.html#a76f8c48f1e7f5669a16a9d5e863edd10">pkgAcquire::Item::Owner</a>, <a class="el" href="classpkgAcqIndexDiffs.html#a399edc6f336ab0cd08ce630e49e8a95f">pkgAcqIndexDiffs()</a>, <a class="el" href="classpkgAcquire_1_1Item.html#ab455ec87a776308e2892d3a383b1c2d2">pkgAcquire::Item::QueueURI()</a>, <a class="el" href="classpkgAcqIndexDiffs.html#a60820e30470dce6f22aa8ced3fd96628">RealURI</a>, <a class="el" href="classpkgAcquire_1_1Item.html#ae7cc109fe71557b04619356903267877">pkgAcquire::Item::Rename()</a>, <a class="el" href="classpkgAcqIndexDiffs.html#aa21f20c0300cbd25b4b4a51802f5ad80">ServerSha1</a>, <a class="el" href="structpkgAcquire_1_1ItemDesc.html#a9248dc77e748314774ae2c9b1618e6a9">pkgAcquire::ItemDesc::ShortDesc</a>, <a class="el" href="classpkgAcqIndexDiffs.html#ab2898413cf073f60c8ea280c811c3edfa85e95bc535755d0bcc1421d7daa90f0e">StateApplyDiff</a>, <a class="el" href="classpkgAcqIndexDiffs.html#ab2898413cf073f60c8ea280c811c3edfaec3dbb53054bff15ce3c49882de26f84">StateFetchDiff</a>, and <a class="el" href="structpkgAcquire_1_1ItemDesc.html#aaf8eea5037c53d12d3f31ab9e032712c">pkgAcquire::ItemDesc::URI</a>.</p>

</div>
</div>
<a class="anchor" id="ad7c33b8520f000b8dfdf48431ddf2949"></a><!-- doxytag: member="pkgAcqIndexDiffs::Failed" ref="ad7c33b8520f000b8dfdf48431ddf2949" args="(std::string Message, pkgAcquire::MethodConfig *Cnf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classpkgAcqIndexDiffs.html#ad7c33b8520f000b8dfdf48431ddf2949">Failed</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>Message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpkgAcquire_1_1MethodConfig.html">pkgAcquire::MethodConfig</a> *&#160;</td>
          <td class="paramname"><em>Cnf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called when the patch file failed to be downloaded. </p>
<p>This method will fall back to downloading the whole index file outright; its arguments are ignored. </p>

<p>Reimplemented from <a class="el" href="classpkgAcquire_1_1Item.html#ad7c33b8520f000b8dfdf48431ddf2949">pkgAcquire::Item</a>.</p>

<p>References <a class="el" href="classpkgAcqIndexDiffs.html#acdf3472c9b75f32dae88032d42d1cb6c">Debug</a>, <a class="el" href="classpkgAcqIndexDiffs.html#a63a8c90526aa28ea8a9c2458a53846bc">Desc</a>, <a class="el" href="classpkgAcqIndexDiffs.html#a72a1a381861908396ddca53a1fa28f97">Description</a>, <a class="el" href="classpkgAcqIndexDiffs.html#a30ce4163915317207b0c3ce437725e07">ExpectedHash</a>, <a class="el" href="classpkgAcquire_1_1Item.html#a76f8c48f1e7f5669a16a9d5e863edd10">pkgAcquire::Item::Owner</a>, <a class="el" href="classpkgAcqIndexDiffs.html#a60820e30470dce6f22aa8ced3fd96628">RealURI</a>, <a class="el" href="structpkgAcquire_1_1ItemDesc.html#a9248dc77e748314774ae2c9b1618e6a9">pkgAcquire::ItemDesc::ShortDesc</a>, and <a class="el" href="structpkgAcquire_1_1ItemDesc.html#aaf8eea5037c53d12d3f31ab9e032712c">pkgAcquire::ItemDesc::URI</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a6822b4355d68d4683938302c3c4bee8b"></a><!-- doxytag: member="pkgAcqIndexDiffs::available_patches" ref="a6822b4355d68d4683938302c3c4bee8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structDiffInfo.html">DiffInfo</a>&gt; <a class="el" href="classpkgAcqIndexDiffs.html#a6822b4355d68d4683938302c3c4bee8b">available_patches</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The patches that remain to be downloaded, including the patch being downloaded right now. This list should be ordered so that each diff appears before any diff that depends on it.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>These are indexed by sha1sum; why not use some sort of dictionary instead of relying on ordering and stripping them off the front? </dd></dl>

<p>Referenced by <a class="el" href="classpkgAcqIndexDiffs.html#aa3ae904a406da88bc67dd2e9e556dffa">Done()</a>, and <a class="el" href="classpkgAcqIndexDiffs.html#a399edc6f336ab0cd08ce630e49e8a95f">pkgAcqIndexDiffs()</a>.</p>

</div>
</div>
<a class="anchor" id="a72a1a381861908396ddca53a1fa28f97"></a><!-- doxytag: member="pkgAcqIndexDiffs::Description" ref="a72a1a381861908396ddca53a1fa28f97" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classpkgAcqIndexDiffs.html#a72a1a381861908396ddca53a1fa28f97">Description</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A description of the file being downloaded. </p>

<p>Referenced by <a class="el" href="classpkgAcqIndexDiffs.html#aa3ae904a406da88bc67dd2e9e556dffa">Done()</a>, <a class="el" href="classpkgAcqIndexDiffs.html#ad7c33b8520f000b8dfdf48431ddf2949">Failed()</a>, and <a class="el" href="classpkgAcqIndexDiffs.html#a399edc6f336ab0cd08ce630e49e8a95f">pkgAcqIndexDiffs()</a>.</p>

</div>
</div>
<a class="anchor" id="aa21f20c0300cbd25b4b4a51802f5ad80"></a><!-- doxytag: member="pkgAcqIndexDiffs::ServerSha1" ref="aa21f20c0300cbd25b4b4a51802f5ad80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classpkgAcqIndexDiffs.html#aa21f20c0300cbd25b4b4a51802f5ad80">ServerSha1</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stop applying patches when reaching that sha1 </p>

<p>Referenced by <a class="el" href="classpkgAcqIndexDiffs.html#aa3ae904a406da88bc67dd2e9e556dffa">Done()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/rpmuser/debian/check/apt-0.8.16~exp12ubuntu10.16/apt-pkg/<a class="el" href="acquire-item_8h_source.html">acquire-item.h</a></li>
<li>/home/rpmuser/debian/check/apt-0.8.16~exp12ubuntu10.16/apt-pkg/acquire-item.cc</li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 26 2014 10:05:25 for apt by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
