<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.7.6.1">
  <compounddef id="dbus-dataslot_8c" kind="file">
    <compoundname>dbus-dataslot.c</compoundname>
    <includes local="no">config.h</includes>
    <includes refid="dbus-dataslot_8h" local="yes">dbus-dataslot.h</includes>
    <includes refid="dbus-threads-internal_8h" local="yes">dbus-threads-internal.h</includes>
    <incdepgraph>
      <node id="400">
        <label>stdarg.h</label>
      </node>
      <node id="402">
        <label>dbus/dbus-threads-internal.h</label>
        <link refid="dbus-threads-internal_8h_source"/>
        <childnode refid="391" relation="include">
        </childnode>
        <childnode refid="393" relation="include">
        </childnode>
        <childnode refid="403" relation="include">
        </childnode>
      </node>
      <node id="403">
        <label>dbus/dbus-threads.h</label>
        <link refid="dbus-threads_8h_source"/>
        <childnode refid="391" relation="include">
        </childnode>
        <childnode refid="393" relation="include">
        </childnode>
      </node>
      <node id="395">
        <label>dbus/dbus-errors.h</label>
        <link refid="dbus-errors_8h_source"/>
        <childnode refid="391" relation="include">
        </childnode>
        <childnode refid="393" relation="include">
        </childnode>
        <childnode refid="396" relation="include">
        </childnode>
      </node>
      <node id="389">
        <label>dbus/dbus-internals.h</label>
        <link refid="dbus-internals_8h_source"/>
        <childnode refid="390" relation="include">
        </childnode>
        <childnode refid="393" relation="include">
        </childnode>
        <childnode refid="395" relation="include">
        </childnode>
        <childnode refid="397" relation="include">
        </childnode>
        <childnode refid="402" relation="include">
        </childnode>
      </node>
      <node id="392">
        <label>stddef.h</label>
      </node>
      <node id="398">
        <label>dbus/dbus-file.h</label>
        <link refid="dbus-file_8h_source"/>
        <childnode refid="399" relation="include">
        </childnode>
        <childnode refid="395" relation="include">
        </childnode>
      </node>
      <node id="394">
        <label>dbus/dbus-arch-deps.h</label>
      </node>
      <node id="391">
        <label>dbus/dbus-macros.h</label>
        <link refid="dbus-macros_8h_source"/>
      </node>
      <node id="401">
        <label>string.h</label>
      </node>
      <node id="397">
        <label>dbus/dbus-sysdeps.h</label>
        <link refid="dbus-sysdeps_8h_source"/>
        <childnode refid="387" relation="include">
        </childnode>
        <childnode refid="395" relation="include">
        </childnode>
        <childnode refid="398" relation="include">
        </childnode>
        <childnode refid="399" relation="include">
        </childnode>
        <childnode refid="401" relation="include">
        </childnode>
        <childnode refid="400" relation="include">
        </childnode>
      </node>
      <node id="393">
        <label>dbus/dbus-types.h</label>
        <link refid="dbus-types_8h_source"/>
        <childnode refid="392" relation="include">
        </childnode>
        <childnode refid="394" relation="include">
        </childnode>
      </node>
      <node id="399">
        <label>dbus/dbus-string.h</label>
        <link refid="dbus-string_8h_source"/>
        <childnode refid="391" relation="include">
        </childnode>
        <childnode refid="393" relation="include">
        </childnode>
        <childnode refid="390" relation="include">
        </childnode>
        <childnode refid="400" relation="include">
        </childnode>
      </node>
      <node id="390">
        <label>dbus/dbus-memory.h</label>
        <link refid="dbus-memory_8h_source"/>
        <childnode refid="391" relation="include">
        </childnode>
        <childnode refid="392" relation="include">
        </childnode>
      </node>
      <node id="396">
        <label>dbus/dbus-protocol.h</label>
        <link refid="dbus-protocol_8h_source"/>
      </node>
      <node id="387">
        <label>config.h</label>
      </node>
      <node id="386">
        <label>dbus-dataslot.c</label>
        <link refid="dbus-dataslot.c"/>
        <childnode refid="387" relation="include">
        </childnode>
        <childnode refid="388" relation="include">
        </childnode>
        <childnode refid="402" relation="include">
        </childnode>
      </node>
      <node id="388">
        <label>dbus-dataslot.h</label>
        <link refid="dbus-dataslot_8h_source"/>
        <childnode refid="389" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="func">
      <memberdef kind="function" id="group__DBusDataSlot_1ga5edceab2f5849ff8a6f6cee5d1afc906" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t _dbus_data_slot_allocator_init</definition>
        <argsstring>(DBusDataSlotAllocator *allocator)</argsstring>
        <name>_dbus_data_slot_allocator_init</name>
        <param>
          <type><ref refid="structDBusDataSlotAllocator" kindref="compound">DBusDataSlotAllocator</ref> *</type>
          <declname>allocator</declname>
        </param>
        <briefdescription>
<para>Initializes a data slot allocator object, used to assign integer IDs for data slots. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>allocator</parametername>
</parameternamelist>
<parameterdescription>
<para>the allocator to initialize </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" line="47" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" bodystart="46" bodyend="54"/>
        <references refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" compoundref="dbus-dataslot_8h" startline="57">DBusDataSlotAllocator::allocated_slots</references>
        <references refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" compoundref="dbus-dataslot_8h" startline="60">DBusDataSlotAllocator::lock_loc</references>
        <references refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" compoundref="dbus-dataslot_8h" startline="58">DBusDataSlotAllocator::n_allocated_slots</references>
        <references refid="structDBusDataSlotAllocator_1ad68b0989a821eb266983052f8a402a4a" compoundref="dbus-dataslot_8h" startline="59">DBusDataSlotAllocator::n_used_slots</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
      </memberdef>
      <memberdef kind="function" id="group__DBusDataSlot_1ga941a12182e69c185bd27f6efbfbd0f86" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t _dbus_data_slot_allocator_alloc</definition>
        <argsstring>(DBusDataSlotAllocator *allocator, DBusMutex **mutex_loc, dbus_int32_t *slot_id_p)</argsstring>
        <name>_dbus_data_slot_allocator_alloc</name>
        <param>
          <type><ref refid="structDBusDataSlotAllocator" kindref="compound">DBusDataSlotAllocator</ref> *</type>
          <declname>allocator</declname>
        </param>
        <param>
          <type><ref refid="group__DBusThreads_1ga4eb021cd6cd0830423eac2738e0ddc40" kindref="member">DBusMutex</ref> **</type>
          <declname>mutex_loc</declname>
        </param>
        <param>
          <type>dbus_int32_t *</type>
          <declname>slot_id_p</declname>
        </param>
        <briefdescription>
<para>Allocates an integer ID to be used for storing data in a <ref refid="structDBusDataSlotList" kindref="compound">DBusDataSlotList</ref>. </para>        </briefdescription>
        <detaileddescription>
<para>If the value at *slot_id_p is not -1, this function just increments the refcount for the existing slot ID. If the value is -1, a new slot ID is allocated and stored at *slot_id_p.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>allocator</parametername>
</parameternamelist>
<parameterdescription>
<para>the allocator </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>mutex_loc</parametername>
</parameternamelist>
<parameterdescription>
<para>the location lock for this allocator </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>slot_id_p</parametername>
</parameternamelist>
<parameterdescription>
<para>address to fill with the slot ID </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref> on success </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" line="72" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" bodystart="69" bodyend="151"/>
        <references refid="group__DBusThreadsInternals_1gae6eafe138e9c317bfb25971d1d8bef2d" compoundref="dbus-threads_8c" startline="144" endline="153">_dbus_mutex_lock</references>
        <references refid="group__DBusThreadsInternals_1ga94dcc555488e5d677f10bd3898d61c00" compoundref="dbus-threads_8c" startline="161" endline="170">_dbus_mutex_unlock</references>
        <references refid="group__DBusInternalsUtils_1ga63f2f8a068454b781f214ba596e313b4" compoundref="dbus-internals_8c" startline="272" endline="291">_dbus_warn_check_failed</references>
        <references refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" compoundref="dbus-dataslot_8h" startline="57">DBusDataSlotAllocator::allocated_slots</references>
        <references refid="group__DBusMemory_1ga2d505f2960ccf343042d363170b27f9c" compoundref="dbus-memory_8c" startline="556" endline="620">dbus_realloc</references>
        <references refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" compoundref="dbus-dataslot_8h" startline="60">DBusDataSlotAllocator::lock_loc</references>
        <references refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" compoundref="dbus-dataslot_8h" startline="58">DBusDataSlotAllocator::n_allocated_slots</references>
        <references refid="structDBusDataSlotAllocator_1ad68b0989a821eb266983052f8a402a4a" compoundref="dbus-dataslot_8h" startline="59">DBusDataSlotAllocator::n_used_slots</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="structDBusAllocatedSlot_1a554eaffc3334a90a86f618eaa713410c" compoundref="dbus-dataslot_8h" startline="49">DBusAllocatedSlot::refcount</references>
        <references refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" compoundref="dbus-dataslot_8h" startline="48">DBusAllocatedSlot::slot_id</references>
        <referencedby refid="group__DBusConnection_1ga728b15c71a492ad244e5a480f1156088" compoundref="dbus-connection_8c" startline="5832" endline="5837">dbus_connection_allocate_data_slot</referencedby>
        <referencedby refid="group__DBusMessage_1gafdde8db1152649d37c9f7e316ca59e56" compoundref="dbus-message_8c" startline="4380" endline="4385">dbus_message_allocate_data_slot</referencedby>
        <referencedby refid="group__DBusPendingCall_1ga95614dad0ada70e3a20d9878339e3109" compoundref="dbus-pending-call_8c" startline="723" endline="730">dbus_pending_call_allocate_data_slot</referencedby>
        <referencedby refid="group__DBusServer_1ga05d280cd92ea5bb0d49bbe5b1fb1d5c2" compoundref="dbus-server_8c" startline="1079" endline="1084">dbus_server_allocate_data_slot</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusDataSlot_1ga059c50a24cd9fc984e918e6159841633" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_data_slot_allocator_free</definition>
        <argsstring>(DBusDataSlotAllocator *allocator, dbus_int32_t *slot_id_p)</argsstring>
        <name>_dbus_data_slot_allocator_free</name>
        <param>
          <type><ref refid="structDBusDataSlotAllocator" kindref="compound">DBusDataSlotAllocator</ref> *</type>
          <declname>allocator</declname>
        </param>
        <param>
          <type>dbus_int32_t *</type>
          <declname>slot_id_p</declname>
        </param>
        <briefdescription>
<para>Deallocates an ID previously allocated with <ref refid="group__DBusDataSlot_1ga941a12182e69c185bd27f6efbfbd0f86" kindref="member">_dbus_data_slot_allocator_alloc()</ref>. </para>        </briefdescription>
        <detaileddescription>
<para>Existing data stored on existing <ref refid="structDBusDataSlotList" kindref="compound">DBusDataSlotList</ref> objects with this ID will be freed when the data list is finalized, but may not be retrieved (and may only be replaced if someone else reallocates the slot). The slot value is reset to -1 if this is the last unref.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>allocator</parametername>
</parameternamelist>
<parameterdescription>
<para>the allocator </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>slot_id_p</parametername>
</parameternamelist>
<parameterdescription>
<para>address where we store the slot </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" line="167" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" bodystart="165" bodyend="206"/>
        <references refid="group__DBusThreadsInternals_1gae6eafe138e9c317bfb25971d1d8bef2d" compoundref="dbus-threads_8c" startline="144" endline="153">_dbus_mutex_lock</references>
        <references refid="group__DBusThreadsInternals_1ga94dcc555488e5d677f10bd3898d61c00" compoundref="dbus-threads_8c" startline="161" endline="170">_dbus_mutex_unlock</references>
        <references refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" compoundref="dbus-dataslot_8h" startline="57">DBusDataSlotAllocator::allocated_slots</references>
        <references refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" compoundref="dbus-memory_8c" startline="629" endline="668">dbus_free</references>
        <references refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" compoundref="dbus-dataslot_8h" startline="60">DBusDataSlotAllocator::lock_loc</references>
        <references refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" compoundref="dbus-dataslot_8h" startline="58">DBusDataSlotAllocator::n_allocated_slots</references>
        <references refid="structDBusDataSlotAllocator_1ad68b0989a821eb266983052f8a402a4a" compoundref="dbus-dataslot_8h" startline="59">DBusDataSlotAllocator::n_used_slots</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="structDBusAllocatedSlot_1a554eaffc3334a90a86f618eaa713410c" compoundref="dbus-dataslot_8h" startline="49">DBusAllocatedSlot::refcount</references>
        <references refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" compoundref="dbus-dataslot_8h" startline="48">DBusAllocatedSlot::slot_id</references>
        <referencedby refid="group__DBusConnection_1ga7dc8c73d8c3e733f5410d52be84239a0" compoundref="dbus-connection_8c" startline="5851" endline="5856">dbus_connection_free_data_slot</referencedby>
        <referencedby refid="group__DBusMessage_1ga23227ce2bd5c52d05581d3fe1232ae66" compoundref="dbus-message_8c" startline="4399" endline="4404">dbus_message_free_data_slot</referencedby>
        <referencedby refid="group__DBusPendingCall_1ga1eb6f342bba71b01266629f80be84617" compoundref="dbus-pending-call_8c" startline="744" endline="750">dbus_pending_call_free_data_slot</referencedby>
        <referencedby refid="group__DBusServer_1gac6ebc6105e32ab38ef0ac60dec6d5bc8" compoundref="dbus-server_8c" startline="1098" endline="1103">dbus_server_free_data_slot</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusDataSlot_1ga6de49b3a1210202215d40a5a19806992" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_data_slot_list_init</definition>
        <argsstring>(DBusDataSlotList *list)</argsstring>
        <name>_dbus_data_slot_list_init</name>
        <param>
          <type><ref refid="structDBusDataSlotList" kindref="compound">DBusDataSlotList</ref> *</type>
          <declname>list</declname>
        </param>
        <briefdescription>
<para>Initializes a slot list. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>list</parametername>
</parameternamelist>
<parameterdescription>
<para>the list to initialize. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" line="214" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" bodystart="213" bodyend="217"/>
        <references refid="structDBusDataSlotList_1a2d6cb7670a940bc886c99cb892b44502" compoundref="dbus-dataslot_8h" startline="70">DBusDataSlotList::n_slots</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" compoundref="dbus-dataslot_8h" startline="69">DBusDataSlotList::slots</references>
        <referencedby refid="group__DBusConnectionInternals_1ga2cdffe9215251b69cb39ff36b9f50e6c" compoundref="dbus-connection_8c" startline="1237" endline="1396">_dbus_connection_new_for_transport</referencedby>
        <referencedby refid="group__DBusPendingCallInternals_1ga3f2300d7a768783bc2fae0991bcc55df" compoundref="dbus-pending-call_8c" startline="94" endline="144">_dbus_pending_call_new_unlocked</referencedby>
        <referencedby refid="group__DBusServerInternals_1gaacfb3d29553f205b362c850cfda02fd9" compoundref="dbus-server_8c" startline="97" endline="170">_dbus_server_init_base</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusDataSlot_1gad2952f9f686d96e7114fc49ab7452e1a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t _dbus_data_slot_list_set</definition>
        <argsstring>(DBusDataSlotAllocator *allocator, DBusDataSlotList *list, int slot, void *data, DBusFreeFunction free_data_func, DBusFreeFunction *old_free_func, void **old_data)</argsstring>
        <name>_dbus_data_slot_list_set</name>
        <param>
          <type><ref refid="structDBusDataSlotAllocator" kindref="compound">DBusDataSlotAllocator</ref> *</type>
          <declname>allocator</declname>
        </param>
        <param>
          <type><ref refid="structDBusDataSlotList" kindref="compound">DBusDataSlotList</ref> *</type>
          <declname>list</declname>
        </param>
        <param>
          <type>int</type>
          <declname>slot</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>data</declname>
        </param>
        <param>
          <type><ref refid="group__DBusMemory_1ga061bcded226d76c7d7de35beaa165cb5" kindref="member">DBusFreeFunction</ref></type>
          <declname>free_data_func</declname>
        </param>
        <param>
          <type><ref refid="group__DBusMemory_1ga061bcded226d76c7d7de35beaa165cb5" kindref="member">DBusFreeFunction</ref> *</type>
          <declname>old_free_func</declname>
        </param>
        <param>
          <type>void **</type>
          <declname>old_data</declname>
        </param>
        <briefdescription>
<para>Stores a pointer in the data slot list, along with an optional function to be used for freeing the data when the data is set again, or when the slot list is finalized. </para>        </briefdescription>
        <detaileddescription>
<para>The slot number must have been allocated with <ref refid="group__DBusDataSlot_1ga941a12182e69c185bd27f6efbfbd0f86" kindref="member">_dbus_data_slot_allocator_alloc()</ref> for the same allocator passed in here. The same allocator has to be used with the slot list every time.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>allocator</parametername>
</parameternamelist>
<parameterdescription>
<para>the allocator to use </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>list</parametername>
</parameternamelist>
<parameterdescription>
<para>the data slot list </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>slot</parametername>
</parameternamelist>
<parameterdescription>
<para>the slot number </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>data</parametername>
</parameternamelist>
<parameterdescription>
<para>the data to store </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>free_data_func</parametername>
</parameternamelist>
<parameterdescription>
<para>finalizer function for the data </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>old_free_func</parametername>
</parameternamelist>
<parameterdescription>
<para>free function for any previously-existing data </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>old_data</parametername>
</parameternamelist>
<parameterdescription>
<para>previously-existing data, should be freed with old_free_func </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref> if there was enough memory to store the data </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" line="244" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" bodystart="237" bodyend="286"/>
        <references refid="group__DBusThreadsInternals_1gae6eafe138e9c317bfb25971d1d8bef2d" compoundref="dbus-threads_8c" startline="144" endline="153">_dbus_mutex_lock</references>
        <references refid="group__DBusThreadsInternals_1ga94dcc555488e5d677f10bd3898d61c00" compoundref="dbus-threads_8c" startline="161" endline="170">_dbus_mutex_unlock</references>
        <references refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" compoundref="dbus-dataslot_8h" startline="57">DBusDataSlotAllocator::allocated_slots</references>
        <references refid="structDBusDataSlot_1a883c8c8946f13b6f5f3cf99f230159fd" compoundref="dbus-dataslot_8h" startline="38">DBusDataSlot::data</references>
        <references refid="group__DBusMemory_1ga2d505f2960ccf343042d363170b27f9c" compoundref="dbus-memory_8c" startline="556" endline="620">dbus_realloc</references>
        <references refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="structDBusDataSlot_1ab899f58869942556fb1b381ca3f3e2b2" compoundref="dbus-dataslot_8h" startline="39">DBusDataSlot::free_data_func</references>
        <references refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" compoundref="dbus-dataslot_8h" startline="60">DBusDataSlotAllocator::lock_loc</references>
        <references refid="structDBusDataSlotList_1a2d6cb7670a940bc886c99cb892b44502" compoundref="dbus-dataslot_8h" startline="70">DBusDataSlotList::n_slots</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" compoundref="dbus-dataslot_8h" startline="48">DBusAllocatedSlot::slot_id</references>
        <references refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" compoundref="dbus-dataslot_8h" startline="69">DBusDataSlotList::slots</references>
        <references refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="group__DBusPendingCallInternals_1ga7d4196ca35b8df842c05a02dbb71c269" compoundref="dbus-pending-call_8c" startline="477" endline="503">_dbus_pending_call_set_data_unlocked</referencedby>
        <referencedby refid="group__DBusConnection_1ga845b4942399f43dd4ac644de7cb9e3ff" compoundref="dbus-connection_8c" startline="5881" endline="5910">dbus_connection_set_data</referencedby>
        <referencedby refid="group__DBusMessage_1ga29331c4e9c2d53cbe60382056f6495a1" compoundref="dbus-message_8c" startline="4420" endline="4445">dbus_message_set_data</referencedby>
        <referencedby refid="group__DBusServer_1gab9ecb216dc9c40b0c7d370673fb9b269" compoundref="dbus-server_8c" startline="1119" endline="1148">dbus_server_set_data</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusDataSlot_1ga43f741229f0c38788442601e2750ec66" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* _dbus_data_slot_list_get</definition>
        <argsstring>(DBusDataSlotAllocator *allocator, DBusDataSlotList *list, int slot)</argsstring>
        <name>_dbus_data_slot_list_get</name>
        <param>
          <type><ref refid="structDBusDataSlotAllocator" kindref="compound">DBusDataSlotAllocator</ref> *</type>
          <declname>allocator</declname>
        </param>
        <param>
          <type><ref refid="structDBusDataSlotList" kindref="compound">DBusDataSlotList</ref> *</type>
          <declname>list</declname>
        </param>
        <param>
          <type>int</type>
          <declname>slot</declname>
        </param>
        <briefdescription>
<para>Retrieves data previously set with _dbus_data_slot_list_set_data(). </para>        </briefdescription>
        <detaileddescription>
<para>The slot must still be allocated (must not have been freed).</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>allocator</parametername>
</parameternamelist>
<parameterdescription>
<para>the allocator slot was allocated from </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>list</parametername>
</parameternamelist>
<parameterdescription>
<para>the data slot list </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>slot</parametername>
</parameternamelist>
<parameterdescription>
<para>the slot to get data from </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the data, or <ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref> if not found </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" line="301" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" bodystart="298" bodyend="318"/>
        <references refid="group__DBusThreadsInternals_1gae6eafe138e9c317bfb25971d1d8bef2d" compoundref="dbus-threads_8c" startline="144" endline="153">_dbus_mutex_lock</references>
        <references refid="group__DBusThreadsInternals_1ga94dcc555488e5d677f10bd3898d61c00" compoundref="dbus-threads_8c" startline="161" endline="170">_dbus_mutex_unlock</references>
        <references refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" compoundref="dbus-dataslot_8h" startline="57">DBusDataSlotAllocator::allocated_slots</references>
        <references refid="structDBusDataSlot_1a883c8c8946f13b6f5f3cf99f230159fd" compoundref="dbus-dataslot_8h" startline="38">DBusDataSlot::data</references>
        <references refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" compoundref="dbus-dataslot_8h" startline="60">DBusDataSlotAllocator::lock_loc</references>
        <references refid="structDBusDataSlotList_1a2d6cb7670a940bc886c99cb892b44502" compoundref="dbus-dataslot_8h" startline="70">DBusDataSlotList::n_slots</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" compoundref="dbus-dataslot_8h" startline="48">DBusAllocatedSlot::slot_id</references>
        <references refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" compoundref="dbus-dataslot_8h" startline="69">DBusDataSlotList::slots</references>
        <referencedby refid="group__DBusConnection_1ga433fae9844a66d9d078d238e6c723b95" compoundref="dbus-connection_8c" startline="5930" endline="5946">dbus_connection_get_data</referencedby>
        <referencedby refid="group__DBusMessage_1gabbde522fe2321618ee39df1a028a2ec6" compoundref="dbus-message_8c" startline="4456" endline="4468">dbus_message_get_data</referencedby>
        <referencedby refid="group__DBusPendingCall_1ga5749f73b7ec7a8fe4f2e6a839e292806" compoundref="dbus-pending-call_8c" startline="792" endline="806">dbus_pending_call_get_data</referencedby>
        <referencedby refid="group__DBusServer_1gac2bfa9f2e06c4347fefe537b233660d3" compoundref="dbus-server_8c" startline="1159" endline="1175">dbus_server_get_data</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusDataSlot_1ga3c96d2ca263ba397b4da2956a49ae282" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_data_slot_list_clear</definition>
        <argsstring>(DBusDataSlotList *list)</argsstring>
        <name>_dbus_data_slot_list_clear</name>
        <param>
          <type><ref refid="structDBusDataSlotList" kindref="compound">DBusDataSlotList</ref> *</type>
          <declname>list</declname>
        </param>
        <briefdescription>
<para>Frees all data slots contained in the list, calling application-provided free functions if they exist. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>list</parametername>
</parameternamelist>
<parameterdescription>
<para>the list to clear </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" line="328" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" bodystart="327" bodyend="340"/>
        <references refid="structDBusDataSlot_1a883c8c8946f13b6f5f3cf99f230159fd" compoundref="dbus-dataslot_8h" startline="38">DBusDataSlot::data</references>
        <references refid="structDBusDataSlot_1ab899f58869942556fb1b381ca3f3e2b2" compoundref="dbus-dataslot_8h" startline="39">DBusDataSlot::free_data_func</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" compoundref="dbus-dataslot_8h" startline="69">DBusDataSlotList::slots</references>
        <referencedby refid="group__DBusDataSlot_1gabc399733376c462c3010271a2d431e73" compoundref="dbus-dataslot_8c" startline="350" endline="357">_dbus_data_slot_list_free</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusDataSlot_1gabc399733376c462c3010271a2d431e73" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_data_slot_list_free</definition>
        <argsstring>(DBusDataSlotList *list)</argsstring>
        <name>_dbus_data_slot_list_free</name>
        <param>
          <type><ref refid="structDBusDataSlotList" kindref="compound">DBusDataSlotList</ref> *</type>
          <declname>list</declname>
        </param>
        <briefdescription>
<para>Frees the data slot list and all data slots contained in it, calling application-provided free functions if they exist. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>list</parametername>
</parameternamelist>
<parameterdescription>
<para>the list to free </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" line="351" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c" bodystart="350" bodyend="357"/>
        <references refid="group__DBusDataSlot_1ga3c96d2ca263ba397b4da2956a49ae282" compoundref="dbus-dataslot_8c" startline="327" endline="340">_dbus_data_slot_list_clear</references>
        <references refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" compoundref="dbus-memory_8c" startline="629" endline="668">dbus_free</references>
        <references refid="structDBusDataSlotList_1a2d6cb7670a940bc886c99cb892b44502" compoundref="dbus-dataslot_8h" startline="70">DBusDataSlotList::n_slots</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" compoundref="dbus-dataslot_8h" startline="69">DBusDataSlotList::slots</references>
        <referencedby refid="group__DBusServerInternals_1ga93b5bca90e69122d5acbbeef2b4ca03e" compoundref="dbus-server_8c" startline="179" endline="204">_dbus_server_finalize_base</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*<sp/>-*-<sp/>mode:<sp/>C;<sp/>c-file-style:<sp/>&quot;gnu&quot;;<sp/>indent-tabs-mode:<sp/>nil;<sp/>-*-<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>dbus-dataslot.c<sp/><sp/>storing<sp/>data<sp/>on<sp/>objects</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(C)<sp/>2003<sp/>Red<sp/>Hat,<sp/>Inc.</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/>Licensed<sp/>under<sp/>the<sp/>Academic<sp/>Free<sp/>License<sp/>version<sp/>2.1</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*<sp/>This<sp/>program<sp/>is<sp/>free<sp/>software;<sp/>you<sp/>can<sp/>redistribute<sp/>it<sp/>and/or<sp/>modify</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*<sp/>it<sp/>under<sp/>the<sp/>terms<sp/>of<sp/>the<sp/>GNU<sp/>General<sp/>Public<sp/>License<sp/>as<sp/>published<sp/>by</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*<sp/>the<sp/>Free<sp/>Software<sp/>Foundation;<sp/>either<sp/>version<sp/>2<sp/>of<sp/>the<sp/>License,<sp/>or</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*<sp/>(at<sp/>your<sp/>option)<sp/>any<sp/>later<sp/>version.</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>*<sp/>This<sp/>program<sp/>is<sp/>distributed<sp/>in<sp/>the<sp/>hope<sp/>that<sp/>it<sp/>will<sp/>be<sp/>useful,</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>*<sp/>but<sp/>WITHOUT<sp/>ANY<sp/>WARRANTY;<sp/>without<sp/>even<sp/>the<sp/>implied<sp/>warranty<sp/>of</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>*<sp/>MERCHANTABILITY<sp/>or<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE.<sp/><sp/>See<sp/>the</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*<sp/>GNU<sp/>General<sp/>Public<sp/>License<sp/>for<sp/>more<sp/>details.</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*<sp/>You<sp/>should<sp/>have<sp/>received<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>GNU<sp/>General<sp/>Public<sp/>License</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*<sp/>along<sp/>with<sp/>this<sp/>program;<sp/>if<sp/>not,<sp/>write<sp/>to<sp/>the<sp/>Free<sp/>Software</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*<sp/>Foundation,<sp/>Inc.,<sp/>51<sp/>Franklin<sp/>Street,<sp/>Fifth<sp/>Floor,<sp/>Boston,<sp/>MA<sp/><sp/>02110-1301<sp/><sp/>USA</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;config.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;dbus-dataslot.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;dbus-threads-internal.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="46" refid="group__DBusDataSlot_1ga5edceab2f5849ff8a6f6cee5d1afc906" refkind="member"><highlight class="normal"><ref refid="group__DBusDataSlot_1ga5edceab2f5849ff8a6f6cee5d1afc906" kindref="member" tooltip="Initializes a data slot allocator object, used to assign integer IDs for data slots.">_dbus_data_slot_allocator_init</ref><sp/>(<ref refid="structDBusDataSlotAllocator" kindref="compound" tooltip="An allocator that tracks a set of slot IDs.">DBusDataSlotAllocator</ref><sp/>*allocator)</highlight></codeline>
<codeline lineno="47"><highlight class="normal">{</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref><sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" kindref="member" tooltip="number of slots malloc&amp;#39;d">n_allocated_slots</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ad68b0989a821eb266983052f8a402a4a" kindref="member" tooltip="number of slots used">n_used_slots</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref><sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" tooltip="Expands to &amp;quot;1&amp;quot;.">TRUE</ref>;</highlight></codeline>
<codeline lineno="54"><highlight class="normal">}</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="69" refid="group__DBusDataSlot_1ga941a12182e69c185bd27f6efbfbd0f86" refkind="member"><highlight class="normal"><ref refid="group__DBusDataSlot_1ga941a12182e69c185bd27f6efbfbd0f86" kindref="member" tooltip="Allocates an integer ID to be used for storing data in a DBusDataSlotList.">_dbus_data_slot_allocator_alloc</ref><sp/>(<ref refid="structDBusDataSlotAllocator" kindref="compound" tooltip="An allocator that tracks a set of slot IDs.">DBusDataSlotAllocator</ref><sp/>*allocator,</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusThreads_1ga4eb021cd6cd0830423eac2738e0ddc40" kindref="member" tooltip="An opaque mutex type provided by the DBusThreadFunctions implementation installed by dbus_threads_ini...">DBusMutex</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**mutex_loc,</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dbus_int32_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*slot_id_p)</highlight></codeline>
<codeline lineno="72"><highlight class="normal">{</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/>dbus_int32_t<sp/>slot;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><ref refid="group__DBusThreadsInternals_1gae6eafe138e9c317bfb25971d1d8bef2d" kindref="member" tooltip="Locks a mutex.">_dbus_mutex_lock</ref><sp/>(*mutex_loc);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" kindref="member" tooltip="number of slots malloc&amp;#39;d">n_allocated_slots</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref><sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref><sp/>=<sp/>mutex_loc;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref><sp/>!=<sp/>mutex_loc)</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga63f2f8a068454b781f214ba596e313b4" kindref="member" tooltip="Prints a &amp;quot;critical&amp;quot; warning to stderr when an assertion fails; differs from _dbus_warn primarily in t...">_dbus_warn_check_failed</ref><sp/>(</highlight><highlight class="stringliteral">&quot;D-Bus<sp/>threads<sp/>were<sp/>initialized<sp/>after<sp/>first<sp/>using<sp/>the<sp/>D-Bus<sp/>library.<sp/>If<sp/>your<sp/>application<sp/>does<sp/>not<sp/>directly<sp/>initialize<sp/>threads<sp/>or<sp/>use<sp/>D-Bus,<sp/>keep<sp/>in<sp/>mind<sp/>that<sp/>some<sp/>library<sp/>or<sp/>plugin<sp/>may<sp/>have<sp/>used<sp/>D-Bus<sp/>or<sp/>initialized<sp/>threads<sp/>behind<sp/>your<sp/>back.<sp/>You<sp/>can<sp/>often<sp/>fix<sp/>this<sp/>problem<sp/>by<sp/>calling<sp/>dbus_init_threads()<sp/>or<sp/>dbus_g_threads_init()<sp/>early<sp/>in<sp/>your<sp/>main()<sp/>method,<sp/>before<sp/>D-Bus<sp/>is<sp/>used.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert_not_reached<sp/>(</highlight><highlight class="stringliteral">&quot;exiting&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*slot_id_p<sp/>&gt;=<sp/>0)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>slot<sp/>=<sp/>*slot_id_p;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(slot<sp/>&lt;<sp/>allocator-&gt;n_allocated_slots);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[slot].<ref refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" kindref="member" tooltip="ID of this slot.">slot_id</ref><sp/>==<sp/>slot);</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[slot].<ref refid="structDBusAllocatedSlot_1a554eaffc3334a90a86f618eaa713410c" kindref="member" tooltip="Number of uses of the slot.">refcount</ref><sp/>+=<sp/>1;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>out;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(*slot_id_p<sp/>&lt;<sp/>0);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ad68b0989a821eb266983052f8a402a4a" kindref="member" tooltip="number of slots used">n_used_slots</ref><sp/>&lt;<sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" kindref="member" tooltip="number of slots malloc&amp;#39;d">n_allocated_slots</ref>)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>slot<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(slot<sp/>&lt;<sp/>allocator-&gt;n_allocated_slots)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[slot].<ref refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" kindref="member" tooltip="ID of this slot.">slot_id</ref><sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[slot].<ref refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" kindref="member" tooltip="ID of this slot.">slot_id</ref><sp/>=<sp/>slot;</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[slot].<ref refid="structDBusAllocatedSlot_1a554eaffc3334a90a86f618eaa713410c" kindref="member" tooltip="Number of uses of the slot.">refcount</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ad68b0989a821eb266983052f8a402a4a" kindref="member" tooltip="number of slots used">n_used_slots</ref><sp/>+=<sp/>1;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++slot;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(slot<sp/>&lt;<sp/>allocator-&gt;n_allocated_slots);</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structDBusAllocatedSlot" kindref="compound" tooltip="An allocated slot for storing data.">DBusAllocatedSlot</ref><sp/>*tmp;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>slot<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tmp<sp/>=<sp/><ref refid="group__DBusMemory_1ga2d505f2960ccf343042d363170b27f9c" kindref="member" tooltip="Resizes a block of memory previously allocated by dbus_malloc() or dbus_malloc0().">dbus_realloc</ref><sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>,</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sizeof<sp/>(<ref refid="structDBusAllocatedSlot" kindref="compound" tooltip="An allocated slot for storing data.">DBusAllocatedSlot</ref>)<sp/>*<sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" kindref="member" tooltip="number of slots malloc&amp;#39;d">n_allocated_slots</ref><sp/>+<sp/>1));</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tmp<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>out;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref><sp/>=<sp/>tmp;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>slot<sp/>=<sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" kindref="member" tooltip="number of slots malloc&amp;#39;d">n_allocated_slots</ref>;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" kindref="member" tooltip="number of slots malloc&amp;#39;d">n_allocated_slots</ref><sp/>+=<sp/>1;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ad68b0989a821eb266983052f8a402a4a" kindref="member" tooltip="number of slots used">n_used_slots</ref><sp/>+=<sp/>1;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[slot].<ref refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" kindref="member" tooltip="ID of this slot.">slot_id</ref><sp/>=<sp/>slot;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[slot].<ref refid="structDBusAllocatedSlot_1a554eaffc3334a90a86f618eaa713410c" kindref="member" tooltip="Number of uses of the slot.">refcount</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(slot<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(slot<sp/>&lt;<sp/>allocator-&gt;n_allocated_slots);</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(*slot_id_p<sp/>&lt;<sp/>0);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[slot].<ref refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" kindref="member" tooltip="ID of this slot.">slot_id</ref><sp/>==<sp/>slot);</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[slot].<ref refid="structDBusAllocatedSlot_1a554eaffc3334a90a86f618eaa713410c" kindref="member" tooltip="Number of uses of the slot.">refcount</ref><sp/>==<sp/>1);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/>*slot_id_p<sp/>=<sp/>slot;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/>_dbus_verbose<sp/>(</highlight><highlight class="stringliteral">&quot;Allocated<sp/>slot<sp/>%d<sp/>on<sp/>allocator<sp/>%p<sp/>total<sp/>%d<sp/>slots<sp/>allocated<sp/>%d<sp/>used\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>slot,<sp/>allocator,<sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" kindref="member" tooltip="number of slots malloc&amp;#39;d">n_allocated_slots</ref>,<sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ad68b0989a821eb266983052f8a402a4a" kindref="member" tooltip="number of slots used">n_used_slots</ref>);</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/>out:</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><ref refid="group__DBusThreadsInternals_1ga94dcc555488e5d677f10bd3898d61c00" kindref="member" tooltip="Unlocks a mutex.">_dbus_mutex_unlock</ref><sp/>(*(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref>));</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>slot<sp/>&gt;=<sp/>0;</highlight></codeline>
<codeline lineno="151"><highlight class="normal">}</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165" refid="group__DBusDataSlot_1ga059c50a24cd9fc984e918e6159841633" refkind="member"><highlight class="normal"><ref refid="group__DBusDataSlot_1ga059c50a24cd9fc984e918e6159841633" kindref="member" tooltip="Deallocates an ID previously allocated with _dbus_data_slot_allocator_alloc().">_dbus_data_slot_allocator_free</ref><sp/>(<ref refid="structDBusDataSlotAllocator" kindref="compound" tooltip="An allocator that tracks a set of slot IDs.">DBusDataSlotAllocator</ref><sp/>*allocator,</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dbus_int32_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*slot_id_p)</highlight></codeline>
<codeline lineno="167"><highlight class="normal">{</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><ref refid="group__DBusThreadsInternals_1gae6eafe138e9c317bfb25971d1d8bef2d" kindref="member" tooltip="Locks a mutex.">_dbus_mutex_lock</ref><sp/>(*(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref>));</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(*slot_id_p<sp/>&lt;<sp/>allocator-&gt;n_allocated_slots);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[*slot_id_p].<ref refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" kindref="member" tooltip="ID of this slot.">slot_id</ref><sp/>==<sp/>*slot_id_p);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[*slot_id_p].<ref refid="structDBusAllocatedSlot_1a554eaffc3334a90a86f618eaa713410c" kindref="member" tooltip="Number of uses of the slot.">refcount</ref><sp/>&gt;<sp/>0);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[*slot_id_p].<ref refid="structDBusAllocatedSlot_1a554eaffc3334a90a86f618eaa713410c" kindref="member" tooltip="Number of uses of the slot.">refcount</ref><sp/>-=<sp/>1;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[*slot_id_p].<ref refid="structDBusAllocatedSlot_1a554eaffc3334a90a86f618eaa713410c" kindref="member" tooltip="Number of uses of the slot.">refcount</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusThreadsInternals_1ga94dcc555488e5d677f10bd3898d61c00" kindref="member" tooltip="Unlocks a mutex.">_dbus_mutex_unlock</ref><sp/>(*(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref>));</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>refcount<sp/>is<sp/>0,<sp/>free<sp/>the<sp/>slot<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/>_dbus_verbose<sp/>(</highlight><highlight class="stringliteral">&quot;Freeing<sp/>slot<sp/>%d<sp/>on<sp/>allocator<sp/>%p<sp/>total<sp/>%d<sp/>allocated<sp/>%d<sp/>used\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*slot_id_p,<sp/>allocator,<sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" kindref="member" tooltip="number of slots malloc&amp;#39;d">n_allocated_slots</ref>,<sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ad68b0989a821eb266983052f8a402a4a" kindref="member" tooltip="number of slots used">n_used_slots</ref>);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[*slot_id_p].<ref refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" kindref="member" tooltip="ID of this slot.">slot_id</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/>*slot_id_p<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ad68b0989a821eb266983052f8a402a4a" kindref="member" tooltip="number of slots used">n_used_slots</ref><sp/>-=<sp/>1;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ad68b0989a821eb266983052f8a402a4a" kindref="member" tooltip="number of slots used">n_used_slots</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusThreads_1ga4eb021cd6cd0830423eac2738e0ddc40" kindref="member" tooltip="An opaque mutex type provided by the DBusThreadFunctions implementation installed by dbus_threads_ini...">DBusMutex</ref><sp/>**mutex_loc<sp/>=<sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref>;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" kindref="member" tooltip="Frees a block of memory previously allocated by dbus_malloc() or dbus_malloc0().">dbus_free</ref><sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref><sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a57702eaf2d6558cc15f12205aca90dda" kindref="member" tooltip="number of slots malloc&amp;#39;d">n_allocated_slots</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref><sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusThreadsInternals_1ga94dcc555488e5d677f10bd3898d61c00" kindref="member" tooltip="Unlocks a mutex.">_dbus_mutex_unlock</ref><sp/>(*mutex_loc);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusThreadsInternals_1ga94dcc555488e5d677f10bd3898d61c00" kindref="member" tooltip="Unlocks a mutex.">_dbus_mutex_unlock</ref><sp/>(*(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref>));</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="206"><highlight class="normal">}</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213" refid="group__DBusDataSlot_1ga6de49b3a1210202215d40a5a19806992" refkind="member"><highlight class="normal"><ref refid="group__DBusDataSlot_1ga6de49b3a1210202215d40a5a19806992" kindref="member" tooltip="Initializes a slot list.">_dbus_data_slot_list_init</ref><sp/>(<ref refid="structDBusDataSlotList" kindref="compound" tooltip="Data structure that stores the actual user data set at a given slot.">DBusDataSlotList</ref><sp/>*list)</highlight></codeline>
<codeline lineno="214"><highlight class="normal">{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref><sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a2d6cb7670a940bc886c99cb892b44502" kindref="member" tooltip="Slots we have storage for in data_slots.">n_slots</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="217"><highlight class="normal">}</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="237" refid="group__DBusDataSlot_1gad2952f9f686d96e7114fc49ab7452e1a" refkind="member"><highlight class="normal"><ref refid="group__DBusDataSlot_1gad2952f9f686d96e7114fc49ab7452e1a" kindref="member" tooltip="Stores a pointer in the data slot list, along with an optional function to be used for freeing the da...">_dbus_data_slot_list_set</ref><sp/><sp/>(<ref refid="structDBusDataSlotAllocator" kindref="compound" tooltip="An allocator that tracks a set of slot IDs.">DBusDataSlotAllocator</ref><sp/>*allocator,</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structDBusDataSlotList" kindref="compound" tooltip="Data structure that stores the actual user data set at a given slot.">DBusDataSlotList</ref><sp/><sp/><sp/><sp/><sp/><sp/>*list,</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>slot,</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*data,</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusMemory_1ga061bcded226d76c7d7de35beaa165cb5" kindref="member" tooltip="The type of a function which frees a block of memory.">DBusFreeFunction</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free_data_func,</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusMemory_1ga061bcded226d76c7d7de35beaa165cb5" kindref="member" tooltip="The type of a function which frees a block of memory.">DBusFreeFunction</ref><sp/><sp/><sp/><sp/><sp/><sp/>*old_free_func,</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**old_data)</highlight></codeline>
<codeline lineno="244"><highlight class="normal">{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>DBUS_DISABLE_ASSERT</highlight></codeline>
<codeline lineno="246"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>need<sp/>to<sp/>take<sp/>the<sp/>allocator<sp/>lock<sp/>here,<sp/>because<sp/>the<sp/>allocator<sp/>could</highlight></codeline>
<codeline lineno="247"><highlight class="comment"><sp/><sp/><sp/>*<sp/>be<sp/>e.g.<sp/>realloc()ing<sp/>allocated_slots.<sp/>We<sp/>avoid<sp/>doing<sp/>this<sp/>if<sp/>asserts</highlight></codeline>
<codeline lineno="248"><highlight class="comment"><sp/><sp/><sp/>*<sp/>are<sp/>disabled,<sp/>since<sp/>then<sp/>the<sp/>asserts<sp/>are<sp/>empty.</highlight></codeline>
<codeline lineno="249"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><ref refid="group__DBusThreadsInternals_1gae6eafe138e9c317bfb25971d1d8bef2d" kindref="member" tooltip="Locks a mutex.">_dbus_mutex_lock</ref><sp/>(*(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref>));</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(slot<sp/>&lt;<sp/>allocator-&gt;n_allocated_slots);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[slot].<ref refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" kindref="member" tooltip="ID of this slot.">slot_id</ref><sp/>==<sp/>slot);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><ref refid="group__DBusThreadsInternals_1ga94dcc555488e5d677f10bd3898d61c00" kindref="member" tooltip="Unlocks a mutex.">_dbus_mutex_unlock</ref><sp/>(*(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref>));</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="255"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(slot<sp/>&gt;=<sp/>list-&gt;<ref refid="structDBusDataSlotList_1a2d6cb7670a940bc886c99cb892b44502" kindref="member" tooltip="Slots we have storage for in data_slots.">n_slots</ref>)</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structDBusDataSlot" kindref="compound" tooltip="DBusDataSlot is used to store application data on the connection.">DBusDataSlot</ref><sp/>*tmp;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tmp<sp/>=<sp/><ref refid="group__DBusMemory_1ga2d505f2960ccf343042d363170b27f9c" kindref="member" tooltip="Resizes a block of memory previously allocated by dbus_malloc() or dbus_malloc0().">dbus_realloc</ref><sp/>(list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>,</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sizeof<sp/>(<ref refid="structDBusDataSlot" kindref="compound" tooltip="DBusDataSlot is used to store application data on the connection.">DBusDataSlot</ref>)<sp/>*<sp/>(slot<sp/>+<sp/>1));</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tmp<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref><sp/>=<sp/>tmp;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/>list-&gt;<ref refid="structDBusDataSlotList_1a2d6cb7670a940bc886c99cb892b44502" kindref="member" tooltip="Slots we have storage for in data_slots.">n_slots</ref>;</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a2d6cb7670a940bc886c99cb892b44502" kindref="member" tooltip="Slots we have storage for in data_slots.">n_slots</ref><sp/>=<sp/>slot<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(i<sp/>&lt;<sp/>list-&gt;n_slots)</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[i].<ref refid="structDBusDataSlot_1a883c8c8946f13b6f5f3cf99f230159fd" kindref="member" tooltip="The application data.">data</ref><sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[i].<ref refid="structDBusDataSlot_1ab899f58869942556fb1b381ca3f3e2b2" kindref="member" tooltip="Free the application data.">free_data_func</ref><sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++i;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(slot<sp/>&lt;<sp/>list-&gt;n_slots);</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/>*old_data<sp/>=<sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[slot].<ref refid="structDBusDataSlot_1a883c8c8946f13b6f5f3cf99f230159fd" kindref="member" tooltip="The application data.">data</ref>;</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/>*old_free_func<sp/>=<sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[slot].<ref refid="structDBusDataSlot_1ab899f58869942556fb1b381ca3f3e2b2" kindref="member" tooltip="Free the application data.">free_data_func</ref>;</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[slot].<ref refid="structDBusDataSlot_1a883c8c8946f13b6f5f3cf99f230159fd" kindref="member" tooltip="The application data.">data</ref><sp/>=<sp/>data;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[slot].<ref refid="structDBusDataSlot_1ab899f58869942556fb1b381ca3f3e2b2" kindref="member" tooltip="Free the application data.">free_data_func</ref><sp/>=<sp/>free_data_func;</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" tooltip="Expands to &amp;quot;1&amp;quot;.">TRUE</ref>;</highlight></codeline>
<codeline lineno="286"><highlight class="normal">}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="keywordtype">void</highlight><highlight class="normal">*</highlight></codeline>
<codeline lineno="298" refid="group__DBusDataSlot_1ga43f741229f0c38788442601e2750ec66" refkind="member"><highlight class="normal"><ref refid="group__DBusDataSlot_1ga43f741229f0c38788442601e2750ec66" kindref="member" tooltip="Retrieves data previously set with _dbus_data_slot_list_set_data().">_dbus_data_slot_list_get</ref><sp/><sp/>(<ref refid="structDBusDataSlotAllocator" kindref="compound" tooltip="An allocator that tracks a set of slot IDs.">DBusDataSlotAllocator</ref><sp/>*allocator,</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structDBusDataSlotList" kindref="compound" tooltip="Data structure that stores the actual user data set at a given slot.">DBusDataSlotList</ref><sp/><sp/><sp/><sp/><sp/><sp/>*list,</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>slot)</highlight></codeline>
<codeline lineno="301"><highlight class="normal">{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>DBUS_DISABLE_ASSERT</highlight></codeline>
<codeline lineno="303"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>need<sp/>to<sp/>take<sp/>the<sp/>allocator<sp/>lock<sp/>here,<sp/>because<sp/>the<sp/>allocator<sp/>could</highlight></codeline>
<codeline lineno="304"><highlight class="comment"><sp/><sp/><sp/>*<sp/>be<sp/>e.g.<sp/>realloc()ing<sp/>allocated_slots.<sp/>We<sp/>avoid<sp/>doing<sp/>this<sp/>if<sp/>asserts</highlight></codeline>
<codeline lineno="305"><highlight class="comment"><sp/><sp/><sp/>*<sp/>are<sp/>disabled,<sp/>since<sp/>then<sp/>the<sp/>asserts<sp/>are<sp/>empty.</highlight></codeline>
<codeline lineno="306"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><ref refid="group__DBusThreadsInternals_1gae6eafe138e9c317bfb25971d1d8bef2d" kindref="member" tooltip="Locks a mutex.">_dbus_mutex_lock</ref><sp/>(*(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref>));</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(slot<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(slot<sp/>&lt;<sp/>allocator-&gt;n_allocated_slots);</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1a290fc1a48efc181da4e54dae572306b5" kindref="member" tooltip="Allocated slots.">allocated_slots</ref>[slot].<ref refid="structDBusAllocatedSlot_1a849e5f8d951d159c45172ce825fb3a1e" kindref="member" tooltip="ID of this slot.">slot_id</ref><sp/>==<sp/>slot);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><ref refid="group__DBusThreadsInternals_1ga94dcc555488e5d677f10bd3898d61c00" kindref="member" tooltip="Unlocks a mutex.">_dbus_mutex_unlock</ref><sp/>(*(allocator-&gt;<ref refid="structDBusDataSlotAllocator_1ab85a00ac97c3d0148de0168f1c1439dc" kindref="member" tooltip="location of thread lock">lock_loc</ref>));</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="313"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(slot<sp/>&gt;=<sp/>list-&gt;<ref refid="structDBusDataSlotList_1a2d6cb7670a940bc886c99cb892b44502" kindref="member" tooltip="Slots we have storage for in data_slots.">n_slots</ref>)</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[slot].<ref refid="structDBusDataSlot_1a883c8c8946f13b6f5f3cf99f230159fd" kindref="member" tooltip="The application data.">data</ref>;</highlight></codeline>
<codeline lineno="318"><highlight class="normal">}</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327" refid="group__DBusDataSlot_1ga3c96d2ca263ba397b4da2956a49ae282" refkind="member"><highlight class="normal"><ref refid="group__DBusDataSlot_1ga3c96d2ca263ba397b4da2956a49ae282" kindref="member" tooltip="Frees all data slots contained in the list, calling application-provided free functions if they exist...">_dbus_data_slot_list_clear</ref><sp/>(<ref refid="structDBusDataSlotList" kindref="compound" tooltip="Data structure that stores the actual user data set at a given slot.">DBusDataSlotList</ref><sp/>*list)</highlight></codeline>
<codeline lineno="328"><highlight class="normal">{</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(i<sp/>&lt;<sp/>list-&gt;n_slots)</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[i].<ref refid="structDBusDataSlot_1ab899f58869942556fb1b381ca3f3e2b2" kindref="member" tooltip="Free the application data.">free_data_func</ref>)</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(*<sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[i].<ref refid="structDBusDataSlot_1ab899f58869942556fb1b381ca3f3e2b2" kindref="member" tooltip="Free the application data.">free_data_func</ref>)<sp/>(list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[i].<ref refid="structDBusDataSlot_1a883c8c8946f13b6f5f3cf99f230159fd" kindref="member" tooltip="The application data.">data</ref>);</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[i].<ref refid="structDBusDataSlot_1a883c8c8946f13b6f5f3cf99f230159fd" kindref="member" tooltip="The application data.">data</ref><sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>[i].<ref refid="structDBusDataSlot_1ab899f58869942556fb1b381ca3f3e2b2" kindref="member" tooltip="Free the application data.">free_data_func</ref><sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++i;</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="340"><highlight class="normal">}</highlight></codeline>
<codeline lineno="341"><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="350" refid="group__DBusDataSlot_1gabc399733376c462c3010271a2d431e73" refkind="member"><highlight class="normal"><ref refid="group__DBusDataSlot_1gabc399733376c462c3010271a2d431e73" kindref="member" tooltip="Frees the data slot list and all data slots contained in it, calling application-provided free functi...">_dbus_data_slot_list_free</ref><sp/>(<ref refid="structDBusDataSlotList" kindref="compound" tooltip="Data structure that stores the actual user data set at a given slot.">DBusDataSlotList</ref><sp/>*list)</highlight></codeline>
<codeline lineno="351"><highlight class="normal">{</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><ref refid="group__DBusDataSlot_1ga3c96d2ca263ba397b4da2956a49ae282" kindref="member" tooltip="Frees all data slots contained in the list, calling application-provided free functions if they exist...">_dbus_data_slot_list_clear</ref><sp/>(list);</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><ref refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" kindref="member" tooltip="Frees a block of memory previously allocated by dbus_malloc() or dbus_malloc0().">dbus_free</ref><sp/>(list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref>);</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a4dd0fc6cc10b9c48dd53f34335abd08e" kindref="member" tooltip="Data slots.">slots</ref><sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/>list-&gt;<ref refid="structDBusDataSlotList_1a2d6cb7670a940bc886c99cb892b44502" kindref="member" tooltip="Slots we have storage for in data_slots.">n_slots</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="357"><highlight class="normal">}</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="preprocessor">#ifdef<sp/>DBUS_BUILD_TESTS</highlight></codeline>
<codeline lineno="362"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;dbus-test.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>free_counter;</highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal">test_free_slot_data_func<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*data)</highlight></codeline>
<codeline lineno="369"><highlight class="normal">{</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>_DBUS_POINTER_TO_INT<sp/>(data);</highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(free_counter<sp/>==<sp/>i);</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/>++free_counter;</highlight></codeline>
<codeline lineno="374"><highlight class="normal">}</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="380"><highlight class="normal">_dbus_data_slot_test<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="381"><highlight class="normal">{</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><ref refid="structDBusDataSlotAllocator" kindref="compound" tooltip="An allocator that tracks a set of slot IDs.">DBusDataSlotAllocator</ref><sp/>allocator;</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><ref refid="structDBusDataSlotList" kindref="compound" tooltip="Data structure that stores the actual user data set at a given slot.">DBusDataSlotList</ref><sp/>list;</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><ref refid="group__DBusMemory_1ga061bcded226d76c7d7de35beaa165cb5" kindref="member" tooltip="The type of a function which frees a block of memory.">DBusFreeFunction</ref><sp/>old_free_func;</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*old_data;</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><ref refid="group__DBusThreads_1ga4eb021cd6cd0830423eac2738e0ddc40" kindref="member" tooltip="An opaque mutex type provided by the DBusThreadFunctions implementation installed by dbus_threads_ini...">DBusMutex</ref><sp/>*mutex;</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusDataSlot_1ga5edceab2f5849ff8a6f6cee5d1afc906" kindref="member" tooltip="Initializes a data slot allocator object, used to assign integer IDs for data slots.">_dbus_data_slot_allocator_init</ref><sp/>(&amp;allocator))</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/>_dbus_assert_not_reached<sp/>(</highlight><highlight class="stringliteral">&quot;no<sp/>memory<sp/>for<sp/>allocator&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><ref refid="group__DBusDataSlot_1ga6de49b3a1210202215d40a5a19806992" kindref="member" tooltip="Initializes a slot list.">_dbus_data_slot_list_init</ref><sp/>(&amp;list);</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><ref refid="group__DBusThreadsInternals_1ga5b22688470ddee6e7b9c9b6eb751fa2e" kindref="member" tooltip="This does the same thing as _dbus_mutex_new.">_dbus_mutex_new_at_location</ref><sp/>(&amp;mutex);</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mutex<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/>_dbus_assert_not_reached<sp/>(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>alloc<sp/>mutex&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>N_SLOTS<sp/>100</highlight></codeline>
<codeline lineno="399"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(i<sp/>&lt;<sp/>N_SLOTS)</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>we<sp/>don&apos;t<sp/>really<sp/>want<sp/>apps<sp/>to<sp/>rely<sp/>on<sp/>this<sp/>ordered</highlight></codeline>
<codeline lineno="404"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>allocation,<sp/>but<sp/>it<sp/>simplifies<sp/>things<sp/>to<sp/>rely<sp/>on<sp/>it</highlight></codeline>
<codeline lineno="405"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>here.</highlight></codeline>
<codeline lineno="406"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dbus_int32_t<sp/>tmp<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusDataSlot_1ga941a12182e69c185bd27f6efbfbd0f86" kindref="member" tooltip="Allocates an integer ID to be used for storing data in a DBusDataSlotList.">_dbus_data_slot_allocator_alloc</ref><sp/>(&amp;allocator,<sp/>&amp;mutex,<sp/>&amp;tmp);</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tmp<sp/>!=<sp/>i)</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert_not_reached<sp/>(</highlight><highlight class="stringliteral">&quot;did<sp/>not<sp/>allocate<sp/>slots<sp/>in<sp/>numeric<sp/>order\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++i;</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(i<sp/>&lt;<sp/>N_SLOTS)</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusDataSlot_1gad2952f9f686d96e7114fc49ab7452e1a" kindref="member" tooltip="Stores a pointer in the data slot list, along with an optional function to be used for freeing the da...">_dbus_data_slot_list_set</ref><sp/>(&amp;allocator,<sp/>&amp;list,</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i,</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_DBUS_INT_TO_POINTER<sp/>(i),<sp/></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>test_free_slot_data_func,</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;old_free_func,<sp/>&amp;old_data))</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert_not_reached<sp/>(</highlight><highlight class="stringliteral">&quot;no<sp/>memory<sp/>to<sp/>set<sp/>data&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="426"><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(old_free_func<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>);</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(old_data<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>);</highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(<ref refid="group__DBusDataSlot_1ga43f741229f0c38788442601e2750ec66" kindref="member" tooltip="Retrieves data previously set with _dbus_data_slot_list_set_data().">_dbus_data_slot_list_get</ref><sp/>(&amp;allocator,<sp/>&amp;list,<sp/>i)<sp/>==</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_DBUS_INT_TO_POINTER<sp/>(i));</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++i;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/>free_counter<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(i<sp/>&lt;<sp/>N_SLOTS)</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusDataSlot_1gad2952f9f686d96e7114fc49ab7452e1a" kindref="member" tooltip="Stores a pointer in the data slot list, along with an optional function to be used for freeing the da...">_dbus_data_slot_list_set</ref><sp/>(&amp;allocator,<sp/>&amp;list,</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i,</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_DBUS_INT_TO_POINTER<sp/>(i),<sp/></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>test_free_slot_data_func,</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;old_free_func,<sp/>&amp;old_data))</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert_not_reached<sp/>(</highlight><highlight class="stringliteral">&quot;no<sp/>memory<sp/>to<sp/>set<sp/>data&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(old_free_func<sp/>==<sp/>test_free_slot_data_func);</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(_DBUS_POINTER_TO_INT<sp/>(old_data)<sp/>==<sp/>i);</highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(*<sp/>old_free_func)<sp/>(old_data);</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(i<sp/>==<sp/>(free_counter<sp/>-<sp/>1));</highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(<ref refid="group__DBusDataSlot_1ga43f741229f0c38788442601e2750ec66" kindref="member" tooltip="Retrieves data previously set with _dbus_data_slot_list_set_data().">_dbus_data_slot_list_get</ref><sp/>(&amp;allocator,<sp/>&amp;list,<sp/>i)<sp/>==</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_DBUS_INT_TO_POINTER<sp/>(i));</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++i;</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/>free_counter<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><ref refid="group__DBusDataSlot_1gabc399733376c462c3010271a2d431e73" kindref="member" tooltip="Frees the data slot list and all data slots contained in it, calling application-provided free functi...">_dbus_data_slot_list_free</ref><sp/>(&amp;list);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(N_SLOTS<sp/>==<sp/>free_counter);</highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(i<sp/>&lt;<sp/>N_SLOTS)</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dbus_int32_t<sp/>tmp<sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusDataSlot_1ga059c50a24cd9fc984e918e6159841633" kindref="member" tooltip="Deallocates an ID previously allocated with _dbus_data_slot_allocator_alloc().">_dbus_data_slot_allocator_free</ref><sp/>(&amp;allocator,<sp/>&amp;tmp);</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_assert<sp/>(tmp<sp/>==<sp/>-1);</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++i;</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="473"><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><ref refid="group__DBusThreadsInternals_1gafd7f94bf0c265660749ffa690e76248a" kindref="member" tooltip="Frees a mutex and removes it from the uninitialized_mutex_list; does nothing if passed a NULL pointer...">_dbus_mutex_free_at_location</ref><sp/>(&amp;mutex);</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" tooltip="Expands to &amp;quot;1&amp;quot;.">TRUE</ref>;</highlight></codeline>
<codeline lineno="477"><highlight class="normal">}</highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DBUS_BUILD_TESTS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-dataslot.c"/>
  </compounddef>
</doxygen>
