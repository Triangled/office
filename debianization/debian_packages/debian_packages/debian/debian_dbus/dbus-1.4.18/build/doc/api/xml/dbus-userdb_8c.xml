<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.7.6.1">
  <compounddef id="dbus-userdb_8c" kind="file">
    <compoundname>dbus-userdb.c</compoundname>
    <includes local="no">config.h</includes>
    <includes refid="dbus-userdb_8h" local="yes">dbus-userdb.h</includes>
    <includes refid="dbus-hash_8h" local="yes">dbus-hash.h</includes>
    <includes refid="dbus-test_8h" local="yes">dbus-test.h</includes>
    <includes refid="dbus-internals_8h" local="yes">dbus-internals.h</includes>
    <includes refid="dbus-protocol_8h" local="yes">dbus-protocol.h</includes>
    <includes refid="dbus-credentials_8h" local="yes">dbus-credentials.h</includes>
    <includes local="no">string.h</includes>
    <incdepgraph>
      <node id="4357">
        <label>stdarg.h</label>
      </node>
      <node id="4363">
        <label>dbus/dbus-threads-internal.h</label>
        <link refid="dbus-threads-internal_8h_source"/>
        <childnode refid="4349" relation="include">
        </childnode>
        <childnode refid="4350" relation="include">
        </childnode>
        <childnode refid="4364" relation="include">
        </childnode>
      </node>
      <node id="4361">
        <label>dbus/dbus-marshal-validate.h</label>
        <link refid="dbus-marshal-validate_8h_source"/>
      </node>
      <node id="4364">
        <label>dbus/dbus-threads.h</label>
        <link refid="dbus-threads_8h_source"/>
        <childnode refid="4349" relation="include">
        </childnode>
        <childnode refid="4350" relation="include">
        </childnode>
      </node>
      <node id="4348">
        <label>dbus/dbus-errors.h</label>
        <link refid="dbus-errors_8h_source"/>
        <childnode refid="4349" relation="include">
        </childnode>
        <childnode refid="4350" relation="include">
        </childnode>
        <childnode refid="4353" relation="include">
        </childnode>
      </node>
      <node id="4360">
        <label>dbus-test.h</label>
        <link refid="dbus-test_8h_source"/>
        <childnode refid="4350" relation="include">
        </childnode>
        <childnode refid="4355" relation="include">
        </childnode>
        <childnode refid="4361" relation="include">
        </childnode>
      </node>
      <node id="4362">
        <label>dbus-internals.h</label>
        <link refid="dbus-internals_8h_source"/>
        <childnode refid="4356" relation="include">
        </childnode>
        <childnode refid="4350" relation="include">
        </childnode>
        <childnode refid="4348" relation="include">
        </childnode>
        <childnode refid="4347" relation="include">
        </childnode>
        <childnode refid="4363" relation="include">
        </childnode>
      </node>
      <node id="4365">
        <label>dbus-credentials.h</label>
        <link refid="dbus-credentials_8h_source"/>
        <childnode refid="4349" relation="include">
        </childnode>
        <childnode refid="4348" relation="include">
        </childnode>
        <childnode refid="4355" relation="include">
        </childnode>
        <childnode refid="4347" relation="include">
        </childnode>
      </node>
      <node id="4351">
        <label>stddef.h</label>
      </node>
      <node id="4354">
        <label>dbus/dbus-file.h</label>
        <link refid="dbus-file_8h_source"/>
        <childnode refid="4355" relation="include">
        </childnode>
        <childnode refid="4348" relation="include">
        </childnode>
      </node>
      <node id="4352">
        <label>dbus/dbus-arch-deps.h</label>
      </node>
      <node id="4359">
        <label>dbus-hash.h</label>
        <link refid="dbus-hash_8h_source"/>
        <childnode refid="4356" relation="include">
        </childnode>
        <childnode refid="4350" relation="include">
        </childnode>
        <childnode refid="4347" relation="include">
        </childnode>
      </node>
      <node id="4349">
        <label>dbus/dbus-macros.h</label>
        <link refid="dbus-macros_8h_source"/>
      </node>
      <node id="4358">
        <label>string.h</label>
      </node>
      <node id="4347">
        <label>dbus/dbus-sysdeps.h</label>
        <link refid="dbus-sysdeps_8h_source"/>
        <childnode refid="4344" relation="include">
        </childnode>
        <childnode refid="4348" relation="include">
        </childnode>
        <childnode refid="4354" relation="include">
        </childnode>
        <childnode refid="4355" relation="include">
        </childnode>
        <childnode refid="4358" relation="include">
        </childnode>
        <childnode refid="4357" relation="include">
        </childnode>
      </node>
      <node id="4343">
        <label>dbus-userdb.c</label>
        <link refid="dbus-userdb.c"/>
        <childnode refid="4344" relation="include">
        </childnode>
        <childnode refid="4345" relation="include">
        </childnode>
        <childnode refid="4359" relation="include">
        </childnode>
        <childnode refid="4360" relation="include">
        </childnode>
        <childnode refid="4362" relation="include">
        </childnode>
        <childnode refid="4353" relation="include">
        </childnode>
        <childnode refid="4365" relation="include">
        </childnode>
        <childnode refid="4358" relation="include">
        </childnode>
      </node>
      <node id="4345">
        <label>dbus-userdb.h</label>
        <link refid="dbus-userdb_8h_source"/>
        <childnode refid="4346" relation="include">
        </childnode>
      </node>
      <node id="4350">
        <label>dbus/dbus-types.h</label>
        <link refid="dbus-types_8h_source"/>
        <childnode refid="4351" relation="include">
        </childnode>
        <childnode refid="4352" relation="include">
        </childnode>
      </node>
      <node id="4355">
        <label>dbus/dbus-string.h</label>
        <link refid="dbus-string_8h_source"/>
        <childnode refid="4349" relation="include">
        </childnode>
        <childnode refid="4350" relation="include">
        </childnode>
        <childnode refid="4356" relation="include">
        </childnode>
        <childnode refid="4357" relation="include">
        </childnode>
      </node>
      <node id="4346">
        <label>dbus/dbus-sysdeps-unix.h</label>
        <link refid="dbus-sysdeps-unix_8h_source"/>
        <childnode refid="4347" relation="include">
        </childnode>
      </node>
      <node id="4356">
        <label>dbus/dbus-memory.h</label>
        <link refid="dbus-memory_8h_source"/>
        <childnode refid="4349" relation="include">
        </childnode>
        <childnode refid="4351" relation="include">
        </childnode>
      </node>
      <node id="4353">
        <label>dbus/dbus-protocol.h</label>
        <link refid="dbus-protocol_8h_source"/>
      </node>
      <node id="4344">
        <label>config.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="dbus-userdb_8c_1a2f5f9b62718c18e1a647eee6355455a5" prot="public" static="no">
        <name>DBUS_USERDB_INCLUDES_PRIVATE</name>
        <initializer>1</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="24" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="24" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="group__DBusInternalsUtils_1ga71137bd04098ef1f2e38c2fe276d8525" prot="public" static="yes" mutable="no">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t database_locked</definition>
        <argsstring></argsstring>
        <name>database_locked</name>
        <initializer> <ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="222" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="222" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="group__DBusInternalsUtils_1gae0d78c1e4b59aec63ab7384dd5c32ead" prot="public" static="yes" mutable="no">
        <type>DBusUserDatabase *</type>
        <definition>DBusUserDatabase* system_db</definition>
        <argsstring></argsstring>
        <name>system_db</name>
        <initializer> <ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="223" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="223" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="group__DBusInternalsUtils_1ga19f86286266529153c6d37a133631ccf" prot="public" static="yes" mutable="no">
        <type><ref refid="structDBusString" kindref="compound">DBusString</ref></type>
        <definition>DBusString process_username</definition>
        <argsstring></argsstring>
        <name>process_username</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="224" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="224" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="group__DBusInternalsUtils_1gaf7ce13375c0562facc2161b65dbdb207" prot="public" static="yes" mutable="no">
        <type><ref refid="structDBusString" kindref="compound">DBusString</ref></type>
        <definition>DBusString process_homedir</definition>
        <argsstring></argsstring>
        <name>process_homedir</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="225" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="225" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="group__DBusInternalsUtils_1gaf725ba6f380a3b926650626eef714b67" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_user_info_free_allocated</definition>
        <argsstring>(DBusUserInfo *info)</argsstring>
        <name>_dbus_user_info_free_allocated</name>
        <param>
          <type><ref refid="structDBusUserInfo" kindref="compound">DBusUserInfo</ref> *</type>
          <declname>info</declname>
        </param>
        <briefdescription>
<para>Frees the given <ref refid="structDBusUserInfo" kindref="compound">DBusUserInfo</ref>&apos;s members with <ref refid="group__DBusSysdepsUnix_1gaa40334f7b4f185a437a8bc6d6e0994a1" kindref="member">_dbus_user_info_free()</ref> and also calls <ref refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" kindref="member">dbus_free()</ref> on the block itself. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>info</parametername>
</parameternamelist>
<parameterdescription>
<para>the info </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="46" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="45" bodyend="52"/>
        <references refid="group__DBusSysdepsUnix_1gaa40334f7b4f185a437a8bc6d6e0994a1" compoundref="dbus-userdb_8c" startline="76" endline="81">_dbus_user_info_free</references>
        <references refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" compoundref="dbus-memory_8c" startline="629" endline="668">dbus_free</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <referencedby refid="group__DBusInternalsUtils_1ga959372f7d7cdea35ffbac3b78e29a1b0" compoundref="dbus-userdb_8c" startline="128" endline="220">_dbus_user_database_lookup</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga1dbf2c80952d17707c544f5d86dd8545" compoundref="dbus-userdb_8c" startline="531" endline="568">_dbus_user_database_new</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1gab9420d7a4a31329a00fd5709f8cf08ba" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_group_info_free_allocated</definition>
        <argsstring>(DBusGroupInfo *info)</argsstring>
        <name>_dbus_group_info_free_allocated</name>
        <param>
          <type><ref refid="structDBusGroupInfo" kindref="compound">DBusGroupInfo</ref> *</type>
          <declname>info</declname>
        </param>
        <briefdescription>
<para>Frees the given <ref refid="structDBusGroupInfo" kindref="compound">DBusGroupInfo</ref>&apos;s members with <ref refid="group__DBusSysdepsUnix_1gac2d226476e6fff50bdfaace18b897fe9" kindref="member">_dbus_group_info_free()</ref> and also calls <ref refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" kindref="member">dbus_free()</ref> on the block itself. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>info</parametername>
</parameternamelist>
<parameterdescription>
<para>the info </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="62" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="61" bodyend="68"/>
        <references refid="group__DBusSysdepsUnix_1gac2d226476e6fff50bdfaace18b897fe9" compoundref="dbus-userdb_8c" startline="89" endline="92">_dbus_group_info_free</references>
        <references refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" compoundref="dbus-memory_8c" startline="629" endline="668">dbus_free</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <referencedby refid="group__DBusInternalsUtils_1gaf6b7452691c0c7d11fec4b9214137052" compoundref="dbus-userdb-util_8c" startline="209" endline="300">_dbus_user_database_lookup_group</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga1dbf2c80952d17707c544f5d86dd8545" compoundref="dbus-userdb_8c" startline="531" endline="568">_dbus_user_database_new</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1gaa40334f7b4f185a437a8bc6d6e0994a1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_user_info_free</definition>
        <argsstring>(DBusUserInfo *info)</argsstring>
        <name>_dbus_user_info_free</name>
        <param>
          <type><ref refid="structDBusUserInfo" kindref="compound">DBusUserInfo</ref> *</type>
          <declname>info</declname>
        </param>
        <briefdescription>
<para>Frees the members of info (but not info itself) </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>info</parametername>
</parameternamelist>
<parameterdescription>
<para>the user info struct </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="77" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="76" bodyend="81"/>
        <references refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" compoundref="dbus-memory_8c" startline="629" endline="668">dbus_free</references>
        <references refid="structDBusUserInfo_1a902af9e0fb7d37c14eefb7d2b016ab11" compoundref="dbus-sysdeps-unix_8h" startline="100">DBusUserInfo::group_ids</references>
        <references refid="structDBusUserInfo_1a5235d4d021cd134e1130e1e8e912bc0c" compoundref="dbus-sysdeps-unix_8h" startline="103">DBusUserInfo::homedir</references>
        <references refid="structDBusUserInfo_1ac6b57db1dc8315eee3f532f4e77912d1" compoundref="dbus-sysdeps-unix_8h" startline="102">DBusUserInfo::username</references>
        <referencedby refid="group__DBusInternalsUtils_1gaf725ba6f380a3b926650626eef714b67" compoundref="dbus-userdb_8c" startline="45" endline="52">_dbus_user_info_free_allocated</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1gac2d226476e6fff50bdfaace18b897fe9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_group_info_free</definition>
        <argsstring>(DBusGroupInfo *info)</argsstring>
        <name>_dbus_group_info_free</name>
        <param>
          <type><ref refid="structDBusGroupInfo" kindref="compound">DBusGroupInfo</ref> *</type>
          <declname>info</declname>
        </param>
        <briefdescription>
<para>Frees the members of info (but not info itself). </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>info</parametername>
</parameternamelist>
<parameterdescription>
<para>the group info </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="90" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="89" bodyend="92"/>
        <references refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" compoundref="dbus-memory_8c" startline="629" endline="668">dbus_free</references>
        <references refid="structDBusGroupInfo_1af1a4b925663336f64c62cfcab40571c6" compoundref="dbus-sysdeps-unix_8h" startline="112">DBusGroupInfo::groupname</references>
        <referencedby refid="group__DBusInternalsUtils_1gab9420d7a4a31329a00fd5709f8cf08ba" compoundref="dbus-userdb_8c" startline="61" endline="68">_dbus_group_info_free_allocated</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1gad1c3538c544df91f438a13c9fb4d3a1b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t _dbus_is_a_number</definition>
        <argsstring>(const DBusString *str, unsigned long *num)</argsstring>
        <name>_dbus_is_a_number</name>
        <param>
          <type>const <ref refid="structDBusString" kindref="compound">DBusString</ref> *</type>
          <declname>str</declname>
        </param>
        <param>
          <type>unsigned long *</type>
          <declname>num</declname>
        </param>
        <briefdescription>
<para>Checks if a given string is actually a number and converts it if it is. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>str</parametername>
</parameternamelist>
<parameterdescription>
<para>the string to check </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>num</parametername>
</parameternamelist>
<parameterdescription>
<para>the memory location of the unsigned long to fill in </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>TRUE if str is a number and num is filled in </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="105" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="103" bodyend="113"/>
        <references refid="group__DBusString_1ga84cc8d08bb48b7915d673f7cc7886f97" compoundref="dbus-sysdeps_8c" startline="552" endline="576">_dbus_string_parse_uint</references>
        <references refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="group__DBusInternalsUtils_1ga959372f7d7cdea35ffbac3b78e29a1b0" compoundref="dbus-userdb_8c" startline="128" endline="220">_dbus_user_database_lookup</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gaf6b7452691c0c7d11fec4b9214137052" compoundref="dbus-userdb-util_8c" startline="209" endline="300">_dbus_user_database_lookup_group</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1ga959372f7d7cdea35ffbac3b78e29a1b0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structDBusUserInfo" kindref="compound">DBusUserInfo</ref> *</type>
        <definition>DBusUserInfo* _dbus_user_database_lookup</definition>
        <argsstring>(DBusUserDatabase *db, dbus_uid_t uid, const DBusString *username, DBusError *error)</argsstring>
        <name>_dbus_user_database_lookup</name>
        <param>
          <type>DBusUserDatabase *</type>
          <declname>db</declname>
        </param>
        <param>
          <type><ref refid="group__DBusSysdeps_1ga186e987b700f9ddc6cea8aa0db82b151" kindref="member">dbus_uid_t</ref></type>
          <declname>uid</declname>
        </param>
        <param>
          <type>const <ref refid="structDBusString" kindref="compound">DBusString</ref> *</type>
          <declname>username</declname>
        </param>
        <param>
          <type><ref refid="structDBusError" kindref="compound">DBusError</ref> *</type>
          <declname>error</declname>
        </param>
        <briefdescription>
<para>Looks up a uid or username in the user database. </para>        </briefdescription>
        <detaileddescription>
<para>Only one of name or UID can be provided. There are wrapper functions for this that are better to use, this one does no locking or anything on the database and otherwise sort of sucks.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>db</parametername>
</parameternamelist>
<parameterdescription>
<para>the database </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>uid</parametername>
</parameternamelist>
<parameterdescription>
<para>the user ID or <ref refid="group__DBusSysdeps_1ga3d2f3fb32bb759cabe362ca2de383f7d" kindref="member">DBUS_UID_UNSET</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>username</parametername>
</parameternamelist>
<parameterdescription>
<para>username or <ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>error</parametername>
</parameternamelist>
<parameterdescription>
<para>error to fill in </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the entry in the database </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="132" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="128" bodyend="220"/>
        <references refid="group__DBusHashTable_1ga43e98a91a11952824c544330e19f6c22" compoundref="dbus-hash_8c" startline="1434" endline="1450">_dbus_hash_table_insert_string</references>
        <references refid="group__DBusHashTable_1ga811d833032ca919a9063ca835482d01a" compoundref="dbus-hash_8c" startline="1596" endline="1619">_dbus_hash_table_insert_uintptr</references>
        <references refid="group__DBusHashTable_1gad51eb3fe682721dd4f6a920ca87cb730" compoundref="dbus-hash_8c" startline="1153" endline="1166">_dbus_hash_table_lookup_string</references>
        <references refid="group__DBusHashTable_1gae0ac411f87a797767f36c6e64fd807b3" compoundref="dbus-hash_8c" startline="1258" endline="1271">_dbus_hash_table_lookup_uintptr</references>
        <references refid="group__DBusHashTable_1ga0ad8fa1108bad2b4bd5b4ce539d32d64" compoundref="dbus-hash_8c" startline="1399" endline="1416">_dbus_hash_table_remove_uintptr</references>
        <references refid="group__DBusInternalsUtils_1gad1c3538c544df91f438a13c9fb4d3a1b" compoundref="dbus-userdb_8c" startline="103" endline="113">_dbus_is_a_number</references>
        <references refid="group__DBusSysdepsUnix_1ga95e9deb9dd2d76aa3a64fdac555d956d" compoundref="dbus-sysdeps-unix_8c" startline="2194" endline="2200">_dbus_user_info_fill</references>
        <references refid="group__DBusSysdepsUnix_1gafcc2fbcde2c72f499f04fa43d97dfcec" compoundref="dbus-sysdeps-unix_8c" startline="2211" endline="2217">_dbus_user_info_fill_uid</references>
        <references refid="group__DBusInternalsUtils_1gaf725ba6f380a3b926650626eef714b67" compoundref="dbus-userdb_8c" startline="45" endline="52">_dbus_user_info_free_allocated</references>
        <references refid="group__DBusProtocol_1gac32eaf0b92f798307853cd4fe0cf11c2" compoundref="dbus-protocol_8h" startline="352">DBUS_ERROR_NO_MEMORY</references>
        <references refid="group__DBusMemory_1gaba9d823abda7f4cadbaf5177d3b8b793" compoundref="dbus-memory_8h" startline="59">dbus_new0</references>
        <references refid="group__DBusErrors_1ga89d2ad4bde21f9e0057fac07a79885e3" compoundref="dbus-errors_8c" startline="354" endline="420">dbus_set_error</references>
        <references refid="group__DBusSysdeps_1gab657f0434f01b463891942f373f7b4a1" compoundref="dbus-sysdeps_8h" startline="114">DBUS_UID_FORMAT</references>
        <references refid="group__DBusSysdeps_1ga3d2f3fb32bb759cabe362ca2de383f7d" compoundref="dbus-sysdeps_8h" startline="107">DBUS_UID_UNSET</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="structDBusUserInfo_1a2d9c74d29f371e391a79b81162050b2e" compoundref="dbus-sysdeps-unix_8h" startline="98">DBusUserInfo::uid</references>
        <references refid="structDBusUserInfo_1ac6b57db1dc8315eee3f532f4e77912d1" compoundref="dbus-sysdeps-unix_8h" startline="102">DBusUserInfo::username</references>
        <referencedby refid="group__DBusInternalsUtils_1gaa504db352a939909051a494d06c5b607" compoundref="dbus-userdb-util_8c" startline="44" endline="105">_dbus_is_console_user</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga6a7e8b8cf3a6968972e9a49726022638" compoundref="dbus-userdb_8c" startline="638" endline="645">_dbus_user_database_get_uid</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gaccf1d5b330707a1835dcf4ce49a29c8c" compoundref="dbus-userdb_8c" startline="657" endline="664">_dbus_user_database_get_username</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1gaa49778fd451a0acd5cff8648172bc753" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void shutdown_system_db</definition>
        <argsstring>(void *data)</argsstring>
        <name>shutdown_system_db</name>
        <param>
          <type>void *</type>
          <declname>data</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="229" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="228" bodyend="235"/>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1ga96f3161641987262014ea14f73789d5b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>static dbus_bool_t init_system_db</definition>
        <argsstring>(void)</argsstring>
        <name>init_system_db</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="239" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="238" bodyend="304"/>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_user_database_lock_system</definition>
        <argsstring>(void)</argsstring>
        <name>_dbus_user_database_lock_system</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Locks global system user database. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="311" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="310" bodyend="314"/>
        <references refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="group__DBusInternalsUtils_1gaa504db352a939909051a494d06c5b607" compoundref="dbus-userdb-util_8c" startline="44" endline="105">_dbus_is_console_user</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga90657adefa9bbac9b35eee63dd46a854" compoundref="dbus-userdb-util_8c" startline="129" endline="154">_dbus_get_group_id</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gac82f42ff83fabbde717cc08569265e6e" compoundref="dbus-userdb-util_8c" startline="165" endline="194">_dbus_get_user_id_and_primary_group</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gae9408936869314101f8ea13dfa5ba968" compoundref="dbus-userdb-util_8c" startline="355" endline="398">_dbus_groups_from_uid</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga788ce7775d7f812d28d931e8b87ddfde" compoundref="dbus-userdb_8c" startline="346" endline="354">_dbus_user_database_flush_system</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga9c4c1850787bfd457107b95fa1878869" compoundref="dbus-userdb_8c" startline="364" endline="376">_dbus_username_from_current_process</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga17ce3ab061a3ae2441cd33ece34f5e7a" compoundref="dbus-userdb_8c" startline="386" endline="398">_dbus_homedir_from_current_process</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga91c63dcb68d38347578edf39eda1712a" compoundref="dbus-userdb_8c" startline="408" endline="437">_dbus_homedir_from_username</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gabdd1dc47f44e3d6702c86c68da9a0173" compoundref="dbus-userdb_8c" startline="447" endline="476">_dbus_homedir_from_uid</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gacecdbb00a3c8b63e821edae537ae3c7b" compoundref="dbus-userdb_8c" startline="493" endline="523">_dbus_credentials_add_from_user</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_user_database_unlock_system</definition>
        <argsstring>(void)</argsstring>
        <name>_dbus_user_database_unlock_system</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Unlocks global system user database. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="321" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="320" bodyend="324"/>
        <references refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <referencedby refid="group__DBusInternalsUtils_1gaa504db352a939909051a494d06c5b607" compoundref="dbus-userdb-util_8c" startline="44" endline="105">_dbus_is_console_user</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga90657adefa9bbac9b35eee63dd46a854" compoundref="dbus-userdb-util_8c" startline="129" endline="154">_dbus_get_group_id</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gac82f42ff83fabbde717cc08569265e6e" compoundref="dbus-userdb-util_8c" startline="165" endline="194">_dbus_get_user_id_and_primary_group</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gae9408936869314101f8ea13dfa5ba968" compoundref="dbus-userdb-util_8c" startline="355" endline="398">_dbus_groups_from_uid</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga788ce7775d7f812d28d931e8b87ddfde" compoundref="dbus-userdb_8c" startline="346" endline="354">_dbus_user_database_flush_system</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga9c4c1850787bfd457107b95fa1878869" compoundref="dbus-userdb_8c" startline="364" endline="376">_dbus_username_from_current_process</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga17ce3ab061a3ae2441cd33ece34f5e7a" compoundref="dbus-userdb_8c" startline="386" endline="398">_dbus_homedir_from_current_process</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga91c63dcb68d38347578edf39eda1712a" compoundref="dbus-userdb_8c" startline="408" endline="437">_dbus_homedir_from_username</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gabdd1dc47f44e3d6702c86c68da9a0173" compoundref="dbus-userdb_8c" startline="447" endline="476">_dbus_homedir_from_uid</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gacecdbb00a3c8b63e821edae537ae3c7b" compoundref="dbus-userdb_8c" startline="493" endline="523">_dbus_credentials_add_from_user</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1ga79b6c3cf0d735622b6af2795840f9d21" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>DBusUserDatabase *</type>
        <definition>DBusUserDatabase* _dbus_user_database_get_system</definition>
        <argsstring>(void)</argsstring>
        <name>_dbus_user_database_get_system</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Gets the system global user database; must be called with lock held (<ref refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" kindref="member">_dbus_user_database_lock_system()</ref>). </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>the database or <ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref> if no memory </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="334" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="333" bodyend="340"/>
        <referencedby refid="group__DBusInternalsUtils_1gacecdbb00a3c8b63e821edae537ae3c7b" compoundref="dbus-userdb_8c" startline="493" endline="523">_dbus_credentials_add_from_user</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga90657adefa9bbac9b35eee63dd46a854" compoundref="dbus-userdb-util_8c" startline="129" endline="154">_dbus_get_group_id</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gac82f42ff83fabbde717cc08569265e6e" compoundref="dbus-userdb-util_8c" startline="165" endline="194">_dbus_get_user_id_and_primary_group</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gae9408936869314101f8ea13dfa5ba968" compoundref="dbus-userdb-util_8c" startline="355" endline="398">_dbus_groups_from_uid</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gabdd1dc47f44e3d6702c86c68da9a0173" compoundref="dbus-userdb_8c" startline="447" endline="476">_dbus_homedir_from_uid</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga91c63dcb68d38347578edf39eda1712a" compoundref="dbus-userdb_8c" startline="408" endline="437">_dbus_homedir_from_username</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gaa504db352a939909051a494d06c5b607" compoundref="dbus-userdb-util_8c" startline="44" endline="105">_dbus_is_console_user</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1ga788ce7775d7f812d28d931e8b87ddfde" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_user_database_flush_system</definition>
        <argsstring>(void)</argsstring>
        <name>_dbus_user_database_flush_system</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Flushes the system global user database;. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="347" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="346" bodyend="354"/>
        <references refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" compoundref="dbus-userdb_8c" startline="310" endline="314">_dbus_user_database_lock_system</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="group__DBusInternalsUtils_1gab553751e96f8506d10349fb5fb1eaa82" compoundref="dbus-userdb_8c" startline="574" endline="580">_dbus_user_database_flush</references>
        <references refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" compoundref="dbus-userdb_8c" startline="320" endline="324">_dbus_user_database_unlock_system</references>
        <referencedby refid="group__DBusSysdeps_1ga184b42c4b42b91ef73e9ee50a1fa12c2" compoundref="dbus-sysdeps-unix_8c" startline="3825" endline="3828">_dbus_flush_caches</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1ga9c4c1850787bfd457107b95fa1878869" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t _dbus_username_from_current_process</definition>
        <argsstring>(const DBusString **username)</argsstring>
        <name>_dbus_username_from_current_process</name>
        <param>
          <type>const <ref refid="structDBusString" kindref="compound">DBusString</ref> **</type>
          <declname>username</declname>
        </param>
        <briefdescription>
<para>Gets username of user owning current process. </para>        </briefdescription>
        <detaileddescription>
<para>The returned string is valid until <ref refid="group__DBusMemory_1ga01912903e39428872920d861ef565bac" kindref="member">dbus_shutdown()</ref> is called.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>username</parametername>
</parameternamelist>
<parameterdescription>
<para>place to store pointer to username </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref> if no memory </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="365" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="364" bodyend="376"/>
        <references refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" compoundref="dbus-userdb_8c" startline="310" endline="314">_dbus_user_database_lock_system</references>
        <references refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" compoundref="dbus-userdb_8c" startline="320" endline="324">_dbus_user_database_unlock_system</references>
        <references refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1ga17ce3ab061a3ae2441cd33ece34f5e7a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t _dbus_homedir_from_current_process</definition>
        <argsstring>(const DBusString **homedir)</argsstring>
        <name>_dbus_homedir_from_current_process</name>
        <param>
          <type>const <ref refid="structDBusString" kindref="compound">DBusString</ref> **</type>
          <declname>homedir</declname>
        </param>
        <briefdescription>
<para>Gets homedir of user owning current process. </para>        </briefdescription>
        <detaileddescription>
<para>The returned string is valid until <ref refid="group__DBusMemory_1ga01912903e39428872920d861ef565bac" kindref="member">dbus_shutdown()</ref> is called.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>homedir</parametername>
</parameternamelist>
<parameterdescription>
<para>place to store pointer to homedir </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref> if no memory </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="387" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="386" bodyend="398"/>
        <references refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" compoundref="dbus-userdb_8c" startline="310" endline="314">_dbus_user_database_lock_system</references>
        <references refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" compoundref="dbus-userdb_8c" startline="320" endline="324">_dbus_user_database_unlock_system</references>
        <references refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="group__DBusSysdeps_1ga079d34a9d90759e6b3ebebab424c696e" compoundref="dbus-sysdeps-unix_8c" startline="3647" endline="3717">_dbus_get_standard_session_servicedirs</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1ga91c63dcb68d38347578edf39eda1712a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t _dbus_homedir_from_username</definition>
        <argsstring>(const DBusString *username, DBusString *homedir)</argsstring>
        <name>_dbus_homedir_from_username</name>
        <param>
          <type>const <ref refid="structDBusString" kindref="compound">DBusString</ref> *</type>
          <declname>username</declname>
        </param>
        <param>
          <type><ref refid="structDBusString" kindref="compound">DBusString</ref> *</type>
          <declname>homedir</declname>
        </param>
        <briefdescription>
<para>Gets the home directory for the given user. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>username</parametername>
</parameternamelist>
<parameterdescription>
<para>the username </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>homedir</parametername>
</parameternamelist>
<parameterdescription>
<para>string to append home directory to </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref> if user existed and we appended their homedir </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="410" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="408" bodyend="437"/>
        <references refid="group__DBusString_1ga100c5ce0696822c5a4cfbdfaba674d96" compoundref="dbus-string_8c" startline="1039" endline="1052">_dbus_string_append</references>
        <references refid="group__DBusInternalsUtils_1ga79b6c3cf0d735622b6af2795840f9d21" compoundref="dbus-userdb_8c" startline="333" endline="340">_dbus_user_database_get_system</references>
        <references refid="group__DBusInternalsUtils_1gaccf1d5b330707a1835dcf4ce49a29c8c" compoundref="dbus-userdb_8c" startline="657" endline="664">_dbus_user_database_get_username</references>
        <references refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" compoundref="dbus-userdb_8c" startline="310" endline="314">_dbus_user_database_lock_system</references>
        <references refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" compoundref="dbus-userdb_8c" startline="320" endline="324">_dbus_user_database_unlock_system</references>
        <references refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="structDBusUserInfo_1a5235d4d021cd134e1130e1e8e912bc0c" compoundref="dbus-sysdeps-unix_8h" startline="103">DBusUserInfo::homedir</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1gabdd1dc47f44e3d6702c86c68da9a0173" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t _dbus_homedir_from_uid</definition>
        <argsstring>(dbus_uid_t uid, DBusString *homedir)</argsstring>
        <name>_dbus_homedir_from_uid</name>
        <param>
          <type><ref refid="group__DBusSysdeps_1ga186e987b700f9ddc6cea8aa0db82b151" kindref="member">dbus_uid_t</ref></type>
          <declname>uid</declname>
        </param>
        <param>
          <type><ref refid="structDBusString" kindref="compound">DBusString</ref> *</type>
          <declname>homedir</declname>
        </param>
        <briefdescription>
<para>Gets the home directory for the given user. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>uid</parametername>
</parameternamelist>
<parameterdescription>
<para>the uid </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>homedir</parametername>
</parameternamelist>
<parameterdescription>
<para>string to append home directory to </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref> if user existed and we appended their homedir </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="449" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="447" bodyend="476"/>
        <references refid="group__DBusString_1ga100c5ce0696822c5a4cfbdfaba674d96" compoundref="dbus-string_8c" startline="1039" endline="1052">_dbus_string_append</references>
        <references refid="group__DBusInternalsUtils_1ga79b6c3cf0d735622b6af2795840f9d21" compoundref="dbus-userdb_8c" startline="333" endline="340">_dbus_user_database_get_system</references>
        <references refid="group__DBusInternalsUtils_1ga6a7e8b8cf3a6968972e9a49726022638" compoundref="dbus-userdb_8c" startline="638" endline="645">_dbus_user_database_get_uid</references>
        <references refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" compoundref="dbus-userdb_8c" startline="310" endline="314">_dbus_user_database_lock_system</references>
        <references refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" compoundref="dbus-userdb_8c" startline="320" endline="324">_dbus_user_database_unlock_system</references>
        <references refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="structDBusUserInfo_1a5235d4d021cd134e1130e1e8e912bc0c" compoundref="dbus-sysdeps-unix_8h" startline="103">DBusUserInfo::homedir</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <referencedby refid="group__DBusSysdeps_1ga3cc5a5734416858fa58f3166ed181a64" compoundref="dbus-sysdeps-unix_8c" startline="3844" endline="3905">_dbus_append_keyring_directory_for_credentials</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1gacecdbb00a3c8b63e821edae537ae3c7b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t _dbus_credentials_add_from_user</definition>
        <argsstring>(DBusCredentials *credentials, const DBusString *username)</argsstring>
        <name>_dbus_credentials_add_from_user</name>
        <param>
          <type><ref refid="structDBusCredentials" kindref="compound">DBusCredentials</ref> *</type>
          <declname>credentials</declname>
        </param>
        <param>
          <type>const <ref refid="structDBusString" kindref="compound">DBusString</ref> *</type>
          <declname>username</declname>
        </param>
        <briefdescription>
<para>Adds the credentials corresponding to the given username. </para>        </briefdescription>
        <detaileddescription>
<para>Used among other purposes to parses a desired identity provided from a client in the auth protocol. On UNIX this means parsing a UID, on Windows probably parsing an SID string.</para><para><xrefsect id="todo_1_todo000073"><xreftitle>Todo</xreftitle><xrefdescription><para>this is broken because it treats OOM and parse error the same way. Needs a <ref refid="structDBusError" kindref="compound">DBusError</ref>.</para></xrefdescription></xrefsect></para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>credentials</parametername>
</parameternamelist>
<parameterdescription>
<para>credentials to fill in </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>username</parametername>
</parameternamelist>
<parameterdescription>
<para>the username </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref> if the username existed and we got some credentials </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="495" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="493" bodyend="523"/>
        <references refid="group__DBusCredentials_1ga9cec6da43e4be233d44f5bd60b071624" compoundref="dbus-credentials_8c" startline="164" endline="170">_dbus_credentials_add_unix_uid</references>
        <references refid="group__DBusCredentials_1ga9d2186a4cfa8a421c552ae4592b400f5" compoundref="dbus-credentials_8c" startline="180" endline="193">_dbus_credentials_add_windows_sid</references>
        <references refid="group__DBusInternalsUtils_1ga79b6c3cf0d735622b6af2795840f9d21" compoundref="dbus-userdb_8c" startline="333" endline="340">_dbus_user_database_get_system</references>
        <references refid="group__DBusInternalsUtils_1gaccf1d5b330707a1835dcf4ce49a29c8c" compoundref="dbus-userdb_8c" startline="657" endline="664">_dbus_user_database_get_username</references>
        <references refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" compoundref="dbus-userdb_8c" startline="310" endline="314">_dbus_user_database_lock_system</references>
        <references refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" compoundref="dbus-userdb_8c" startline="320" endline="324">_dbus_user_database_unlock_system</references>
        <references refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1">FALSE</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <references refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</references>
        <references refid="structDBusUserInfo_1a2d9c74d29f371e391a79b81162050b2e" compoundref="dbus-sysdeps-unix_8h" startline="98">DBusUserInfo::uid</references>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1ga1dbf2c80952d17707c544f5d86dd8545" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>DBusUserDatabase *</type>
        <definition>DBusUserDatabase* _dbus_user_database_new</definition>
        <argsstring>(void)</argsstring>
        <name>_dbus_user_database_new</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Creates a new user database object used to look up and cache user information. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>new database, or <ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref> on out of memory </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="532" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="531" bodyend="568"/>
        <references refid="group__DBusInternalsUtils_1gab9420d7a4a31329a00fd5709f8cf08ba" compoundref="dbus-userdb_8c" startline="61" endline="68">_dbus_group_info_free_allocated</references>
        <references refid="group__DBusHashTable_1gac8e434348a354b9606d4c50c127a5eb4" compoundref="dbus-hash_8c" startline="295" endline="353">_dbus_hash_table_new</references>
        <references refid="group__DBusInternalsUtils_1ga55dbb78c415da040037442eca4c4e80e" compoundref="dbus-userdb_8c" startline="604" endline="625">_dbus_user_database_unref</references>
        <references refid="group__DBusInternalsUtils_1gaf725ba6f380a3b926650626eef714b67" compoundref="dbus-userdb_8c" startline="45" endline="52">_dbus_user_info_free_allocated</references>
        <references refid="group__DBusHashTable_1ggab0ab9767ffa5b6720a13b3d741630852a481fd0166d28da725b3e97f15192434e" compoundref="dbus-hash_8h" startline="69">DBUS_HASH_STRING</references>
        <references refid="group__DBusHashTable_1ggab0ab9767ffa5b6720a13b3d741630852a477caf35cc3676d6412c9b57f1d0f6c7" compoundref="dbus-hash_8h" startline="73">DBUS_HASH_UINTPTR</references>
        <references refid="group__DBusMemory_1gaba9d823abda7f4cadbaf5177d3b8b793" compoundref="dbus-memory_8h" startline="59">dbus_new0</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1gab553751e96f8506d10349fb5fb1eaa82" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_user_database_flush</definition>
        <argsstring>(DBusUserDatabase *db)</argsstring>
        <name>_dbus_user_database_flush</name>
        <param>
          <type>DBusUserDatabase *</type>
          <declname>db</declname>
        </param>
        <briefdescription>
<para>Flush all information out of the user database. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="575" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="574" bodyend="580"/>
        <references refid="group__DBusHashTable_1gad169f3790ca67f8a0adafcdc88ef7188" compoundref="dbus-hash_8c" startline="434" endline="442">_dbus_hash_table_remove_all</references>
        <referencedby refid="group__DBusInternalsUtils_1ga788ce7775d7f812d28d931e8b87ddfde" compoundref="dbus-userdb_8c" startline="346" endline="354">_dbus_user_database_flush_system</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1ga55dbb78c415da040037442eca4c4e80e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void _dbus_user_database_unref</definition>
        <argsstring>(DBusUserDatabase *db)</argsstring>
        <name>_dbus_user_database_unref</name>
        <param>
          <type>DBusUserDatabase *</type>
          <declname>db</declname>
        </param>
        <briefdescription>
<para>Decrements refcount of user database. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>db</parametername>
</parameternamelist>
<parameterdescription>
<para>the database </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="605" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="604" bodyend="625"/>
        <references refid="group__DBusHashTable_1ga96b777e00764b44e0f3216fd8478f5a9" compoundref="dbus-hash_8c" startline="377" endline="426">_dbus_hash_table_unref</references>
        <references refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" compoundref="dbus-memory_8c" startline="629" endline="668">dbus_free</references>
        <referencedby refid="group__DBusInternalsUtils_1ga1dbf2c80952d17707c544f5d86dd8545" compoundref="dbus-userdb_8c" startline="531" endline="568">_dbus_user_database_new</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1ga6a7e8b8cf3a6968972e9a49726022638" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t _dbus_user_database_get_uid</definition>
        <argsstring>(DBusUserDatabase *db, dbus_uid_t uid, const DBusUserInfo **info, DBusError *error)</argsstring>
        <name>_dbus_user_database_get_uid</name>
        <param>
          <type>DBusUserDatabase *</type>
          <declname>db</declname>
        </param>
        <param>
          <type><ref refid="group__DBusSysdeps_1ga186e987b700f9ddc6cea8aa0db82b151" kindref="member">dbus_uid_t</ref></type>
          <declname>uid</declname>
        </param>
        <param>
          <type>const <ref refid="structDBusUserInfo" kindref="compound">DBusUserInfo</ref> **</type>
          <declname>info</declname>
        </param>
        <param>
          <type><ref refid="structDBusError" kindref="compound">DBusError</ref> *</type>
          <declname>error</declname>
        </param>
        <briefdescription>
<para>Gets the user information for the given UID, returned user info should not be freed. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>db</parametername>
</parameternamelist>
<parameterdescription>
<para>user database </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>uid</parametername>
</parameternamelist>
<parameterdescription>
<para>the user ID </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>info</parametername>
</parameternamelist>
<parameterdescription>
<para>return location for const ref to user info </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>error</parametername>
</parameternamelist>
<parameterdescription>
<para>error location </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref> if error is set </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="642" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="638" bodyend="645"/>
        <references refid="group__DBusInternalsUtils_1ga959372f7d7cdea35ffbac3b78e29a1b0" compoundref="dbus-userdb_8c" startline="128" endline="220">_dbus_user_database_lookup</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <referencedby refid="group__DBusInternalsUtils_1gae9408936869314101f8ea13dfa5ba968" compoundref="dbus-userdb-util_8c" startline="355" endline="398">_dbus_groups_from_uid</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gabdd1dc47f44e3d6702c86c68da9a0173" compoundref="dbus-userdb_8c" startline="447" endline="476">_dbus_homedir_from_uid</referencedby>
      </memberdef>
      <memberdef kind="function" id="group__DBusInternalsUtils_1gaccf1d5b330707a1835dcf4ce49a29c8c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member">dbus_bool_t</ref></type>
        <definition>dbus_bool_t _dbus_user_database_get_username</definition>
        <argsstring>(DBusUserDatabase *db, const DBusString *username, const DBusUserInfo **info, DBusError *error)</argsstring>
        <name>_dbus_user_database_get_username</name>
        <param>
          <type>DBusUserDatabase *</type>
          <declname>db</declname>
        </param>
        <param>
          <type>const <ref refid="structDBusString" kindref="compound">DBusString</ref> *</type>
          <declname>username</declname>
        </param>
        <param>
          <type>const <ref refid="structDBusUserInfo" kindref="compound">DBusUserInfo</ref> **</type>
          <declname>info</declname>
        </param>
        <param>
          <type><ref refid="structDBusError" kindref="compound">DBusError</ref> *</type>
          <declname>error</declname>
        </param>
        <briefdescription>
<para>Gets the user information for the given username. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>db</parametername>
</parameternamelist>
<parameterdescription>
<para>user database </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>username</parametername>
</parameternamelist>
<parameterdescription>
<para>the user name </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>info</parametername>
</parameternamelist>
<parameterdescription>
<para>return location for const ref to user info </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>error</parametername>
</parameternamelist>
<parameterdescription>
<para>error location </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref> if error is set </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" line="661" bodyfile="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c" bodystart="657" bodyend="664"/>
        <references refid="group__DBusInternalsUtils_1ga959372f7d7cdea35ffbac3b78e29a1b0" compoundref="dbus-userdb_8c" startline="128" endline="220">_dbus_user_database_lookup</references>
        <references refid="group__DBusSysdeps_1ga3d2f3fb32bb759cabe362ca2de383f7d" compoundref="dbus-sysdeps_8h" startline="107">DBUS_UID_UNSET</references>
        <references refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</references>
        <referencedby refid="group__DBusInternalsUtils_1gacecdbb00a3c8b63e821edae537ae3c7b" compoundref="dbus-userdb_8c" startline="493" endline="523">_dbus_credentials_add_from_user</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1gac82f42ff83fabbde717cc08569265e6e" compoundref="dbus-userdb-util_8c" startline="165" endline="194">_dbus_get_user_id_and_primary_group</referencedby>
        <referencedby refid="group__DBusInternalsUtils_1ga91c63dcb68d38347578edf39eda1712a" compoundref="dbus-userdb_8c" startline="408" endline="437">_dbus_homedir_from_username</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*<sp/>-*-<sp/>mode:<sp/>C;<sp/>c-file-style:<sp/>&quot;gnu&quot;;<sp/>indent-tabs-mode:<sp/>nil;<sp/>-*-<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>dbus-userdb.c<sp/>User<sp/>database<sp/>abstraction</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(C)<sp/>2003,<sp/>2004<sp/><sp/>Red<sp/>Hat,<sp/>Inc.</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/>Licensed<sp/>under<sp/>the<sp/>Academic<sp/>Free<sp/>License<sp/>version<sp/>2.1</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*<sp/>This<sp/>program<sp/>is<sp/>free<sp/>software;<sp/>you<sp/>can<sp/>redistribute<sp/>it<sp/>and/or<sp/>modify</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*<sp/>it<sp/>under<sp/>the<sp/>terms<sp/>of<sp/>the<sp/>GNU<sp/>General<sp/>Public<sp/>License<sp/>as<sp/>published<sp/>by</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*<sp/>the<sp/>Free<sp/>Software<sp/>Foundation;<sp/>either<sp/>version<sp/>2<sp/>of<sp/>the<sp/>License,<sp/>or</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*<sp/>(at<sp/>your<sp/>option)<sp/>any<sp/>later<sp/>version.</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>*<sp/>This<sp/>program<sp/>is<sp/>distributed<sp/>in<sp/>the<sp/>hope<sp/>that<sp/>it<sp/>will<sp/>be<sp/>useful,</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>*<sp/>but<sp/>WITHOUT<sp/>ANY<sp/>WARRANTY;<sp/>without<sp/>even<sp/>the<sp/>implied<sp/>warranty<sp/>of</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>*<sp/>MERCHANTABILITY<sp/>or<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE.<sp/><sp/>See<sp/>the</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*<sp/>GNU<sp/>General<sp/>Public<sp/>License<sp/>for<sp/>more<sp/>details.</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*<sp/>You<sp/>should<sp/>have<sp/>received<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>GNU<sp/>General<sp/>Public<sp/>License</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*<sp/>along<sp/>with<sp/>this<sp/>program;<sp/>if<sp/>not,<sp/>write<sp/>to<sp/>the<sp/>Free<sp/>Software</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*<sp/>Foundation,<sp/>Inc.,<sp/>51<sp/>Franklin<sp/>Street,<sp/>Fifth<sp/>Floor,<sp/>Boston,<sp/>MA<sp/><sp/>02110-1301<sp/><sp/>USA</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;config.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DBUS_USERDB_INCLUDES_PRIVATE<sp/>1</highlight></codeline>
<codeline lineno="25"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;dbus-userdb.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;dbus-hash.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;dbus-test.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;dbus-internals.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;dbus-protocol.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;dbus-credentials.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45" refid="group__DBusInternalsUtils_1gaf725ba6f380a3b926650626eef714b67" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1gaf725ba6f380a3b926650626eef714b67" kindref="member" tooltip="Frees the given DBusUserInfo&amp;#39;s members with _dbus_user_info_free() and also calls dbus_free() on the ...">_dbus_user_info_free_allocated</ref><sp/>(<ref refid="structDBusUserInfo" kindref="compound" tooltip="Information about a UNIX user.">DBusUserInfo</ref><sp/>*info)</highlight></codeline>
<codeline lineno="46"><highlight class="normal">{</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)<sp/></highlight><highlight class="comment">/*<sp/>hash<sp/>table<sp/>will<sp/>pass<sp/>NULL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><ref refid="group__DBusSysdepsUnix_1gaa40334f7b4f185a437a8bc6d6e0994a1" kindref="member" tooltip="Frees the members of info (but not info itself)">_dbus_user_info_free</ref><sp/>(info);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><ref refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" kindref="member" tooltip="Frees a block of memory previously allocated by dbus_malloc() or dbus_malloc0().">dbus_free</ref><sp/>(info);</highlight></codeline>
<codeline lineno="52"><highlight class="normal">}</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61" refid="group__DBusInternalsUtils_1gab9420d7a4a31329a00fd5709f8cf08ba" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1gab9420d7a4a31329a00fd5709f8cf08ba" kindref="member" tooltip="Frees the given DBusGroupInfo&amp;#39;s members with _dbus_group_info_free() and also calls dbus_free() on th...">_dbus_group_info_free_allocated</ref><sp/>(<ref refid="structDBusGroupInfo" kindref="compound" tooltip="Information about a UNIX group.">DBusGroupInfo</ref><sp/>*info)</highlight></codeline>
<codeline lineno="62"><highlight class="normal">{</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)<sp/></highlight><highlight class="comment">/*<sp/>hash<sp/>table<sp/>will<sp/>pass<sp/>NULL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><ref refid="group__DBusSysdepsUnix_1gac2d226476e6fff50bdfaace18b897fe9" kindref="member" tooltip="Frees the members of info (but not info itself).">_dbus_group_info_free</ref><sp/>(info);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><ref refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" kindref="member" tooltip="Frees a block of memory previously allocated by dbus_malloc() or dbus_malloc0().">dbus_free</ref><sp/>(info);</highlight></codeline>
<codeline lineno="68"><highlight class="normal">}</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76" refid="group__DBusInternalsUtils_1gaa40334f7b4f185a437a8bc6d6e0994a1" refkind="member"><highlight class="normal"><ref refid="group__DBusSysdepsUnix_1gaa40334f7b4f185a437a8bc6d6e0994a1" kindref="member" tooltip="Frees the members of info (but not info itself)">_dbus_user_info_free</ref><sp/>(<ref refid="structDBusUserInfo" kindref="compound" tooltip="Information about a UNIX user.">DBusUserInfo</ref><sp/>*info)</highlight></codeline>
<codeline lineno="77"><highlight class="normal">{</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><ref refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" kindref="member" tooltip="Frees a block of memory previously allocated by dbus_malloc() or dbus_malloc0().">dbus_free</ref><sp/>(info-&gt;<ref refid="structDBusUserInfo_1a902af9e0fb7d37c14eefb7d2b016ab11" kindref="member" tooltip="Groups IDs, *including* above primary group.">group_ids</ref>);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><ref refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" kindref="member" tooltip="Frees a block of memory previously allocated by dbus_malloc() or dbus_malloc0().">dbus_free</ref><sp/>(info-&gt;<ref refid="structDBusUserInfo_1ac6b57db1dc8315eee3f532f4e77912d1" kindref="member" tooltip="Username.">username</ref>);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><ref refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" kindref="member" tooltip="Frees a block of memory previously allocated by dbus_malloc() or dbus_malloc0().">dbus_free</ref><sp/>(info-&gt;<ref refid="structDBusUserInfo_1a5235d4d021cd134e1130e1e8e912bc0c" kindref="member" tooltip="Home directory.">homedir</ref>);</highlight></codeline>
<codeline lineno="81"><highlight class="normal">}</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89" refid="group__DBusInternalsUtils_1gac2d226476e6fff50bdfaace18b897fe9" refkind="member"><highlight class="normal"><ref refid="group__DBusSysdepsUnix_1gac2d226476e6fff50bdfaace18b897fe9" kindref="member" tooltip="Frees the members of info (but not info itself).">_dbus_group_info_free</ref><sp/>(<ref refid="structDBusGroupInfo" kindref="compound" tooltip="Information about a UNIX group.">DBusGroupInfo</ref><sp/><sp/><sp/><sp/>*info)</highlight></codeline>
<codeline lineno="90"><highlight class="normal">{</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><ref refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" kindref="member" tooltip="Frees a block of memory previously allocated by dbus_malloc() or dbus_malloc0().">dbus_free</ref><sp/>(info-&gt;<ref refid="structDBusGroupInfo_1af1a4b925663336f64c62cfcab40571c6" kindref="member" tooltip="Group name.">groupname</ref>);</highlight></codeline>
<codeline lineno="92"><highlight class="normal">}</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="103" refid="group__DBusInternalsUtils_1gad1c3538c544df91f438a13c9fb4d3a1b" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1gad1c3538c544df91f438a13c9fb4d3a1b" kindref="member" tooltip="Checks if a given string is actually a number and converts it if it is.">_dbus_is_a_number</ref><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusString" kindref="compound">DBusString</ref><sp/>*str,</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/>*num)</highlight></codeline>
<codeline lineno="105"><highlight class="normal">{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>end;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__DBusString_1ga84cc8d08bb48b7915d673f7cc7886f97" kindref="member" tooltip="Parses an unsigned integer contained in a DBusString.">_dbus_string_parse_uint</ref><sp/>(str,<sp/>0,<sp/>num,<sp/>&amp;end)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>end<sp/>==<sp/>_dbus_string_get_length<sp/>(str))</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" tooltip="Expands to &amp;quot;1&amp;quot;.">TRUE</ref>;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="113"><highlight class="normal">}</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><ref refid="structDBusUserInfo" kindref="compound" tooltip="Information about a UNIX user.">DBusUserInfo</ref>*</highlight></codeline>
<codeline lineno="128" refid="group__DBusInternalsUtils_1ga959372f7d7cdea35ffbac3b78e29a1b0" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1ga959372f7d7cdea35ffbac3b78e29a1b0" kindref="member" tooltip="Looks up a uid or username in the user database.">_dbus_user_database_lookup</ref><sp/>(DBusUserDatabase<sp/>*db,</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusSysdeps_1ga186e987b700f9ddc6cea8aa0db82b151" kindref="member" tooltip="A user ID.">dbus_uid_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uid,</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusString" kindref="compound">DBusString</ref><sp/>*username,</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structDBusError" kindref="compound" tooltip="Object representing an exception.">DBusError</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*error)</highlight></codeline>
<codeline lineno="132"><highlight class="normal">{</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><ref refid="structDBusUserInfo" kindref="compound" tooltip="Information about a UNIX user.">DBusUserInfo</ref><sp/>*info;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/>_DBUS_ASSERT_ERROR_IS_CLEAR<sp/>(error);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(uid<sp/>!=<sp/><ref refid="group__DBusSysdeps_1ga3d2f3fb32bb759cabe362ca2de383f7d" kindref="member" tooltip="an invalid UID used to represent an uninitialized dbus_uid_t field">DBUS_UID_UNSET</ref><sp/>||<sp/>username<sp/>!=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>);</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>See<sp/>if<sp/>the<sp/>username<sp/>is<sp/>really<sp/>a<sp/>number<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uid<sp/>==<sp/><ref refid="group__DBusSysdeps_1ga3d2f3fb32bb759cabe362ca2de383f7d" kindref="member" tooltip="an invalid UID used to represent an uninitialized dbus_uid_t field">DBUS_UID_UNSET</ref>)</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__DBusInternalsUtils_1gad1c3538c544df91f438a13c9fb4d3a1b" kindref="member" tooltip="Checks if a given string is actually a number and converts it if it is.">_dbus_is_a_number</ref><sp/>(username,<sp/>&amp;n))</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uid<sp/>=<sp/>n;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>DBUS_ENABLE_USERDB_CACHE<sp/><sp/></highlight></codeline>
<codeline lineno="148"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uid<sp/>!=<sp/><ref refid="group__DBusSysdeps_1ga3d2f3fb32bb759cabe362ca2de383f7d" kindref="member" tooltip="an invalid UID used to represent an uninitialized dbus_uid_t field">DBUS_UID_UNSET</ref>)</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/>info<sp/>=<sp/><ref refid="group__DBusHashTable_1gae0ac411f87a797767f36c6e64fd807b3" kindref="member" tooltip="Looks up the value for a given integer in a hash table of type DBUS_HASH_UINTPTR.">_dbus_hash_table_lookup_uintptr</ref><sp/>(db-&gt;users,<sp/>uid);</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>info<sp/>=<sp/><ref refid="group__DBusHashTable_1gad51eb3fe682721dd4f6a920ca87cb730" kindref="member" tooltip="Looks up the value for a given string in a hash table of type DBUS_HASH_STRING.">_dbus_hash_table_lookup_string</ref><sp/>(db-&gt;users_by_name,<sp/>_dbus_string_get_const_data<sp/>(username));</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info)</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_verbose<sp/>(</highlight><highlight class="stringliteral">&quot;Using<sp/>cache<sp/>for<sp/>UID<sp/>&quot;</highlight><highlight class="normal"><ref refid="group__DBusSysdeps_1gab657f0434f01b463891942f373f7b4a1" kindref="member" tooltip="an appropriate printf format for dbus_uid_t">DBUS_UID_FORMAT</ref></highlight><highlight class="stringliteral">&quot;<sp/>information\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structDBusUserInfo_1a2d9c74d29f371e391a79b81162050b2e" kindref="member" tooltip="UID.">uid</ref>);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>info;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight><highlight class="preprocessor">#else<sp/></highlight></codeline>
<codeline lineno="161"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(1)</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="163"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uid<sp/>!=<sp/><ref refid="group__DBusSysdeps_1ga3d2f3fb32bb759cabe362ca2de383f7d" kindref="member" tooltip="an invalid UID used to represent an uninitialized dbus_uid_t field">DBUS_UID_UNSET</ref>)</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_verbose<sp/>(</highlight><highlight class="stringliteral">&quot;No<sp/>cache<sp/>for<sp/>UID<sp/>&quot;</highlight><highlight class="normal"><ref refid="group__DBusSysdeps_1gab657f0434f01b463891942f373f7b4a1" kindref="member" tooltip="an appropriate printf format for dbus_uid_t">DBUS_UID_FORMAT</ref></highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uid);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_verbose<sp/>(</highlight><highlight class="stringliteral">&quot;No<sp/>cache<sp/>for<sp/>user<sp/>\&quot;%s\&quot;\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_dbus_string_get_const_data<sp/>(username));</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info<sp/>=<sp/><ref refid="group__DBusMemory_1gaba9d823abda7f4cadbaf5177d3b8b793" kindref="member" tooltip="Safe macro for using dbus_malloc0().">dbus_new0</ref><sp/>(<ref refid="structDBusUserInfo" kindref="compound" tooltip="Information about a UNIX user.">DBusUserInfo</ref>,<sp/>1);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusErrors_1ga89d2ad4bde21f9e0057fac07a79885e3" kindref="member" tooltip="Assigns an error name and message to a DBusError.">dbus_set_error</ref><sp/>(error,<sp/><ref refid="group__DBusProtocol_1gac32eaf0b92f798307853cd4fe0cf11c2" kindref="member" tooltip="There was not enough memory to complete an operation.">DBUS_ERROR_NO_MEMORY</ref>,<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uid<sp/>!=<sp/><ref refid="group__DBusSysdeps_1ga3d2f3fb32bb759cabe362ca2de383f7d" kindref="member" tooltip="an invalid UID used to represent an uninitialized dbus_uid_t field">DBUS_UID_UNSET</ref>)</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusSysdepsUnix_1gafcc2fbcde2c72f499f04fa43d97dfcec" kindref="member" tooltip="Gets user info for the given user ID.">_dbus_user_info_fill_uid</ref><sp/>(info,<sp/>uid,<sp/>error))</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_DBUS_ASSERT_ERROR_IS_SET<sp/>(error);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1gaf725ba6f380a3b926650626eef714b67" kindref="member" tooltip="Frees the given DBusUserInfo&amp;#39;s members with _dbus_user_info_free() and also calls dbus_free() on the ...">_dbus_user_info_free_allocated</ref><sp/>(info);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusSysdepsUnix_1ga95e9deb9dd2d76aa3a64fdac555d956d" kindref="member" tooltip="Gets user info for the given username.">_dbus_user_info_fill</ref><sp/>(info,<sp/>username,<sp/>error))</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_DBUS_ASSERT_ERROR_IS_SET<sp/>(error);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1gaf725ba6f380a3b926650626eef714b67" kindref="member" tooltip="Frees the given DBusUserInfo&amp;#39;s members with _dbus_user_info_free() and also calls dbus_free() on the ...">_dbus_user_info_free_allocated</ref><sp/>(info);</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>be<sp/>sure<sp/>we<sp/>don&apos;t<sp/>use<sp/>these<sp/>after<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>uid<sp/>=<sp/><ref refid="group__DBusSysdeps_1ga3d2f3fb32bb759cabe362ca2de383f7d" kindref="member" tooltip="an invalid UID used to represent an uninitialized dbus_uid_t field">DBUS_UID_UNSET</ref>;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>username<sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>insert<sp/>into<sp/>hash<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusHashTable_1ga811d833032ca919a9063ca835482d01a" kindref="member" tooltip="Creates a hash entry with the given key and value.">_dbus_hash_table_insert_uintptr</ref><sp/>(db-&gt;users,<sp/>info-&gt;<ref refid="structDBusUserInfo_1a2d9c74d29f371e391a79b81162050b2e" kindref="member" tooltip="UID.">uid</ref>,<sp/>info))</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusErrors_1ga89d2ad4bde21f9e0057fac07a79885e3" kindref="member" tooltip="Assigns an error name and message to a DBusError.">dbus_set_error</ref><sp/>(error,<sp/><ref refid="group__DBusProtocol_1gac32eaf0b92f798307853cd4fe0cf11c2" kindref="member" tooltip="There was not enough memory to complete an operation.">DBUS_ERROR_NO_MEMORY</ref>,<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1gaf725ba6f380a3b926650626eef714b67" kindref="member" tooltip="Frees the given DBusUserInfo&amp;#39;s members with _dbus_user_info_free() and also calls dbus_free() on the ...">_dbus_user_info_free_allocated</ref><sp/>(info);</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusHashTable_1ga43e98a91a11952824c544330e19f6c22" kindref="member" tooltip="Creates a hash entry with the given key and value.">_dbus_hash_table_insert_string</ref><sp/>(db-&gt;users_by_name,</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structDBusUserInfo_1ac6b57db1dc8315eee3f532f4e77912d1" kindref="member" tooltip="Username.">username</ref>,</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info))</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusHashTable_1ga0ad8fa1108bad2b4bd5b4ce539d32d64" kindref="member" tooltip="Removes the hash entry for the given key.">_dbus_hash_table_remove_uintptr</ref><sp/>(db-&gt;users,<sp/>info-&gt;<ref refid="structDBusUserInfo_1a2d9c74d29f371e391a79b81162050b2e" kindref="member" tooltip="UID.">uid</ref>);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusErrors_1ga89d2ad4bde21f9e0057fac07a79885e3" kindref="member" tooltip="Assigns an error name and message to a DBusError.">dbus_set_error</ref><sp/>(error,<sp/><ref refid="group__DBusProtocol_1gac32eaf0b92f798307853cd4fe0cf11c2" kindref="member" tooltip="There was not enough memory to complete an operation.">DBUS_ERROR_NO_MEMORY</ref>,<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>info;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="220"><highlight class="normal">}</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref><sp/>database_locked<sp/>=<sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>DBusUserDatabase<sp/>*system_db<sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structDBusString" kindref="compound">DBusString</ref><sp/>process_username;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structDBusString" kindref="compound">DBusString</ref><sp/>process_homedir;</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal">shutdown_system_db<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*data)</highlight></codeline>
<codeline lineno="229"><highlight class="normal">{</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(system_db<sp/>!=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga55dbb78c415da040037442eca4c4e80e" kindref="member" tooltip="Decrements refcount of user database.">_dbus_user_database_unref</ref><sp/>(system_db);</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/>system_db<sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><ref refid="group__DBusString_1ga781ca91acda49a834dce7d0ed0eef212" kindref="member" tooltip="Frees a string created by _dbus_string_init().">_dbus_string_free</ref><sp/>(&amp;process_username);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><ref refid="group__DBusString_1ga781ca91acda49a834dce7d0ed0eef212" kindref="member" tooltip="Frees a string created by _dbus_string_init().">_dbus_string_free</ref><sp/>(&amp;process_homedir);</highlight></codeline>
<codeline lineno="235"><highlight class="normal">}</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="238"><highlight class="normal">init_system_db<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="239"><highlight class="normal">{</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(database_locked);</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(system_db<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structDBusError" kindref="compound" tooltip="Object representing an exception.">DBusError</ref><sp/>error<sp/>=<sp/><ref refid="group__DBusErrorInternals_1ga961cc70e3891282a65205c4c8418d88e" kindref="member" tooltip="Expands to a suitable initializer for a DBusError on the stack.">DBUS_ERROR_INIT</ref>;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusUserInfo" kindref="compound" tooltip="Information about a UNIX user.">DBusUserInfo</ref><sp/>*info;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>system_db<sp/>=<sp/><ref refid="group__DBusInternalsUtils_1ga1dbf2c80952d17707c544f5d86dd8545" kindref="member" tooltip="Creates a new user database object used to look up and cache user information.">_dbus_user_database_new</ref><sp/>();</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(system_db<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusInternalsUtils_1ga6a7e8b8cf3a6968972e9a49726022638" kindref="member" tooltip="Gets the user information for the given UID, returned user info should not be freed.">_dbus_user_database_get_uid</ref><sp/>(system_db,</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusSysdepsUnix_1gae7701063932951bdd8a7df0dcacb3bab" kindref="member" tooltip="Gets our UID.">_dbus_getuid</ref><sp/>(),</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;info,</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;error))</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga55dbb78c415da040037442eca4c4e80e" kindref="member" tooltip="Decrements refcount of user database.">_dbus_user_database_unref</ref><sp/>(system_db);</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>system_db<sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__DBusErrors_1ga48515c580199514026542fe053ef1887" kindref="member" tooltip="Checks whether the error is set and has the given name.">dbus_error_has_name</ref><sp/>(&amp;error,<sp/><ref refid="group__DBusProtocol_1gac32eaf0b92f798307853cd4fe0cf11c2" kindref="member" tooltip="There was not enough memory to complete an operation.">DBUS_ERROR_NO_MEMORY</ref>))</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusErrors_1gaac6c14ead14829ee4e090f39de6a7568" kindref="member" tooltip="Frees an error that&amp;#39;s been set (or just initialized), then reinitializes the error as in dbus_error_i...">dbus_error_free</ref><sp/>(&amp;error);</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>really<sp/>should<sp/>not<sp/>happen.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1gabea2c16d6d3fe7c4eb5b9496fc877f84" kindref="member" tooltip="Prints a warning message to stderr.">_dbus_warn</ref><sp/>(</highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>get<sp/>password<sp/>database<sp/>information<sp/>for<sp/>UID<sp/>of<sp/>current<sp/>process:<sp/>%s\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error.<ref refid="structDBusError_1afb559175326de5b6b340e26204e92d72" kindref="member" tooltip="public error message field">message</ref>);</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusErrors_1gaac6c14ead14829ee4e090f39de6a7568" kindref="member" tooltip="Frees an error that&amp;#39;s been set (or just initialized), then reinitializes the error as in dbus_error_i...">dbus_error_free</ref><sp/>(&amp;error);</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusString_1ga348252317f7bb8ac43529972945830ae" kindref="member" tooltip="Initializes a string.">_dbus_string_init</ref><sp/>(&amp;process_username))</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga55dbb78c415da040037442eca4c4e80e" kindref="member" tooltip="Decrements refcount of user database.">_dbus_user_database_unref</ref><sp/>(system_db);</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>system_db<sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusString_1ga348252317f7bb8ac43529972945830ae" kindref="member" tooltip="Initializes a string.">_dbus_string_init</ref><sp/>(&amp;process_homedir))</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusString_1ga781ca91acda49a834dce7d0ed0eef212" kindref="member" tooltip="Frees a string created by _dbus_string_init().">_dbus_string_free</ref><sp/>(&amp;process_username);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga55dbb78c415da040037442eca4c4e80e" kindref="member" tooltip="Decrements refcount of user database.">_dbus_user_database_unref</ref><sp/>(system_db);</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>system_db<sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusString_1ga100c5ce0696822c5a4cfbdfaba674d96" kindref="member" tooltip="Appends a nul-terminated C-style string to a DBusString.">_dbus_string_append</ref><sp/>(&amp;process_username,</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structDBusUserInfo_1ac6b57db1dc8315eee3f532f4e77912d1" kindref="member" tooltip="Username.">username</ref>)<sp/>||</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!<ref refid="group__DBusString_1ga100c5ce0696822c5a4cfbdfaba674d96" kindref="member" tooltip="Appends a nul-terminated C-style string to a DBusString.">_dbus_string_append</ref><sp/>(&amp;process_homedir,</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structDBusUserInfo_1a5235d4d021cd134e1130e1e8e912bc0c" kindref="member" tooltip="Home directory.">homedir</ref>)<sp/>||</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!<ref refid="group__DBusMemoryInternals_1ga8dc6d5dd0a0e7901ab793da7403ee734" kindref="member" tooltip="Register a cleanup function to be called exactly once the next time dbus_shutdown() is called...">_dbus_register_shutdown_func</ref><sp/>(shutdown_system_db,<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>))</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusString_1ga781ca91acda49a834dce7d0ed0eef212" kindref="member" tooltip="Frees a string created by _dbus_string_init().">_dbus_string_free</ref><sp/>(&amp;process_username);</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusString_1ga781ca91acda49a834dce7d0ed0eef212" kindref="member" tooltip="Frees a string created by _dbus_string_init().">_dbus_string_free</ref><sp/>(&amp;process_homedir);</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga55dbb78c415da040037442eca4c4e80e" kindref="member" tooltip="Decrements refcount of user database.">_dbus_user_database_unref</ref><sp/>(system_db);</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>system_db<sp/>=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" tooltip="Expands to &amp;quot;1&amp;quot;.">TRUE</ref>;</highlight></codeline>
<codeline lineno="304"><highlight class="normal">}</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310" refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" kindref="member" tooltip="Locks global system user database.">_dbus_user_database_lock_system</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="311"><highlight class="normal">{</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/>_DBUS_LOCK<sp/>(system_users);</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/>database_locked<sp/>=<sp/><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" tooltip="Expands to &amp;quot;1&amp;quot;.">TRUE</ref>;</highlight></codeline>
<codeline lineno="314"><highlight class="normal">}</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320" refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="321"><highlight class="normal">{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/>database_locked<sp/>=<sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/>_DBUS_UNLOCK<sp/>(system_users);</highlight></codeline>
<codeline lineno="324"><highlight class="normal">}</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal">DBusUserDatabase*</highlight></codeline>
<codeline lineno="333" refid="group__DBusInternalsUtils_1ga79b6c3cf0d735622b6af2795840f9d21" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1ga79b6c3cf0d735622b6af2795840f9d21" kindref="member" tooltip="Gets the system global user database; must be called with lock held (_dbus_user_database_lock_system(...">_dbus_user_database_get_system</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="334"><highlight class="normal">{</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(database_locked);</highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/>init_system_db<sp/>();</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>system_db;</highlight></codeline>
<codeline lineno="340"><highlight class="normal">}</highlight></codeline>
<codeline lineno="341"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346" refid="group__DBusInternalsUtils_1ga788ce7775d7f812d28d931e8b87ddfde" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1ga788ce7775d7f812d28d931e8b87ddfde" kindref="member" tooltip="Flushes the system global user database;.">_dbus_user_database_flush_system</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="347"><highlight class="normal">{</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" kindref="member" tooltip="Locks global system user database.">_dbus_user_database_lock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(system_db<sp/>!=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1gab553751e96f8506d10349fb5fb1eaa82" kindref="member" tooltip="Flush all information out of the user database.">_dbus_user_database_flush</ref><sp/>(system_db);</highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="354"><highlight class="normal">}</highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="364" refid="group__DBusInternalsUtils_1ga9c4c1850787bfd457107b95fa1878869" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1ga9c4c1850787bfd457107b95fa1878869" kindref="member" tooltip="Gets username of user owning current process.">_dbus_username_from_current_process</ref><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusString" kindref="compound">DBusString</ref><sp/>**username)</highlight></codeline>
<codeline lineno="365"><highlight class="normal">{</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" kindref="member" tooltip="Locks global system user database.">_dbus_user_database_lock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!init_system_db<sp/>())</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/>*username<sp/>=<sp/>&amp;process_username;</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();<sp/><sp/></highlight></codeline>
<codeline lineno="374"><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" tooltip="Expands to &amp;quot;1&amp;quot;.">TRUE</ref>;</highlight></codeline>
<codeline lineno="376"><highlight class="normal">}</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="386" refid="group__DBusInternalsUtils_1ga17ce3ab061a3ae2441cd33ece34f5e7a" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1ga17ce3ab061a3ae2441cd33ece34f5e7a" kindref="member" tooltip="Gets homedir of user owning current process.">_dbus_homedir_from_current_process</ref><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusString" kindref="compound">DBusString</ref><sp/><sp/>**homedir)</highlight></codeline>
<codeline lineno="387"><highlight class="normal">{</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" kindref="member" tooltip="Locks global system user database.">_dbus_user_database_lock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!init_system_db<sp/>())</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/>*homedir<sp/>=<sp/>&amp;process_homedir;</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" tooltip="Expands to &amp;quot;1&amp;quot;.">TRUE</ref>;</highlight></codeline>
<codeline lineno="398"><highlight class="normal">}</highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="408" refid="group__DBusInternalsUtils_1ga91c63dcb68d38347578edf39eda1712a" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1ga91c63dcb68d38347578edf39eda1712a" kindref="member" tooltip="Gets the home directory for the given user.">_dbus_homedir_from_username</ref><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusString" kindref="compound">DBusString</ref><sp/>*username,</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structDBusString" kindref="compound">DBusString</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*homedir)</highlight></codeline>
<codeline lineno="410"><highlight class="normal">{</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/>DBusUserDatabase<sp/>*db;</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusUserInfo" kindref="compound" tooltip="Information about a UNIX user.">DBusUserInfo</ref><sp/>*info;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" kindref="member" tooltip="Locks global system user database.">_dbus_user_database_lock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/>db<sp/>=<sp/><ref refid="group__DBusInternalsUtils_1ga79b6c3cf0d735622b6af2795840f9d21" kindref="member" tooltip="Gets the system global user database; must be called with lock held (_dbus_user_database_lock_system(...">_dbus_user_database_get_system</ref><sp/>();</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusInternalsUtils_1gaccf1d5b330707a1835dcf4ce49a29c8c" kindref="member" tooltip="Gets the user information for the given username.">_dbus_user_database_get_username</ref><sp/>(db,<sp/>username,</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;info,<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>))</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusString_1ga100c5ce0696822c5a4cfbdfaba674d96" kindref="member" tooltip="Appends a nul-terminated C-style string to a DBusString.">_dbus_string_append</ref><sp/>(homedir,<sp/>info-&gt;<ref refid="structDBusUserInfo_1a5235d4d021cd134e1130e1e8e912bc0c" kindref="member" tooltip="Home directory.">homedir</ref>))</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" tooltip="Expands to &amp;quot;1&amp;quot;.">TRUE</ref>;</highlight></codeline>
<codeline lineno="437"><highlight class="normal">}</highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="447" refid="group__DBusInternalsUtils_1gabdd1dc47f44e3d6702c86c68da9a0173" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1gabdd1dc47f44e3d6702c86c68da9a0173" kindref="member" tooltip="Gets the home directory for the given user.">_dbus_homedir_from_uid</ref><sp/>(<ref refid="group__DBusSysdeps_1ga186e987b700f9ddc6cea8aa0db82b151" kindref="member" tooltip="A user ID.">dbus_uid_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uid,</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structDBusString" kindref="compound">DBusString</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*homedir)</highlight></codeline>
<codeline lineno="449"><highlight class="normal">{</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/>DBusUserDatabase<sp/>*db;</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusUserInfo" kindref="compound" tooltip="Information about a UNIX user.">DBusUserInfo</ref><sp/>*info;</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" kindref="member" tooltip="Locks global system user database.">_dbus_user_database_lock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/>db<sp/>=<sp/><ref refid="group__DBusInternalsUtils_1ga79b6c3cf0d735622b6af2795840f9d21" kindref="member" tooltip="Gets the system global user database; must be called with lock held (_dbus_user_database_lock_system(...">_dbus_user_database_get_system</ref><sp/>();</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusInternalsUtils_1ga6a7e8b8cf3a6968972e9a49726022638" kindref="member" tooltip="Gets the user information for the given UID, returned user info should not be freed.">_dbus_user_database_get_uid</ref><sp/>(db,<sp/>uid,</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;info,<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>))</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusString_1ga100c5ce0696822c5a4cfbdfaba674d96" kindref="member" tooltip="Appends a nul-terminated C-style string to a DBusString.">_dbus_string_append</ref><sp/>(homedir,<sp/>info-&gt;<ref refid="structDBusUserInfo_1a5235d4d021cd134e1130e1e8e912bc0c" kindref="member" tooltip="Home directory.">homedir</ref>))</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" tooltip="Expands to &amp;quot;1&amp;quot;.">TRUE</ref>;</highlight></codeline>
<codeline lineno="476"><highlight class="normal">}</highlight></codeline>
<codeline lineno="477"><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="493" refid="group__DBusInternalsUtils_1gacecdbb00a3c8b63e821edae537ae3c7b" refkind="member"><highlight class="normal"><ref refid="group__DBusSysdeps_1gacecdbb00a3c8b63e821edae537ae3c7b" kindref="member" tooltip="Adds the credentials corresponding to the given username.">_dbus_credentials_add_from_user</ref><sp/>(<ref refid="structDBusCredentials" kindref="compound">DBusCredentials</ref><sp/><sp/>*<ref refid="structDBusTransport_1acb3d5fe913d4c281f3495e95cd450c57" kindref="member" tooltip="Credentials of other end read from the socket.">credentials</ref>,</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusString" kindref="compound">DBusString</ref><sp/>*username)</highlight></codeline>
<codeline lineno="495"><highlight class="normal">{</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/>DBusUserDatabase<sp/>*db;</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusUserInfo" kindref="compound" tooltip="Information about a UNIX user.">DBusUserInfo</ref><sp/>*info;</highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1gad670eb00ca49ee18fe1c526d440131b7" kindref="member" tooltip="Locks global system user database.">_dbus_user_database_lock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="500"><highlight class="normal"></highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/>db<sp/>=<sp/><ref refid="group__DBusInternalsUtils_1ga79b6c3cf0d735622b6af2795840f9d21" kindref="member" tooltip="Gets the system global user database; must be called with lock held (_dbus_user_database_lock_system(...">_dbus_user_database_get_system</ref><sp/>();</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="507"><highlight class="normal"></highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusInternalsUtils_1gaccf1d5b330707a1835dcf4ce49a29c8c" kindref="member" tooltip="Gets the user information for the given username.">_dbus_user_database_get_username</ref><sp/>(db,<sp/>username,</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;info,<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>))</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="514"><highlight class="normal"></highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__DBusCredentials_1ga9cec6da43e4be233d44f5bd60b071624" kindref="member" tooltip="Add a UNIX user ID to the credentials.">_dbus_credentials_add_unix_uid</ref>(credentials,<sp/>info-&gt;<ref refid="structDBusUserInfo_1a2d9c74d29f371e391a79b81162050b2e" kindref="member" tooltip="UID.">uid</ref>))</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa93f0eb578d23995850d61f7d61c55c1" kindref="member" tooltip="Expands to &amp;quot;0&amp;quot;.">FALSE</ref>;</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga468e1d62e1df24bb699c4a37fdfa274c" kindref="member" tooltip="Unlocks global system user database.">_dbus_user_database_unlock_system</ref><sp/>();</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1gaa8cecfc5c5c054d2875c03e77b7be15d" kindref="member" tooltip="Expands to &amp;quot;1&amp;quot;.">TRUE</ref>;</highlight></codeline>
<codeline lineno="523"><highlight class="normal">}</highlight></codeline>
<codeline lineno="524"><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal">DBusUserDatabase*</highlight></codeline>
<codeline lineno="531" refid="group__DBusInternalsUtils_1ga1dbf2c80952d17707c544f5d86dd8545" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1ga1dbf2c80952d17707c544f5d86dd8545" kindref="member" tooltip="Creates a new user database object used to look up and cache user information.">_dbus_user_database_new</ref><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="532"><highlight class="normal">{</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/>DBusUserDatabase<sp/>*db;</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/>db<sp/>=<sp/><ref refid="group__DBusMemory_1gaba9d823abda7f4cadbaf5177d3b8b793" kindref="member" tooltip="Safe macro for using dbus_malloc0().">dbus_new0</ref><sp/>(DBusUserDatabase,<sp/>1);</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/>db-&gt;refcount<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="540"><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/>db-&gt;users<sp/>=<sp/><ref refid="group__DBusHashTable_1gac8e434348a354b9606d4c50c127a5eb4" kindref="member" tooltip="Constructs a new hash table.">_dbus_hash_table_new</ref><sp/>(<ref refid="group__DBusHashTable_1ggab0ab9767ffa5b6720a13b3d741630852a477caf35cc3676d6412c9b57f1d0f6c7" kindref="member" tooltip="Hash keys are integer capable to hold a pointer.">DBUS_HASH_UINTPTR</ref>,</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>,<sp/>(<ref refid="group__DBusMemory_1ga061bcded226d76c7d7de35beaa165cb5" kindref="member" tooltip="The type of a function which frees a block of memory.">DBusFreeFunction</ref>)<sp/><ref refid="group__DBusInternalsUtils_1gaf725ba6f380a3b926650626eef714b67" kindref="member" tooltip="Frees the given DBusUserInfo&amp;#39;s members with _dbus_user_info_free() and also calls dbus_free() on the ...">_dbus_user_info_free_allocated</ref>);</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db-&gt;users<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>failed;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/>db-&gt;groups<sp/>=<sp/><ref refid="group__DBusHashTable_1gac8e434348a354b9606d4c50c127a5eb4" kindref="member" tooltip="Constructs a new hash table.">_dbus_hash_table_new</ref><sp/>(<ref refid="group__DBusHashTable_1ggab0ab9767ffa5b6720a13b3d741630852a477caf35cc3676d6412c9b57f1d0f6c7" kindref="member" tooltip="Hash keys are integer capable to hold a pointer.">DBUS_HASH_UINTPTR</ref>,</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>,<sp/>(<ref refid="group__DBusMemory_1ga061bcded226d76c7d7de35beaa165cb5" kindref="member" tooltip="The type of a function which frees a block of memory.">DBusFreeFunction</ref>)<sp/><ref refid="group__DBusInternalsUtils_1gab9420d7a4a31329a00fd5709f8cf08ba" kindref="member" tooltip="Frees the given DBusGroupInfo&amp;#39;s members with _dbus_group_info_free() and also calls dbus_free() on th...">_dbus_group_info_free_allocated</ref>);</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db-&gt;groups<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>failed;</highlight></codeline>
<codeline lineno="552"><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/>db-&gt;users_by_name<sp/>=<sp/><ref refid="group__DBusHashTable_1gac8e434348a354b9606d4c50c127a5eb4" kindref="member" tooltip="Constructs a new hash table.">_dbus_hash_table_new</ref><sp/>(<ref refid="group__DBusHashTable_1ggab0ab9767ffa5b6720a13b3d741630852a481fd0166d28da725b3e97f15192434e" kindref="member" tooltip="Hash keys are strings.">DBUS_HASH_STRING</ref>,</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>,<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>);</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db-&gt;users_by_name<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>failed;</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/>db-&gt;groups_by_name<sp/>=<sp/><ref refid="group__DBusHashTable_1gac8e434348a354b9606d4c50c127a5eb4" kindref="member" tooltip="Constructs a new hash table.">_dbus_hash_table_new</ref><sp/>(<ref refid="group__DBusHashTable_1ggab0ab9767ffa5b6720a13b3d741630852a481fd0166d28da725b3e97f15192434e" kindref="member" tooltip="Hash keys are strings.">DBUS_HASH_STRING</ref>,</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>,<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>);</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db-&gt;groups_by_name<sp/>==<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>)</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>failed;</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>db;</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/>failed:</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><ref refid="group__DBusInternalsUtils_1ga55dbb78c415da040037442eca4c4e80e" kindref="member" tooltip="Decrements refcount of user database.">_dbus_user_database_unref</ref><sp/>(db);</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="568"><highlight class="normal">}</highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574" refid="group__DBusInternalsUtils_1gab553751e96f8506d10349fb5fb1eaa82" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1gab553751e96f8506d10349fb5fb1eaa82" kindref="member" tooltip="Flush all information out of the user database.">_dbus_user_database_flush</ref><sp/>(DBusUserDatabase<sp/>*db)<sp/></highlight></codeline>
<codeline lineno="575"><highlight class="normal">{</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><ref refid="group__DBusHashTable_1gad169f3790ca67f8a0adafcdc88ef7188" kindref="member" tooltip="Removed all entries from a hash table.">_dbus_hash_table_remove_all</ref>(db-&gt;users_by_name);</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><ref refid="group__DBusHashTable_1gad169f3790ca67f8a0adafcdc88ef7188" kindref="member" tooltip="Removed all entries from a hash table.">_dbus_hash_table_remove_all</ref>(db-&gt;groups_by_name);</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><ref refid="group__DBusHashTable_1gad169f3790ca67f8a0adafcdc88ef7188" kindref="member" tooltip="Removed all entries from a hash table.">_dbus_hash_table_remove_all</ref>(db-&gt;users);</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><ref refid="group__DBusHashTable_1gad169f3790ca67f8a0adafcdc88ef7188" kindref="member" tooltip="Removed all entries from a hash table.">_dbus_hash_table_remove_all</ref>(db-&gt;groups);</highlight></codeline>
<codeline lineno="580"><highlight class="normal">}</highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>DBUS_BUILD_TESTS</highlight></codeline>
<codeline lineno="583"><highlight class="preprocessor"></highlight></codeline>
<codeline lineno="588"><highlight class="normal">DBusUserDatabase<sp/>*</highlight></codeline>
<codeline lineno="589"><highlight class="normal">_dbus_user_database_ref<sp/>(DBusUserDatabase<sp/><sp/>*db)</highlight></codeline>
<codeline lineno="590"><highlight class="normal">{</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(db-&gt;refcount<sp/>&gt;<sp/>0);</highlight></codeline>
<codeline lineno="592"><highlight class="normal"></highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/>db-&gt;refcount<sp/>+=<sp/>1;</highlight></codeline>
<codeline lineno="594"><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>db;</highlight></codeline>
<codeline lineno="596"><highlight class="normal">}</highlight></codeline>
<codeline lineno="597"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DBUS_BUILD_TESTS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="598"><highlight class="normal"></highlight></codeline>
<codeline lineno="603"><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="604" refid="group__DBusInternalsUtils_1ga55dbb78c415da040037442eca4c4e80e" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1ga55dbb78c415da040037442eca4c4e80e" kindref="member" tooltip="Decrements refcount of user database.">_dbus_user_database_unref</ref><sp/>(DBusUserDatabase<sp/><sp/>*db)</highlight></codeline>
<codeline lineno="605"><highlight class="normal">{</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/>_dbus_assert<sp/>(db-&gt;refcount<sp/>&gt;<sp/>0);</highlight></codeline>
<codeline lineno="607"><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/>db-&gt;refcount<sp/>-=<sp/>1;</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db-&gt;refcount<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db-&gt;users)</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusHashTable_1ga96b777e00764b44e0f3216fd8478f5a9" kindref="member" tooltip="Decrements the reference count for a hash table, freeing the hash table if the count reaches zero...">_dbus_hash_table_unref</ref><sp/>(db-&gt;users);</highlight></codeline>
<codeline lineno="613"><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db-&gt;groups)</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusHashTable_1ga96b777e00764b44e0f3216fd8478f5a9" kindref="member" tooltip="Decrements the reference count for a hash table, freeing the hash table if the count reaches zero...">_dbus_hash_table_unref</ref><sp/>(db-&gt;groups);</highlight></codeline>
<codeline lineno="616"><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db-&gt;users_by_name)</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusHashTable_1ga96b777e00764b44e0f3216fd8478f5a9" kindref="member" tooltip="Decrements the reference count for a hash table, freeing the hash table if the count reaches zero...">_dbus_hash_table_unref</ref><sp/>(db-&gt;users_by_name);</highlight></codeline>
<codeline lineno="619"><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(db-&gt;groups_by_name)</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusHashTable_1ga96b777e00764b44e0f3216fd8478f5a9" kindref="member" tooltip="Decrements the reference count for a hash table, freeing the hash table if the count reaches zero...">_dbus_hash_table_unref</ref><sp/>(db-&gt;groups_by_name);</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusMemory_1ga34e666b19b015035a9a31e53da84b39a" kindref="member" tooltip="Frees a block of memory previously allocated by dbus_malloc() or dbus_malloc0().">dbus_free</ref><sp/>(db);</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="625"><highlight class="normal">}</highlight></codeline>
<codeline lineno="626"><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="638" refid="group__DBusInternalsUtils_1ga6a7e8b8cf3a6968972e9a49726022638" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1ga6a7e8b8cf3a6968972e9a49726022638" kindref="member" tooltip="Gets the user information for the given UID, returned user info should not be freed.">_dbus_user_database_get_uid</ref><sp/>(DBusUserDatabase<sp/><sp/><sp/><sp/>*db,</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__DBusSysdeps_1ga186e987b700f9ddc6cea8aa0db82b151" kindref="member" tooltip="A user ID.">dbus_uid_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uid,</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusUserInfo" kindref="compound" tooltip="Information about a UNIX user.">DBusUserInfo</ref><sp/>**info,</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structDBusError" kindref="compound" tooltip="Object representing an exception.">DBusError</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*error)</highlight></codeline>
<codeline lineno="642"><highlight class="normal">{</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/>*info<sp/>=<sp/><ref refid="group__DBusInternalsUtils_1ga959372f7d7cdea35ffbac3b78e29a1b0" kindref="member" tooltip="Looks up a uid or username in the user database.">_dbus_user_database_lookup</ref><sp/>(db,<sp/>uid,<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>,<sp/>error);</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*info<sp/>!=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="645"><highlight class="normal">}</highlight></codeline>
<codeline lineno="646"><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><ref refid="group__DBusTypes_1ga39c9cb0f3a2a8ad6f55cc4855d035349" kindref="member" tooltip="A boolean, valid values are TRUE and FALSE.">dbus_bool_t</ref></highlight></codeline>
<codeline lineno="657" refid="group__DBusInternalsUtils_1gaccf1d5b330707a1835dcf4ce49a29c8c" refkind="member"><highlight class="normal"><ref refid="group__DBusInternalsUtils_1gaccf1d5b330707a1835dcf4ce49a29c8c" kindref="member" tooltip="Gets the user information for the given username.">_dbus_user_database_get_username</ref><sp/><sp/>(DBusUserDatabase<sp/><sp/><sp/><sp/><sp/>*db,</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusString" kindref="compound">DBusString</ref><sp/><sp/><sp/><sp/><sp/>*username,</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structDBusUserInfo" kindref="compound" tooltip="Information about a UNIX user.">DBusUserInfo</ref><sp/><sp/>**info,</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structDBusError" kindref="compound" tooltip="Object representing an exception.">DBusError</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*error)</highlight></codeline>
<codeline lineno="661"><highlight class="normal">{</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/>*info<sp/>=<sp/><ref refid="group__DBusInternalsUtils_1ga959372f7d7cdea35ffbac3b78e29a1b0" kindref="member" tooltip="Looks up a uid or username in the user database.">_dbus_user_database_lookup</ref><sp/>(db,<sp/><ref refid="group__DBusSysdeps_1ga3d2f3fb32bb759cabe362ca2de383f7d" kindref="member" tooltip="an invalid UID used to represent an uninitialized dbus_uid_t field">DBUS_UID_UNSET</ref>,<sp/>username,<sp/>error);</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*info<sp/>!=<sp/><ref refid="group__DBusMacros_1ga070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member" tooltip="A null pointer, defined appropriately for C or C++.">NULL</ref>;</highlight></codeline>
<codeline lineno="664"><highlight class="normal">}</highlight></codeline>
<codeline lineno="665"><highlight class="normal"></highlight></codeline>
<codeline lineno="668"><highlight class="comment">/*<sp/>Tests<sp/>in<sp/>dbus-userdb-util.c<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/home/rpmuser/debian/debian_dbus/dbus-1.4.18/dbus/dbus-userdb.c"/>
  </compounddef>
</doxygen>
