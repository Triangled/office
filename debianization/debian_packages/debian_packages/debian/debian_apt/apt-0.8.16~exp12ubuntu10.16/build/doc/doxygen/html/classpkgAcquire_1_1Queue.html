<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>apt: pkgAcquire::Queue Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">apt
   &#160;<span id="projectnumber">@VERSION@</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classpkgAcquire.html">pkgAcquire</a>      </li>
      <li class="navelem"><a class="el" href="classpkgAcquire_1_1Queue.html">Queue</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">pkgAcquire::Queue Class Reference<div class="ingroups"><a class="el" href="group__acquire.html">Acquire system					{{{</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="pkgAcquire::Queue" -->
<p>A single download queue in a <a class="el" href="classpkgAcquire.html" title="The core download scheduler. {{{.">pkgAcquire</a> object. {{{.  
 <a href="classpkgAcquire_1_1Queue.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="acquire_8h_source.html">acquire.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for pkgAcquire::Queue:</div>
<div class="dyncontent">
<div class="center"><img src="classpkgAcquire_1_1Queue__coll__graph.png" border="0" usemap="#pkgAcquire_1_1Queue_coll__map" alt="Collaboration graph"/></div>
<map name="pkgAcquire_1_1Queue_coll__map" id="pkgAcquire_1_1Queue_coll__map">
<area shape="rect" id="node2" href="classpkgAcquire.html" title="The core download scheduler. {{{." alt="" coords="480,354,571,385"/><area shape="rect" id="node22" href="classpkgAcquire_1_1Worker.html" title="A fetch subprocess." alt="" coords="572,771,636,802"/><area shape="rect" id="node6" href="classpkgAcquire_1_1Item.html" title="Represents the process by which a pkgAcquire object should {{{ retrieve a file or a collection of fil..." alt="" coords="269,477,315,507"/><area shape="rect" id="node29" href="structpkgAcquire_1_1ItemDesc.html" title="Represents a single download source from which an item should be downloaded." alt="" coords="163,587,240,618"/><area shape="rect" id="node8" href="classWeakPointable.html" title="WeakPointable" alt="" coords="163,354,275,385"/><area shape="rect" id="node11" title="STL class." alt="" coords="461,89,515,119"/><area shape="rect" id="node16" href="structpkgAcquire_1_1MethodConfig.html" title="Information about the properties of a single acquire method. {{{." alt="" coords="517,206,624,237"/><area shape="rect" id="node13" title="STL class." alt="" coords="417,6,559,37"/><area shape="rect" id="node20" href="classpkgAcquireStatus.html" title="A monitor object for downloads controlled by the pkgAcquire class. {{{." alt="" coords="704,206,829,237"/><area shape="rect" id="node27" href="structpkgAcquire_1_1Queue_1_1QItem.html" title="A single item placed in this queue." alt="" coords="380,670,436,701"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classpkgAcquire_1_1Queue-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html">QItem</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A single item placed in this queue.  <a href="structpkgAcquire_1_1Queue_1_1QItem.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a2af342681f220fe125323f83c45dd074">Enqueue</a> (<a class="el" href="structpkgAcquire_1_1ItemDesc.html">ItemDesc</a> &amp;<a class="el" href="classpkgAcquire_1_1Item.html">Item</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert the given fetch request into this queue.  <a href="#a2af342681f220fe125323f83c45dd074"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a875744fa53902d8821377a9222166a47">Dequeue</a> (<a class="el" href="classpkgAcquire_1_1Item.html">Item</a> *<a class="el" href="classpkgAcquire_1_1Queue.html#a76f8c48f1e7f5669a16a9d5e863edd10">Owner</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all fetch requests for the given item from this queue.  <a href="#a875744fa53902d8821377a9222166a47"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html">QItem</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a93dd0d56b754871c7df506b719f2eff0">FindItem</a> (std::string <a class="el" href="classURI.html">URI</a>, <a class="el" href="classpkgAcquire_1_1Worker.html">pkgAcquire::Worker</a> *<a class="el" href="classpkgAcquire_1_1Queue.html#a76f8c48f1e7f5669a16a9d5e863edd10">Owner</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Locate an item in this queue.  <a href="#a93dd0d56b754871c7df506b719f2eff0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a76f3403ec41517cce48d96a5b1f54e1e">ItemStart</a> (<a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html">QItem</a> *Itm, unsigned long long Size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a6dc41a112e43fd568e47e7a9c682112c">ItemDone</a> (<a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html">QItem</a> *Itm)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the given item from this queue and set its state to <a class="el" href="classpkgAcquire_1_1Item.html#abd4abbf0fe1f8b5299675b590315b4b9a875850b5de48d7a0ae71c47fbbef4832" title="The item has been successfully downloaded.">pkgAcquire::Item::StatDone</a>.  <a href="#a6dc41a112e43fd568e47e7a9c682112c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#ab4442bc1bb880bd798d3c08a153364b8">Startup</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the worker process associated with this queue.  <a href="#ab4442bc1bb880bd798d3c08a153364b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a0483a6e5db0c15e5445bcc6a00262204">Shutdown</a> (bool Final)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Shut down the worker process associated with this queue.  <a href="#a0483a6e5db0c15e5445bcc6a00262204"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a5b2dd956b1adc90b13d47e26121d5486">Cycle</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send idle items to the worker process.  <a href="#a5b2dd956b1adc90b13d47e26121d5486"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#abf4fe627ab803887ecd2a8af30f17147">Bump</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for items that could be enqueued.  <a href="#abf4fe627ab803887ecd2a8af30f17147"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a5910193ab81fcc3e1d940ae25f30e9a4">Queue</a> (std::string <a class="el" href="classpkgAcquire_1_1Queue.html#adc852f586959ce13117d737cf3f14899">Name</a>, <a class="el" href="classpkgAcquire.html">pkgAcquire</a> *<a class="el" href="classpkgAcquire_1_1Queue.html#a76f8c48f1e7f5669a16a9d5e863edd10">Owner</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classpkgAcquire_1_1Queue.html" title="A single download queue in a pkgAcquire object. {{{.">Queue</a>.  <a href="#a5910193ab81fcc3e1d940ae25f30e9a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a240bdcfcc136e53aeaac3aa454cc26bf">~Queue</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc852f586959ce13117d737cf3f14899"></a><!-- doxytag: member="pkgAcquire::Queue::Name" ref="adc852f586959ce13117d737cf3f14899" args="" -->
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#adc852f586959ce13117d737cf3f14899">Name</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of this queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html">QItem</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a2f4e8b582eeece0747d3fee5858b1a27">Items</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The head of the list of items contained in this queue.  <a href="#a2f4e8b582eeece0747d3fee5858b1a27"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpkgAcquire_1_1Worker.html">pkgAcquire::Worker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#ae49de4816f8591cf1ccb70329d4dcb8c">Workers</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The head of the list of workers associated with this queue.  <a href="#ae49de4816f8591cf1ccb70329d4dcb8c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76f8c48f1e7f5669a16a9d5e863edd10"></a><!-- doxytag: member="pkgAcquire::Queue::Owner" ref="a76f8c48f1e7f5669a16a9d5e863edd10" args="" -->
<a class="el" href="classpkgAcquire.html">pkgAcquire</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a76f8c48f1e7f5669a16a9d5e863edd10">Owner</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the download scheduler with which this queue is associated. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9221078b3948388493f1b8360589b6e1"></a><!-- doxytag: member="pkgAcquire::Queue::PipeDepth" ref="a9221078b3948388493f1b8360589b6e1" args="" -->
signed long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#a9221078b3948388493f1b8360589b6e1">PipeDepth</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of entries in this queue that are currently being downloaded. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe522e42f9b11c8444f4a35369b8b16c"></a><!-- doxytag: member="pkgAcquire::Queue::MaxPipeDepth" ref="afe522e42f9b11c8444f4a35369b8b16c" args="" -->
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.html#afe522e42f9b11c8444f4a35369b8b16c">MaxPipeDepth</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of entries that this queue will attempt to download at once. <br/></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9e04de9ce779a3c0ad0b7142f7332d7"></a><!-- doxytag: member="pkgAcquire::Queue::pkgAcquire" ref="ae9e04de9ce779a3c0ad0b7142f7332d7" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><b>pkgAcquire</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f3074688254f637a6916a11ffdf045e"></a><!-- doxytag: member="pkgAcquire::Queue::pkgAcquire::UriIterator" ref="a8f3074688254f637a6916a11ffdf045e" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><b>pkgAcquire::UriIterator</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a98fe6798c77be5d7d2d21d21b650d860"></a><!-- doxytag: member="pkgAcquire::Queue::pkgAcquire::Worker" ref="a98fe6798c77be5d7d2d21d21b650d860" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><b>pkgAcquire::Worker</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A single download queue in a <a class="el" href="classpkgAcquire.html" title="The core download scheduler. {{{.">pkgAcquire</a> object. {{{. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>Why so many protected values? </dd></dl>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5910193ab81fcc3e1d940ae25f30e9a4"></a><!-- doxytag: member="pkgAcquire::Queue::Queue" ref="a5910193ab81fcc3e1d940ae25f30e9a4" args="(std::string Name, pkgAcquire *Owner)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpkgAcquire_1_1Queue.html">Queue</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpkgAcquire.html">pkgAcquire</a> *&#160;</td>
          <td class="paramname"><em>Owner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new <a class="el" href="classpkgAcquire_1_1Queue.html" title="A single download queue in a pkgAcquire object. {{{.">Queue</a>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Name</td><td>The name of the new queue. </td></tr>
    <tr><td class="paramname">Owner</td><td>The download process that owns the new queue. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classpkgAcquire_1_1Queue.html#a2f4e8b582eeece0747d3fee5858b1a27">Items</a>, <a class="el" href="classpkgAcquire_1_1Queue.html#afe522e42f9b11c8444f4a35369b8b16c">MaxPipeDepth</a>, <a class="el" href="classpkgAcquire_1_1Queue.html#a9221078b3948388493f1b8360589b6e1">PipeDepth</a>, and <a class="el" href="classpkgAcquire_1_1Queue.html#ae49de4816f8591cf1ccb70329d4dcb8c">Workers</a>.</p>

</div>
</div>
<a class="anchor" id="a240bdcfcc136e53aeaac3aa454cc26bf"></a><!-- doxytag: member="pkgAcquire::Queue::~Queue" ref="a240bdcfcc136e53aeaac3aa454cc26bf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classpkgAcquire_1_1Queue.html">Queue</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Shut down all the worker processes associated with this queue and empty the queue. </p>

<p>References <a class="el" href="classpkgAcquire.html#a8089d1f0a2e10710afe1d1488a1f1f72">pkgAcquire::Items</a>, and <a class="el" href="classpkgAcquire.html#ac5f038c2b480cf9ef5e19e3eba8dbaf9">pkgAcquire::Shutdown()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abf4fe627ab803887ecd2a8af30f17147"></a><!-- doxytag: member="pkgAcquire::Queue::Bump" ref="abf4fe627ab803887ecd2a8af30f17147" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classpkgAcquire_1_1Queue.html#abf4fe627ab803887ecd2a8af30f17147">Bump</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check for items that could be enqueued. </p>
<p>Call this after an item placed in multiple queues has gone from the <a class="el" href="classpkgAcquire_1_1Item.html#abd4abbf0fe1f8b5299675b590315b4b9a2438768d0d80b2bcbf37ffa6bae5d445" title="The item is currently being downloaded.">pkgAcquire::Item::StatFetching</a> state to the <a class="el" href="classpkgAcquire_1_1Item.html#abd4abbf0fe1f8b5299675b590315b4b9aafe4203baf90d29ba26cdca204795329" title="The item is waiting to be downloaded.">pkgAcquire::Item::StatIdle</a> state, to possibly refill an empty queue. This is an alias for <a class="el" href="classpkgAcquire_1_1Queue.html#a5b2dd956b1adc90b13d47e26121d5486" title="Send idle items to the worker process.">Cycle()</a>.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000024">Todo:</a></b></dt><dd>Why both this and <a class="el" href="classpkgAcquire_1_1Queue.html#a5b2dd956b1adc90b13d47e26121d5486" title="Send idle items to the worker process.">Cycle()</a>? Are they expected to be different someday? </dd></dl>

</div>
</div>
<a class="anchor" id="a5b2dd956b1adc90b13d47e26121d5486"></a><!-- doxytag: member="pkgAcquire::Queue::Cycle" ref="a5b2dd956b1adc90b13d47e26121d5486" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classpkgAcquire_1_1Queue.html#a5b2dd956b1adc90b13d47e26121d5486">Cycle</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send idle items to the worker process. </p>
<p>Fills up the pipeline by inserting idle items into the worker's queue. </p>

<p>References <a class="el" href="classpkgAcquire.html#a8089d1f0a2e10710afe1d1488a1f1f72">pkgAcquire::Items</a>, <a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html#a331709a06ee01c37a13929a1c7fb789d">pkgAcquire::Queue::QItem::Next</a>, <a class="el" href="structpkgAcquire_1_1ItemDesc.html#a991ea711651b5d291202505da64e379c">pkgAcquire::ItemDesc::Owner</a>, <a class="el" href="classpkgAcquire_1_1Worker.html#a37fbf2dea83d49ebf053ecc76c5b39b3">pkgAcquire::Worker::QueueItem()</a>, <a class="el" href="classpkgAcquire_1_1Item.html#abd4abbf0fe1f8b5299675b590315b4b9a2438768d0d80b2bcbf37ffa6bae5d445">pkgAcquire::Item::StatFetching</a>, <a class="el" href="classpkgAcquire_1_1Item.html#abd4abbf0fe1f8b5299675b590315b4b9aafe4203baf90d29ba26cdca204795329">pkgAcquire::Item::StatIdle</a>, <a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html#a9350fcccd89c15edaa037641ad85f88b">pkgAcquire::Queue::QItem::Worker</a>, and <a class="el" href="classpkgAcquire.html#adfb69296d9a50a92927df7c30e56be2e">pkgAcquire::Workers</a>.</p>

</div>
</div>
<a class="anchor" id="a875744fa53902d8821377a9222166a47"></a><!-- doxytag: member="pkgAcquire::Queue::Dequeue" ref="a875744fa53902d8821377a9222166a47" args="(Item *Owner)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classpkgAcquire_1_1Queue.html#a875744fa53902d8821377a9222166a47">Dequeue</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpkgAcquire_1_1Item.html">Item</a> *&#160;</td>
          <td class="paramname"><em>Owner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove all fetch requests for the given item from this queue. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><b>true</b> if at least one request was removed from the queue. </dd></dl>

<p>References <a class="el" href="classpkgAcquire.html#a8089d1f0a2e10710afe1d1488a1f1f72">pkgAcquire::Items</a>, <a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html#a331709a06ee01c37a13929a1c7fb789d">pkgAcquire::Queue::QItem::Next</a>, <a class="el" href="classpkgAcquire_1_1Item.html#a1d1d5538b9875279b01b81e1ef494601">pkgAcquire::Item::QueueCounter</a>, and <a class="el" href="classpkgAcquire_1_1Item.html#abd4abbf0fe1f8b5299675b590315b4b9a2438768d0d80b2bcbf37ffa6bae5d445">pkgAcquire::Item::StatFetching</a>.</p>

<p>Referenced by <a class="el" href="classpkgAcquire.html#ad88e269d0297439604f25eb9c1309286">pkgAcquire::Dequeue()</a>.</p>

</div>
</div>
<a class="anchor" id="a2af342681f220fe125323f83c45dd074"></a><!-- doxytag: member="pkgAcquire::Queue::Enqueue" ref="a2af342681f220fe125323f83c45dd074" args="(ItemDesc &amp;Item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classpkgAcquire_1_1Queue.html#a2af342681f220fe125323f83c45dd074">Enqueue</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpkgAcquire_1_1ItemDesc.html">ItemDesc</a> &amp;&#160;</td>
          <td class="paramname"><em>Item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Insert the given fetch request into this queue. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><b>true</b> if the queuing was successful. May return <b>false</b> if the <a class="el" href="classpkgAcquire_1_1Item.html" title="Represents the process by which a pkgAcquire object should {{{ retrieve a file or a collection of fil...">Item</a> is already in the queue </dd></dl>

<p>References <a class="el" href="classpkgAcquire.html#a8089d1f0a2e10710afe1d1488a1f1f72">pkgAcquire::Items</a>, <a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html#a331709a06ee01c37a13929a1c7fb789d">pkgAcquire::Queue::QItem::Next</a>, <a class="el" href="structpkgAcquire_1_1ItemDesc.html#a991ea711651b5d291202505da64e379c">pkgAcquire::ItemDesc::Owner</a>, <a class="el" href="classpkgAcquire_1_1Item.html#a1d1d5538b9875279b01b81e1ef494601">pkgAcquire::Item::QueueCounter</a>, <a class="el" href="classpkgAcquire_1_1Item.html#abd4abbf0fe1f8b5299675b590315b4b9a875850b5de48d7a0ae71c47fbbef4832">pkgAcquire::Item::StatDone</a>, and <a class="el" href="structpkgAcquire_1_1ItemDesc.html#aaf8eea5037c53d12d3f31ab9e032712c">pkgAcquire::ItemDesc::URI</a>.</p>

<p>Referenced by <a class="el" href="classpkgAcquire.html#adff4865b0b932d7c8dae0aee44006c13">pkgAcquire::Enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a93dd0d56b754871c7df506b719f2eff0"></a><!-- doxytag: member="pkgAcquire::Queue::FindItem" ref="a93dd0d56b754871c7df506b719f2eff0" args="(std::string URI, pkgAcquire::Worker *Owner)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html">pkgAcquire::Queue::QItem</a> * <a class="el" href="classpkgAcquire_1_1Queue.html#a93dd0d56b754871c7df506b719f2eff0">FindItem</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>URI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpkgAcquire_1_1Worker.html">pkgAcquire::Worker</a> *&#160;</td>
          <td class="paramname"><em>Owner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Locate an item in this queue. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="classURI.html">URI</a></td><td>A <a class="el" href="classURI.html">URI</a> to match against. </td></tr>
    <tr><td class="paramname">Owner</td><td>A <a class="el" href="classpkgAcquire_1_1Worker.html" title="A fetch subprocess.">pkgAcquire::Worker</a> to match against.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the first item in the queue whose <a class="el" href="classURI.html">URI</a> is <a class="el" href="classURI.html">URI</a> and that is being downloaded by <a class="el" href="classpkgAcquire_1_1Queue.html#a76f8c48f1e7f5669a16a9d5e863edd10" title="the download scheduler with which this queue is associated.">Owner</a>. </dd></dl>

<p>References <a class="el" href="classpkgAcquire.html#a8089d1f0a2e10710afe1d1488a1f1f72">pkgAcquire::Items</a>.</p>

</div>
</div>
<a class="anchor" id="a6dc41a112e43fd568e47e7a9c682112c"></a><!-- doxytag: member="pkgAcquire::Queue::ItemDone" ref="a6dc41a112e43fd568e47e7a9c682112c" args="(QItem *Itm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classpkgAcquire_1_1Queue.html#a6dc41a112e43fd568e47e7a9c682112c">ItemDone</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html">QItem</a> *&#160;</td>
          <td class="paramname"><em>Itm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove the given item from this queue and set its state to <a class="el" href="classpkgAcquire_1_1Item.html#abd4abbf0fe1f8b5299675b590315b4b9a875850b5de48d7a0ae71c47fbbef4832" title="The item has been successfully downloaded.">pkgAcquire::Item::StatDone</a>. </p>
<p>If this is the only queue containing the item, the item is also removed from the main queue by calling <a class="el" href="classpkgAcquire.html#ad88e269d0297439604f25eb9c1309286" title="Remove all fetch requests for this item from all queues.">pkgAcquire::Dequeue</a>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Itm</td><td>The item to remove.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><b>true</b> if no errors are encountered. </dd></dl>

<p>References <a class="el" href="classpkgAcquire.html#ad88e269d0297439604f25eb9c1309286">pkgAcquire::Dequeue()</a>, <a class="el" href="structpkgAcquire_1_1ItemDesc.html#a991ea711651b5d291202505da64e379c">pkgAcquire::ItemDesc::Owner</a>, <a class="el" href="classpkgAcquire_1_1Item.html#a1d1d5538b9875279b01b81e1ef494601">pkgAcquire::Item::QueueCounter</a>, <a class="el" href="classpkgAcquire_1_1Item.html#abd4abbf0fe1f8b5299675b590315b4b9a875850b5de48d7a0ae71c47fbbef4832">pkgAcquire::Item::StatDone</a>, and <a class="el" href="classpkgAcquire_1_1Item.html#abd4abbf0fe1f8b5299675b590315b4b9a2438768d0d80b2bcbf37ffa6bae5d445">pkgAcquire::Item::StatFetching</a>.</p>

</div>
</div>
<a class="anchor" id="a76f3403ec41517cce48d96a5b1f54e1e"></a><!-- doxytag: member="pkgAcquire::Queue::ItemStart" ref="a76f3403ec41517cce48d96a5b1f54e1e" args="(QItem *Itm, unsigned long long Size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classpkgAcquire_1_1Queue.html#a76f3403ec41517cce48d96a5b1f54e1e">ItemStart</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html">QItem</a> *&#160;</td>
          <td class="paramname"><em>Itm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Presumably this should start downloading an item?</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000023">Todo:</a></b></dt><dd>Unimplemented. Implement it or remove? </dd></dl>

</div>
</div>
<a class="anchor" id="a0483a6e5db0c15e5445bcc6a00262204"></a><!-- doxytag: member="pkgAcquire::Queue::Shutdown" ref="a0483a6e5db0c15e5445bcc6a00262204" args="(bool Final)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classpkgAcquire_1_1Queue.html#a0483a6e5db0c15e5445bcc6a00262204">Shutdown</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Final</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shut down the worker process associated with this queue. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Final</td><td>If <b>true</b>, then the process is stopped unconditionally. Otherwise, it is only stopped if it does not need cleanup as indicated by the pkgAcqMethod::NeedsCleanup member of its configuration.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><b>true</b>. </dd></dl>

<p>References <a class="el" href="classpkgAcquire_1_1Worker.html#af6ace6a8dd9e4dd8d12815078706b00c">pkgAcquire::Worker::GetConf()</a>, <a class="el" href="structpkgAcquire_1_1MethodConfig.html#a18ab15b6a105e10118c35973765cce34">pkgAcquire::MethodConfig::NeedsCleanup</a>, <a class="el" href="classpkgAcquire_1_1Worker.html#a70b012fdfb38bfe94b52924d45c5462d">pkgAcquire::Worker::NextQueue</a>, and <a class="el" href="classpkgAcquire.html#adfb69296d9a50a92927df7c30e56be2e">pkgAcquire::Workers</a>.</p>

</div>
</div>
<a class="anchor" id="ab4442bc1bb880bd798d3c08a153364b8"></a><!-- doxytag: member="pkgAcquire::Queue::Startup" ref="ab4442bc1bb880bd798d3c08a153364b8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classpkgAcquire_1_1Queue.html#ab4442bc1bb880bd798d3c08a153364b8">Startup</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start the worker process associated with this queue. </p>
<p>If a worker process is already associated with this queue, this is equivalent to calling <a class="el" href="classpkgAcquire_1_1Queue.html#a5b2dd956b1adc90b13d47e26121d5486" title="Send idle items to the worker process.">Cycle()</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><b>true</b> if the startup was successful. </dd></dl>

<p>References <a class="el" href="structpkgAcquire_1_1MethodConfig.html#a184f137ba7f14f7867d1480d05645973">pkgAcquire::MethodConfig::Pipeline</a>, <a class="el" href="classpkgAcquire_1_1Worker.html#aa70efaa4751ac6d5d54dce88fe725e0a">pkgAcquire::Worker::Start()</a>, and <a class="el" href="classpkgAcquire.html#adfb69296d9a50a92927df7c30e56be2e">pkgAcquire::Workers</a>.</p>

<p>Referenced by <a class="el" href="classpkgAcquire.html#adff4865b0b932d7c8dae0aee44006c13">pkgAcquire::Enqueue()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a2f4e8b582eeece0747d3fee5858b1a27"></a><!-- doxytag: member="pkgAcquire::Queue::Items" ref="a2f4e8b582eeece0747d3fee5858b1a27" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.html">QItem</a>* <a class="el" href="classpkgAcquire_1_1Queue.html#a2f4e8b582eeece0747d3fee5858b1a27">Items</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The head of the list of items contained in this queue. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000020">Todo:</a></b></dt><dd>why a by-hand list instead of an STL structure? </dd></dl>

<p>Referenced by <a class="el" href="classpkgAcquire_1_1Queue.html#a5910193ab81fcc3e1d940ae25f30e9a4">Queue()</a>, and <a class="el" href="classpkgAcquire_1_1UriIterator.html#ad7be95273598f4fcd8b0279f7f8145fc">pkgAcquire::UriIterator::UriIterator()</a>.</p>

</div>
</div>
<a class="anchor" id="ae49de4816f8591cf1ccb70329d4dcb8c"></a><!-- doxytag: member="pkgAcquire::Queue::Workers" ref="ae49de4816f8591cf1ccb70329d4dcb8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpkgAcquire_1_1Worker.html">pkgAcquire::Worker</a>* <a class="el" href="classpkgAcquire_1_1Queue.html#ae49de4816f8591cf1ccb70329d4dcb8c">Workers</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The head of the list of workers associated with this queue. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000021">Todo:</a></b></dt><dd>This is plural because support exists in <a class="el" href="classpkgAcquire_1_1Queue.html" title="A single download queue in a pkgAcquire object. {{{.">Queue</a> for multiple workers. However, it does not appear that there is any way to actually associate more than one worker with a queue.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000022">Todo:</a></b></dt><dd>Why not just use a std::set? </dd></dl>

<p>Referenced by <a class="el" href="classpkgAcquire_1_1Queue.html#a5910193ab81fcc3e1d940ae25f30e9a4">Queue()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/rpmuser/debian/debian_apt/apt-0.8.16~exp12ubuntu10.16/apt-pkg/<a class="el" href="acquire_8h_source.html">acquire.h</a></li>
<li>/home/rpmuser/debian/debian_apt/apt-0.8.16~exp12ubuntu10.16/apt-pkg/acquire.cc</li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 26 2014 10:58:09 for apt by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
